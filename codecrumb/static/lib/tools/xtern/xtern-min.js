!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Split=e()}(this,function(){"use strict";var t=window,e=t.document,i="addEventListener",r="removeEventListener",n="getBoundingClientRect",s="horizontal",a=function(){return!1},o=t.attachEvent&&!t[i],u=["","-webkit-","-moz-","-o-"].filter(function(t){var i=e.createElement("div");return i.style.cssText="width:"+t+"calc(9px)",!!i.style.length}).shift()+"calc",h=function(t){return"string"==typeof t||t instanceof String},l=function(t){if(h(t)){var i=e.querySelector(t);if(!i)throw new Error("Selector "+t+" did not match a DOM element");return i}return t},c=function(t,e,i){var r=t[e];return void 0!==r?r:i},p=function(t,e,i,r){if(e){if("end"===r)return 0;if("center"===r)return t/2}else if(i){if("start"===r)return 0;if("center"===r)return t/2}return t},f=function(t,i){var r=e.createElement("div");return r.className="gutter gutter-"+i,r},d=function(t,e,i){var r={};return h(e)?r[t]=e:r[t]=o?e+"%":u+"("+e+"% - "+i+"px)",r},v=function(t,e){var i;return(i={})[t]=e+"px",i};return function(u,h){void 0===h&&(h={});var m,g,x,y,D,C,k=u;Array.from&&(k=Array.from(k));var b=l(k[0]).parentNode,E=getComputedStyle?getComputedStyle(b).flexDirection:null,S=c(h,"sizes")||k.map(function(){return 100/k.length}),A=c(h,"minSize",100),w=Array.isArray(A)?A:k.map(function(){return A}),F=c(h,"expandToMin",!1),B=c(h,"gutterSize",10),$=c(h,"gutterAlign","center"),T=c(h,"snapOffset",30),_=c(h,"dragInterval",1),M=c(h,"direction",s),I=c(h,"cursor",M===s?"col-resize":"row-resize"),P=c(h,"gutter",f),N=c(h,"elementStyle",d),O=c(h,"gutterStyle",v);function U(t,e,i,r){var n=N(m,e,i,r);Object.keys(n).forEach(function(e){t.style[e]=n[e]})}function L(){return C.map(function(t){return t.size})}function z(t){return"touches"in t?t.touches[0][g]:t[g]}function R(t){var e=C[this.a],i=C[this.b],r=e.size+i.size;e.size=t/this.size*r,i.size=r-t/this.size*r,U(e.element,e.size,this._b,e.i),U(i.element,i.size,this._c,i.i)}function X(){var t=C[this.a].element,e=C[this.b].element,i=t[n](),r=e[n]();this.size=i[m]+r[m]+this._b+this._c,this.start=i[x],this.end=i[y]}function j(t){var e=function(t){if(!getComputedStyle)return null;var e=getComputedStyle(t),i=t[D];return 0===i?null:i-=M===s?parseFloat(e.paddingLeft)+parseFloat(e.paddingRight):parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)}(b);if(null===e)return t;var i=0,r=[],n=t.map(function(n,s){var a=e*n/100,o=p(B,0===s,s===t.length-1,$),u=w[s]+o;return a<u?(i+=u-a,r.push(0),u):(r.push(a-u),a)});return 0===i?t:n.map(function(t,n){var s=t;if(0<i&&0<r[n]-i){var a=Math.min(i,r[n]-i);i-=a,s=t-a}return s/e*100})}function J(n){if(!("button"in n&&0!==n.button)){var s=this,o=C[s.a].element,u=C[s.b].element;s.dragging||c(h,"onDragStart",a)(L()),n.preventDefault(),s.dragging=!0,s.move=function(t){var e,i=C[this.a],r=C[this.b];this.dragging&&(e=z(t)-this.start+(this._b-this.dragOffset),1<_&&(e=Math.round(e/_)*_),e<=i.minSize+T+this._b?e=i.minSize+this._b:e>=this.size-(r.minSize+T+this._c)&&(e=this.size-(r.minSize+this._c)),R.call(this,e),c(h,"onDrag",a)())}.bind(s),s.stop=function(){var i=this,n=C[i.a].element,s=C[i.b].element;i.dragging&&c(h,"onDragEnd",a)(L()),i.dragging=!1,t[r]("mouseup",i.stop),t[r]("touchend",i.stop),t[r]("touchcancel",i.stop),t[r]("mousemove",i.move),t[r]("touchmove",i.move),i.stop=null,i.move=null,n[r]("selectstart",a),n[r]("dragstart",a),s[r]("selectstart",a),s[r]("dragstart",a),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",s.style.userSelect="",s.style.webkitUserSelect="",s.style.MozUserSelect="",s.style.pointerEvents="",i.gutter.style.cursor="",i.parent.style.cursor="",e.body.style.cursor=""}.bind(s),t[i]("mouseup",s.stop),t[i]("touchend",s.stop),t[i]("touchcancel",s.stop),t[i]("mousemove",s.move),t[i]("touchmove",s.move),o[i]("selectstart",a),o[i]("dragstart",a),u[i]("selectstart",a),u[i]("dragstart",a),o.style.userSelect="none",o.style.webkitUserSelect="none",o.style.MozUserSelect="none",o.style.pointerEvents="none",u.style.userSelect="none",u.style.webkitUserSelect="none",u.style.MozUserSelect="none",u.style.pointerEvents="none",s.gutter.style.cursor=I,s.parent.style.cursor=I,e.body.style.cursor=I,X.call(s),s.dragOffset=z(n)-s.end}}M===s?(m="width",g="clientX",x="left",y="right",D="clientWidth"):"vertical"===M&&(m="height",g="clientY",x="top",y="bottom",D="clientHeight"),S=j(S);var H=[];function V(t){var e=t.i===H.length,i=e?H[t.i-1]:H[t.i];X.call(i);var r=e?i.size-t.minSize-i._c:t.minSize+i._b;R.call(i,r)}function K(t){var e=j(t);e.forEach(function(t,i){if(0<i){var r=H[i-1],n=C[r.a],s=C[r.b];n.size=e[i-1],s.size=t,U(n.element,n.size,r._b),U(s.element,s.size,r._c)}})}function G(t,e){H.forEach(function(i){if(!0!==e?i.parent.removeChild(i.gutter):(i.gutter[r]("mousedown",i._a),i.gutter[r]("touchstart",i._a)),!0!==t){var n=N(m,i.a.size,i._b);Object.keys(n).forEach(function(t){C[i.a].element.style[t]="",C[i.b].element.style[t]=""})}})}return(C=k.map(function(t,e){var r,n,s,a={element:l(t),size:S[e],minSize:w[e],i:e};if(0<e&&((r={a:e-1,b:e,dragging:!1,direction:M,parent:b})._b=p(B,e-1==0,!1,$),r._c=p(B,!1,e===k.length-1,$),"row-reverse"===E||"column-reverse"===E)){var u=r.a;r.a=r.b,r.b=u}if(!o&&0<e){var h=P(e,M,a.element);n=h,s=O(m,B,e),Object.keys(s).forEach(function(t){n.style[t]=s[t]}),r._a=J.bind(r),h[i]("mousedown",r._a),h[i]("touchstart",r._a),b.insertBefore(h,a.element),r.gutter=h}return U(a.element,a.size,p(B,0===e,e===k.length-1,$)),0<e&&H.push(r),a})).forEach(function(t){var e=t.element[n]()[m];e<t.minSize&&(F?V(t):t.minSize=e)}),o?{setSizes:K,destroy:G}:{setSizes:K,getSizes:L,collapse:function(t){V(C[t])},destroy:G,parent:b,pairs:H}}});var CodeMirrorColorPicker=function(){"use strict";function t(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),"hex"==n?e(t):"rgb"==n?i(t,s):"hsl"==n?r(t):t}function e(t){Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]});var e=t.r.toString(16);t.r<16&&(e="0"+e);var i=t.g.toString(16);t.g<16&&(i="0"+i);var r=t.b.toString(16);return t.b<16&&(r="0"+r),"#"+e+i+r}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba(0, 0, 0, 0)";if(Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),void 0!==t)return 1==t.a||void 0===t.a?isNaN(t.r)?e:"rgb("+t.r+","+t.g+","+t.b+")":"rgba("+t.r+","+t.g+","+t.b+","+t.a+")"}function r(t){return Array.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),1==t.a||void 0===t.a?"hsl("+t.h+","+t.s+"%,"+t.l+"%)":"hsla("+t.h+","+t.s+"%,"+t.l+"%,"+t.a+")"}var n={format:t,rgb:i,hsl:r,hex:e};function s(t,e){return e=void 0===e?1:e,Math.round(t*e)/e}function a(t){return t*Math.PI/180}function o(t){var e=180*t/Math.PI;return e<0&&(e=360+e),e}function u(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+e*Math.cos(a(t))}function h(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)+e*Math.sin(a(t))}function l(t,e){return o(Math.atan2(e,t))}var c={round:s,radianToDegree:o,degreeToRadian:a,getXInCircle:u,getYInCircle:h,caculateAngle:l};function p(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}var n=t/255,s=e/255,a=i/255,o=Math.max(n,s,a),u=o-Math.min(n,s,a),h=0;return 0==u?h=0:o==n?h=(s-a)/u%6*60:o==s?h=60*((a-n)/u+2):o==a&&(h=60*((n-s)/u+4)),h<0&&(h=360+h),{h:h,s:0==o?0:u/o,v:o}}function f(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}t/=255,e/=255,i/=255;var n,a,o=Math.max(t,e,i),u=Math.min(t,e,i),h=(o+u)/2;if(o==u)n=a=0;else{var l=o-u;switch(a=h>.5?l/(2-o-u):l/(o+u),o){case t:n=(e-i)/l+(e<i?6:0);break;case e:n=(i-t)/l+2;break;case i:n=(t-e)/l+4}n/=6}return{h:s(360*n),s:s(100*a),l:s(100*h)}}function d(t){return{r:t,g:t,b:t}}function v(t,e,i){return Math.ceil(.2126*t+.7152*e+.0722*i)}function m(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}var n=v(t,e,i);return{y:n,cr:.713*(t-n),cb:.564*(i-n)}}function g(t){return 100*(t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)}function x(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}var n=t/255,s=e/255,a=i/255;return{x:.4124*(n=g(n))+.3576*(s=g(s))+.1805*(a=g(a)),y:.2126*n+.7152*s+.0722*a,z:.0193*n+.1192*s+.9505*a}}var y={RGBtoCMYK:function(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}var n=t/255,s=e/255,a=i/255,o=1-Math.max(n,s,a);return{c:(1-n-o)/(1-o),m:(1-s-o)/(1-o),y:(1-a-o)/(1-o),k:o}},RGBtoGray:function(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}return d(m(t,e,i).y)},RGBtoHSL:f,RGBtoHSV:p,RGBtoLAB:function(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}return XYZtoLAB(x(t,e,i))},RGBtoSimpleGray:function(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}return d(Math.ceil((t+e+i)/3))},RGBtoXYZ:x,RGBtoYCrCb:m,c:function(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.r,e=r.g,i=r.b}return d((t+e+i)/3>90?0:255)},brightness:v,gray:d};function D(t){return Math.pow(t,3)>.008856?Math.pow(t,3):(t-16/116)/7.787}function C(t){return t>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t}function k(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.x,e=r.y,i=r.z}var n=t/100,a=e/100,o=i/100,u=3.2406*n+-1.5372*a+-.4986*o,h=-.9689*n+1.8758*a+.0415*o,l=.0557*n+-.204*a+1.057*o;return u=C(u),h=C(h),l=C(l),{r:s(255*u),g:s(255*h),b:s(255*l)}}function b(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,i=r.b}var n=(t+16)/116,s=e/500+n,a=n-i/200;return n=D(n),{x:95.047*(s=D(s)),y:100*n,z:108.883*(a=D(a))}}var E={XYZtoRGB:k,LABtoRGB:function(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.l,e=r.a,i=r.b}return k(b(t,e,i))},LABtoXYZ:b};function S(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,i=r.v}var n=t,a=i;n>=360&&(n=0);var o=e*a,u=o*(1-Math.abs(n/60%2-1)),h=a-o,l=[];return 0<=n&&n<60?l=[o,u,0]:60<=n&&n<120?l=[u,o,0]:120<=n&&n<180?l=[0,o,u]:180<=n&&n<240?l=[0,u,o]:240<=n&&n<300?l=[u,0,o]:300<=n&&n<360&&(l=[o,0,u]),{r:s(255*(l[0]+h)),g:s(255*(l[1]+h)),b:s(255*(l[2]+h))}}var A={HSVtoHSL:function(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,i=r.v}var n=S(t,e,i);return f(n.r,n.g,n.b)},HSVtoRGB:S};function w(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function F(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,i=r.l}var n,a,o;if(t/=360,i/=100,0==(e/=100))n=a=o=i;else{var u=i<.5?i*(1+e):i+e-i*e,h=2*i-u;n=w(h,u,t+1/3),a=w(h,u,t),o=w(h,u,t-1/3)}return{r:s(255*n),g:s(255*a),b:s(255*o)}}var B={HUEtoRGB:w,HSLtoHSV:function(t,e,i){if(1==arguments.length){var r=arguments[0];t=r.h,e=r.s,i=r.l}var n=F(t,e,i);return p(n.r,n.g,n.b)},HSLtoRGB:F},$={YCrCbtoRGB:function(t,e,i,r){if(1==arguments.length){var n=arguments[0];t=n.y,e=n.cr,i=n.cb,r=(r=n.bit)||0}var s=t+1.402*(e-r),a=t-.344*(i-r)-.714*(e-r),o=t+1.772*(i-r);return{r:Math.ceil(s),g:Math.ceil(a),b:Math.ceil(o)}}},T={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"},_={isColorName:function(t){return!!T[t]},getColorByName:function(t){return T[t]}},M=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},I=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),P=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},O=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var a=n.get;return void 0!==a?a.call(r):void 0},U=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},L=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},z=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],r=!0,n=!1,s=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){n=!0,s=t}finally{try{!r&&o.return&&o.return()}finally{if(n)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},R=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},X=/(#(?:[\da-f]{3}){1,2}|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi;function j(t){var e=t.match(X),i=[];if(!e)return i;for(var r=0,n=e.length;r<n;r++)if(e[r].indexOf("#")>-1||e[r].indexOf("rgb")>-1||e[r].indexOf("hsl")>-1)i.push({color:e[r]});else{var s=_.getColorByName(e[r]);s&&i.push({color:e[r],nameColor:s})}var a={next:0};return i.forEach(function(e){var i=t.indexOf(e.color,a.next);e.startIndex=i,e.endIndex=i+e.color.length,a.next=e.endIndex}),i}function J(t){var e=j(t);return e.forEach(function(e,i){t=t.replace(e.color,"@"+i)}),{str:t,matches:e}}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",i=J(t);return i.str.split(e).map(function(t,e){return t=K(t),i.matches[e]&&(t=t.replace("@"+e,i.matches[e].color)),t})}function V(t,e){return e.forEach(function(e,i){t=t.replace("@"+i,e.color)}),t}function K(t){return t.replace(/^\s+|\s+$/g,"")}function G(t){if("string"==typeof t){if(_.isColorName(t)&&(t=_.getColorByName(t)),t.indexOf("rgb(")>-1){for(var e=0,i=(n=t.replace("rgb(","").replace(")","").split(",")).length;e<i;e++)n[e]=parseInt(K(n[e]),10);var r={type:"rgb",r:n[0],g:n[1],b:n[2],a:1};return Object.assign(r,f(r))}if(t.indexOf("rgba(")>-1){for(e=0,i=(n=t.replace("rgba(","").replace(")","").split(",")).length;e<i;e++)n[e]=i-1==e?parseFloat(K(n[e])):parseInt(K(n[e]),10);return r={type:"rgb",r:n[0],g:n[1],b:n[2],a:n[3]},Object.assign(r,f(r))}if(t.indexOf("hsl(")>-1){for(e=0,i=(n=t.replace("hsl(","").replace(")","").split(",")).length;e<i;e++)n[e]=parseFloat(K(n[e]));return r={type:"hsl",h:n[0],s:n[1],l:n[2],a:1},Object.assign(r,F(r))}if(t.indexOf("hsla(")>-1){for(e=0,i=(n=t.replace("hsla(","").replace(")","").split(",")).length;e<i;e++)n[e]=i-1==e?parseFloat(K(n[e])):parseInt(K(n[e]),10);return r={type:"hsl",h:n[0],s:n[1],l:n[2],a:n[3]},Object.assign(r,F(r))}if(0==t.indexOf("#")){var n=[];if(3==(t=t.replace("#","")).length)for(e=0,i=t.length;e<i;e++){var s=t.substr(e,1);n.push(parseInt(s+s,16))}else for(e=0,i=t.length;e<i;e+=2)n.push(parseInt(t.substr(e,2),16));return r={type:"hex",r:n[0],g:n[1],b:n[2],a:1},Object.assign(r,f(r))}}else if("number"==typeof t){if(0<=t&&t<=16777215)return r={type:"hex",r:(16711680&t)>>16,g:(65280&t)>>8,b:(255&t)>>0,a:1},Object.assign(r,f(r));if(0<=t&&t<=4294967295)return r={type:"hex",r:(4278190080&t)>>24,g:(16711680&t)>>16,b:(65280&t)>>8,a:(255&t)/255},Object.assign(r,f(r))}return t}function W(t){"string"==typeof t&&(t=H(t));var e=(t=t.map(function(t){if("string"==typeof t){var e=J(t),i=K(e.str).split(" ");return i[1]?i[1].includes("%")?i[1]=parseFloat(i[1].replace(/%/,""))/100:i[1]=parseFloat(i[1]):i[1]="*",i[0]=V(i[0],e.matches),i}if(Array.isArray(t))return t[1]?"string"==typeof t[1]&&(t[1].includes("%")?t[1]=parseFloat(t[1].replace(/%/,""))/100:t[1]=+t[1]):t[1]="*",[].concat(R(t))})).filter(function(t){return"*"===t[1]}).length;if(e>0){var i=(1-t.filter(function(t){return"*"!=t[1]&&1!=t[1]}).map(function(t){return t[1]}).reduce(function(t,e){return t+e},0))/e;t.forEach(function(e,r){"*"==e[1]&&r>0&&(t.length-1==r||(e[1]=i))})}return t}var Y={matches:j,convertMatches:J,convertMatchesArray:H,reverseMatches:V,parse:G,parseGradient:W,trim:K,color_regexp:X,color_split:","};function q(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex",a={r:s(e.r+(i.r-e.r)*r),g:s(e.g+(i.g-e.g)*r),b:s(e.b+(i.b-e.b)*r),a:s(e.a+(i.a-e.a)*r,100)};return t(a,a.a<1?"rgb":n)}function Z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(!t)return[];"string"==typeof t&&(t=H(t));for(var i=(t=t||[]).length,r=[],n=0;n<i-1;n++)for(var s=0;s<e;s++)r.push(Q(t[n],t[n+1],s/e));return r}function Q(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return q(G(t),G(e),i,r)}function tt(t){return t=G(t),(Math.round(299*t.r)+Math.round(587*t.g)+Math.round(114*t.b))/1e3}function et(e){for(var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,u=p(G(e)),h=(a-s)*o/r,l=[],c=1;c<=r;c++)u[i]=Math.abs((o-h*c)/o),l.push(t(S(u),n));return l}Z.parula=function(t){return Z(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],t)},Z.jet=function(t){return Z(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],t)},Z.hsv=function(t){return Z(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],t)},Z.hot=function(t){return Z(["#0b0000","#ff0000","#ffff00","#ffffff"],t)},Z.pink=function(t){return Z(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],t)},Z.bone=function(t){return Z(["#000000","#4a4a68","#a6c6c6","#ffffff"],t)},Z.copper=function(t){return Z(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],t)};var it={interpolateRGB:q,blend:Q,mix:function(t,e){return Q(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex")},scale:Z,contrast:tt,contrastColor:function(t){return tt(t)>=128?"black":"white"},gradient:function(t){for(var e=[],i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:10)-((t=W(t)).length-1),r=i,n=1,s=t.length;n<s;n++){var a=t[n-1][0],o=t[n][0],u=1==n?t[n][1]:t[n][1]-t[n-1][1],h=n==t.length-1?r:Math.floor(u*i);e=e.concat(Z([a,o],h),[o]),r-=h}return e},scaleHSV:et,scaleH:function(t){return et(t,"h",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:360,1)},scaleS:function(t){return et(t,"s",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)},scaleV:function(t){return et(t,"v",arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb",arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,100)}};function rt(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;++i)if(t[i]!==e[i])return!1;return!0}var nt={euclidean:function(t,e){for(var i=0,r=0,n=t.length;r<n;r++)i+=Math.pow(e[r]-t[r],2);return Math.sqrt(i)},manhattan:function(t,e){for(var i=0,r=0,n=t.length;r<n;r++)i+=Math.abs(e[r]-t[r]);return i},max:function(t,e){for(var i=0,r=0,n=t.length;r<n;r++)i=Math.max(i,Math.abs(e[r]-t[r]));return i}},st={linear:function(t,e){var i=[],r=Math.round(Math.random()*t),n=Math.floor(t/e);do{i.push(r),r=(r+n)%t}while(i.length<e);return i},shuffle:function(t,e){for(var i=[];i.length<e;){var r=Math.round(Math.random()*t);-1==i.indexOf(r)&&i.push(r)}return i}};function at(t,e,i){var r=1/0,n=0;return e.forEach(function(e,s){var a=i(t,e);a<r&&(r=a,n=s)}),n}function ot(t){if(!t.length)return[];for(var e=new Array(t[0].length),i=0,r=e.length;i<r;i++)e[i]=0;var n=0;for(r=t.length;n<r;n++)for(var s=t[n],a=n+1,o=0,u=s.length;o<u;o++)e[o]+=(s[o]-e[o])/a;return e.map(function(t){return Math.floor(t)})}function ut(t,e,i,r){for(var n=new Array(t),s=0;s<t;s++)n[s]=[];for(var a=0,o=e.length;a<o;a++){var u=e[a];n[at(u,i,r)].push(u)}return n}function ht(t,e,i,r,n,s){for(var a=0;a<t;a++){var o=i[a],u=r[a],h=new Array(u.length);n=!rt(h=o.length>0?ot(o):e[Math.floor(s()*e.length)],u),r[a]=h}return n}var lt={create:function(t,e){var i=document.createElement("canvas");return i.width=t||0,i.height=e||0,i},drawPixels:function(t){var e=this.create(t.width,t.height),i=e.getContext("2d"),r=i.getImageData(0,0,e.width,e.height);return r.data.set(t.pixels),i.putImageData(r,0,0),e},createHistogram:function(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{black:!0,red:!1,green:!1,blue:!1},s=this.create(t,e),a=s.getContext("2d");a.clearRect(0,0,t,e),a.fillStyle="white",a.fillRect(0,0,t,e),a.globalAlpha=.7;var o={black:!1};n.black?o.black=!1:o.black=!0,n.red?o.red=!1:o.red=!0,n.green?o.green=!1:o.green=!0,n.blue?o.blue=!1:o.blue=!0,Object.keys(i).forEach(function(r){if(!o[r]){var n=i[r],s=Math.max.apply(Math,n),u=t/n.length;a.fillStyle=r,n.forEach(function(t,i){var r=e*(t/s),n=i*u;a.fillRect(n,e-r,u,r)})}}),"function"==typeof r&&r(s)},getHistogram:function(t){for(var e,i,r=new Array(256),n=new Array(256),s=new Array(256),a=new Array(256),o=0;o<256;o++)r[o]=0,n[o]=0,s[o]=0,a[o]=0;return i=function(t,e){var i=Math.round(Me.brightness(t[e],t[e+1],t[e+2]));r[i]++,n[t[e]]++,s[t[e+1]]++,a[t[e+2]]++},function(t,e){for(var i=0;i<t;i+=4)e(i)}((e=t).pixels.length,function(t){i(e.pixels,t)}),{black:r,red:n,green:s,blue:a}},getBitmap:function(t,e){var i=this.drawPixels(t);return{pixels:i.getContext("2d").getImageData(e.x||0,e.y||0,e.width||i.width,e.height||i.height).data,width:e.width,height:e.height}},putBitmap:function(t,e,i){var r=this.drawPixels(t),n=this.drawPixels(e),s=r.getContext("2d");return s.drawImage(n,i.x,i.y),t.pixels=s.getImageData(0,0,t.width,t.height).data,t}},ct=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,t),this.isLoaded=!1,this.imageUrl=e,this.opt=i,this.initialize()}return I(t,[{key:"initialize",value:function(){this.canvas=this.createCanvas(),this.context=this.canvas.getContext("2d")}},{key:"createCanvas",value:function(){return document.createElement("canvas")}},{key:"load",value:function(t){this.loadImage(t)}},{key:"loadImage",value:function(t){var e=this,i=this.context;this.newImage=new Image;var r=this.newImage;r.onload=function(){var n=r.height/r.width;e.opt.canvasWidth&&e.opt.canvasHeight?(e.canvas.width=e.opt.canvasWidth,e.canvas.height=e.opt.canvasHeight):(e.canvas.width=e.opt.maxWidth?e.opt.maxWidth:r.width,e.canvas.height=e.canvas.width*n),i.drawImage(r,0,0,r.width,r.height,0,0,e.canvas.width,e.canvas.height),e.isLoaded=!0,t&&t()},this.getImageUrl(function(t){r.src=t})}},{key:"load",value:function(t){var e=this;this.newImage=new Image;var i=this.newImage;i.onload=function(){e.isLoaded=!0,t&&t()},this.getImageUrl(function(t){i.src=t})}},{key:"getImageUrl",value:function(t){if("string"==typeof this.imageUrl)return t(this.imageUrl);if(this.imageUrl instanceof Blob){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsDataURL(this.imageUrl)}}},{key:"getRGBA",value:function(t,e,i,r){return[t,e,i,r]}},{key:"toArray",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),n=r.width,s=r.height;t||(t=function(t,e){e(t)}),t({pixels:new Uint8ClampedArray(r.data),width:n,height:s},function(t){var r=lt.drawPixels(t);"canvas"==i.returnTo?e(r):e(r.toDataURL(i.outputFormat||"image/png"))},i)}},{key:"toHistogram",value:function(t){var e=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),i=e.width,r=e.height,n={pixels:new Uint8ClampedArray(e.data),width:i,height:r};return lt.getHistogram(n)}},{key:"toRGB",value:function(){for(var t=this.context.getImageData(0,0,this.canvas.width,this.canvas.height).data,e=[],i=0,r=t.length;i<r;i+=4)e[e.length]=[t[i+0],t[i+1],t[i+2],t[i+3]];return e}}]),t}(),pt={identity:function(){return[1,0,0,0,1,0,0,0,1]},stretching:function(t){return[t,0,0,0,1,0,0,0,1]},squeezing:function(t){return[t,0,0,0,1/t,0,0,0,1]},scale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[t=t||0===t?t:1,0,0,0,e=e||0===e?e:1,0,0,0,1]},scaleX:function(t){return this.scale(t)},scaleY:function(t){return this.scale(1,t)},translate:function(t,e){return[1,0,t,0,1,e,0,0,1]},rotate:function(t){var e=this.radian(t);return[Math.cos(e),-Math.sin(e),0,Math.sin(e),Math.cos(e),0,0,0,1]},rotate90:function(){return[0,-1,0,1,0,0,0,0,1]},rotate180:function(){return[-1,0,0,0,-1,0,0,0,1]},rotate270:function(){return[0,1,0,-1,0,0,0,0,1]},radian:function(t){return t*Math.PI/180},skew:function(t,e){var i=this.radian(t),r=this.radian(e);return[1,Math.tan(i),0,Math.tan(r),1,0,0,0,1]},skewX:function(t){var e=this.radian(t);return[1,Math.tan(e),0,0,1,0,0,0,1]},skewY:function(t){var e=this.radian(t);return[1,0,0,Math.tan(e),1,0,0,0,1]},shear1:function(t){return[1,-Math.tan(this.radian(t)/2),0,0,1,0,0,0,1]},shear2:function(t){return[1,0,0,Math.sin(this.radian(t)),1,0,0,0,1]}},ft={CONSTANT:pt,radian:function(t){return pt.radian(t)},multiply:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]},identity:function(t){return this.multiply(pt.identity(),t)},translate:function(t,e,i){return this.multiply(pt.translate(t,e),i)},rotate:function(t,e){return this.multiply(pt.rotate(t),e)},shear1:function(t,e){return this.multiply(pt.shear1(t),e)},shear2:function(t,e){return this.multiply(pt.shear2(t),e)},rotateShear:function(t,e){var i=e;return i=this.shear1(t,i),i=this.shear2(t,i),this.shear1(t,i)}};function dt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center";return function(r,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Rt(r.pixels.length,r.width,r.height),o=r.width,u=r.height;"center"==e&&(e=Math.floor(o/2)),"center"==i&&(i=Math.floor(u/2));var h=ft.CONSTANT.translate(-e,-i),l=ft.CONSTANT.translate(e,i),c=ft.CONSTANT.shear1(t),p=ft.CONSTANT.shear2(t);Wt(function(t,e,i,n){var s=ft.multiply(h,[i,n,1]);s=ft.multiply(c,s).map(Math.round),s=ft.multiply(p,s).map(Math.round),s=ft.multiply(c,s).map(Math.round),s=ft.multiply(l,s);var a=z(s,2),f=a[0],d=a[1];f<0||d<0||f>o-1||d>u-1||Zt(t,d*o+f<<2,r.pixels,e)})(a,function(){n(a)},s)}}function vt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Jt(t),n=(e=Jt(e))/100,s=i;return Vt(function(){var t=n*Math.ceil(.2126*$r+.7152*$g+.0722*$b)>=r?255:0;if(s)0==t&&($r=0,$g=0,$b=0);else{var e=Math.round(t);$r=e,$g=e,$b=e}},{$C:n,$scale:r,$hasColor:s})}function mt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([1,2,1,2,4,2,1,2,1],1/16*((t=Jt(t))/100)))}function gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([1,4,6,4,1,4,16,24,16,4,6,24,36,24,6,4,16,24,16,4,1,4,6,4,1],1/256*((t=Jt(t))/100)))}function xt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=Jt(t),Qt([5,5,5,-3,0,-3,-3,-3,-3])}function yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return t=Jt(t),Qt([5,-3,-3,5,0,-3,5,-3,-3])}function Dt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,24,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],(t=Jt(t))/100))}function Ct(){return Qt(Nt([1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],1/9))}function kt(){return Qt(Nt([1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1],1/9))}function bt(){return Qt(Nt([1,0,0,0,1,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1],1/9))}function Et(){return Qt([-1,-2,-1,0,0,0,1,2,1])}function St(){return Qt([-1,0,1,-2,0,2,-1,0,1])}var At=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],wt=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Ft(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function Bt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=Jt(t),function(i,r){r(function(t,e,i){return i?function(t,e,i,r){if(isNaN(r)||r<1)return t;r|=0;var n,s,a,o,u,h,l,c,p,f,d,v,m,g,x,y,D,C,k,b,E,S,A,w,F=t.pixels,B=t.width,$=t.height,T=r+r+1,_=B-1,M=$-1,I=r+1,P=I*(I+1)/2,N=new Ft,O=N;for(a=1;a<T;a++)if(O=O.next=new Ft,a==I)var U=O;O.next=N;var L=null,z=null;l=h=0;var R=At[r],X=wt[r];for(s=0;s<$;s++){for(y=D=C=k=c=p=f=d=0,v=I*(b=F[h]),m=I*(E=F[h+1]),g=I*(S=F[h+2]),x=I*(A=F[h+3]),c+=P*b,p+=P*E,f+=P*S,d+=P*A,O=N,a=0;a<I;a++)O.r=b,O.g=E,O.b=S,O.a=A,O=O.next;for(a=1;a<I;a++)o=h+((_<a?_:a)<<2),c+=(O.r=b=F[o])*(w=I-a),p+=(O.g=E=F[o+1])*w,f+=(O.b=S=F[o+2])*w,d+=(O.a=A=F[o+3])*w,y+=b,D+=E,C+=S,k+=A,O=O.next;for(L=N,z=U,n=0;n<B;n++)F[h+3]=A=d*R>>X,0!=A?(A=255/A,F[h]=(c*R>>X)*A,F[h+1]=(p*R>>X)*A,F[h+2]=(f*R>>X)*A):F[h]=F[h+1]=F[h+2]=0,c-=v,p-=m,f-=g,d-=x,v-=L.r,m-=L.g,g-=L.b,x-=L.a,o=l+((o=n+r+1)<_?o:_)<<2,c+=y+=L.r=F[o],p+=D+=L.g=F[o+1],f+=C+=L.b=F[o+2],d+=k+=L.a=F[o+3],L=L.next,v+=b=z.r,m+=E=z.g,g+=S=z.b,x+=A=z.a,y-=b,D-=E,C-=S,k-=A,z=z.next,h+=4;l+=B}for(n=0;n<B;n++){for(D=C=k=y=p=f=d=c=0,v=I*(b=F[h=n<<2]),m=I*(E=F[h+1]),g=I*(S=F[h+2]),x=I*(A=F[h+3]),c+=P*b,p+=P*E,f+=P*S,d+=P*A,O=N,a=0;a<I;a++)O.r=b,O.g=E,O.b=S,O.a=A,O=O.next;for(u=B,a=1;a<=r;a++)h=u+n<<2,c+=(O.r=b=F[h])*(w=I-a),p+=(O.g=E=F[h+1])*w,f+=(O.b=S=F[h+2])*w,d+=(O.a=A=F[h+3])*w,y+=b,D+=E,C+=S,k+=A,O=O.next,a<M&&(u+=B);for(h=n,L=N,z=U,s=0;s<$;s++)F[3+(o=h<<2)]=A=d*R>>X,A>0?(A=255/A,F[o]=(c*R>>X)*A,F[o+1]=(p*R>>X)*A,F[o+2]=(f*R>>X)*A):F[o]=F[o+1]=F[o+2]=0,c-=v,p-=m,f-=g,d-=x,v-=L.r,m-=L.g,g-=L.b,x-=L.a,o=n+((o=s+I)<M?o:M)*B<<2,c+=y+=L.r=F[o],p+=D+=L.g=F[o+1],f+=C+=L.b=F[o+2],d+=k+=L.a=F[o+3],L=L.next,v+=b=z.r,m+=E=z.g,g+=S=z.b,x+=A=z.a,y-=b,D-=E,C-=S,k-=A,z=z.next,h+=B}return t}(t,0,0,e):stackBlurCanvasRGB(t,0,0,e)}(i,t,e))}}function $t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;return Qt(Nt([1,4,6,4,1,4,16,24,16,4,6,24,-476,24,6,4,16,24,16,4,1,4,6,4,1],-1/(t=Jt(t))))}var Tt,_t=N({},{crop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments[2],r=arguments[3],n=Rt(i*r*4,i,r);return function(s,a){for(var o=e,u=0;o<r;o++,u++)for(var h=t,l=0;h<i;h++,l++)n.pixels[u*i*l]=s.pixels[o*i*h];a(n)}},resize:function(t,e){return function(i,r){var n=lt.drawPixels(i),s=n.getContext("2d");n.width=t,n.height=e,r({pixels:new Uint8ClampedArray(s.getImageData(0,0,t,e).data),width:t,height:e})}},flipH:function(){return function(t,e){for(var i=t.width,r=t.height,n=i%2==1?Math.floor(i/2):i/2,s=0;s<r;s++)for(var a=0;a<n;a++){var o=s*i+a<<2,u=s*i+(i-1-a)<<2;Gt(t.pixels,o,u)}e(t)}},flipV:function(){return function(t,e){for(var i=t.width,r=t.height,n=r%2==1?Math.floor(r/2):r/2,s=0;s<n;s++)for(var a=0;a<i;a++){var o=s*i+a<<2,u=(r-1-s)*i+a<<2;Gt(t.pixels,o,u)}e(t)}},rotate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=Jt(t),t%=360,function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0==t)return e;if(90==t||270==t)var n=Rt(e.pixels.length,e.height,e.width);else{if(180!=t)return dt(t)(e,i,r);n=Rt(e.pixels.length,e.width,e.height)}Wt(function(i,r,s,a){if(90==t)var o=s*n.width+(n.width-1-a)<<2;else 270==t?o=(n.height-1-s)*n.width+a<<2:180==t&&(o=(n.height-1-a)*n.width+(n.width-1-s)<<2);Zt(n.pixels,o,e.pixels,r)})(e,function(){i(n)},r)}},rotateDegree:dt,histogram:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gray",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[],r=0;r<e.length-1;r++)for(var n=e[r],s=e[r+1],a=s[0]-n[0],o=(s[1]-n[1])/a,u=0,h=n[0];u<a;u++,h++)i[h]=n[1]+u*o;return i[255]=255,Vt("red"===t?function(){$r=i[$r]}:"green"===t?function(){$g=i[$g]}:"blue"===t?function(){$b=i[$b]}:function(){var t=Color.RGBtoYCrCb($r,$g,$b),e=Color.YCrCbtoRGB(clamp(i[clamp(t.y)]),t.cr,t.cb,0);$r=e.r,$g=e.g,$b=e.b},{},{$realPoints:i})},"rotate-degree":dt},{bitonal:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=Me.parse(t),n=Me.parse(e),s=i;return Vt(function(){var t=$r+$g+$b<=s?r:n;$r=t.r,$g=t.g,$b=t.b},{$threshold:s},{$darkColor:r,$lightColor:n})},brightness:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=Jt(t);var e=Math.floor(t/100*255);return Vt(function(){$r+=e,$g+=e,$b+=e},{$C:e})},brownie:function(){var t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,-.037703249837783157,.8609577587992641,.15059552388459913,0,.24113635128153335,-.07441037908422492,.44972182064877153,0,0,0,0,1];return Vt(function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a},{$matrix:t})},clip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=Jt(t);var e=2.55*Math.abs(t);return Vt(function(){$r=$r>255-e?255:0,$g=$g>255-e?255:0,$b=$b>255-e?255:0},{$C:e})},contrast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=Jt(t);var e=Math.max((128+t)/128,0);return Vt(function(){$r*=e,$g*=e,$b*=e},{$C:e})},gamma:function(){var t=Jt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);return Vt(function(){$r=255*Math.pow($r/255,t),$g=255*Math.pow($g/255,t),$b=255*Math.pow($b/255,t)},{$C:t})},gradient:function(){var t=[].concat(Array.prototype.slice.call(arguments));1===t.length&&"string"==typeof t[0]&&(t=Me.convertMatchesArray(t[0]));var e=(t=t.map(function(t){return Me.matches(t).length?{type:"param",value:t}:{type:"scale",value:t}})).filter(function(t){return"scale"==t.type})[0];e=e?+e.value:256,t=t.filter(function(t){return"param"==t.type}).map(function(t){return t.value}).join(",");var i=Me.gradient(t,e).map(function(t){var e=Me.parse(t);return{r:e.r,g:e.g,b:e.b,a:e.a}});return Vt(function(){var t=clamp(Math.ceil(.2126*$r+.7152*$g+.0722*$b)),r=clamp(Math.floor(t*(e/256))),n=i[r];$r=n.r,$g=n.g,$b=n.b,$a=clamp(Math.floor(256*n.a))},{},{$colors:i,$scale:e})},grayscale:function(t){var e=(t=Jt(t))/100;e>1&&(e=1);var i=[.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),0,.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),0,.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e),0,0,0,0,1];return Vt(function(){$r=i[0]*$r+i[1]*$g+i[2]*$b+i[3]*$a,$g=i[4]*$r+i[5]*$g+i[6]*$b+i[7]*$a,$b=i[8]*$r+i[9]*$g+i[10]*$b+i[11]*$a,$a=i[12]*$r+i[13]*$g+i[14]*$b+i[15]*$a},{$matrix:i})},hue:function(){var t=Jt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:360);return Vt(function(){var e=Color.RGBtoHSV($r,$g,$b),i=e.h;i+=Math.abs(t),i%=360,e.h=i;var r=Color.HSVtoRGB(e);$r=r.r,$g=r.g,$b=r.b},{$C:t})},invert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=Jt(t))/100;return Vt(function(){$r=(255-$r)*e,$g=(255-$g)*e,$b=(255-$b)*e},{$C:e})},kodachrome:function(){var t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,0,0,0,1];return Vt(function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a},{$matrix:t})},matrix:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,l=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,c=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,f=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,d=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,v=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,m=[t,e,i,r,n,s,a,o,u,h,l,c,p,f,d,v];return Vt(function(){$r=m[0]*$r+m[1]*a+m[2]*e+m[3]*t,a=m[4]*$r+m[5]*a+m[6]*e+m[7]*t,e=m[8]*$r+m[9]*a+m[10]*e+m[11]*t,t=m[12]*$r+m[13]*a+m[14]*e+m[15]*t},{$matrix:m})},noise:function(){var t=Jt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);return Vt(function(){var e=5*Math.abs(t),i=-e,r=e,n=Math.round(i+Math.random()*(r-i));$r+=n,$g+=n,$b+=n},{$C:t})},opacity:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=Jt(t))/100;return Vt(function(){$a*=e},{$C:e})},polaroid:function(){var t=[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1];return Vt(function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a},{$matrix:t})},saturation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=(t=Jt(t))/100,i=1-Math.abs(e),r=[i,0,0,0,0,i,0,0,0,0,i,0,0,0,0,i];return Vt(function(){$r=r[0]*$r+r[1]*$g+r[2]*$b+r[3]*$a,$g=r[4]*$r+r[5]*$g+r[6]*$b+r[7]*$a,$b=r[8]*$r+r[9]*$g+r[10]*$b+r[11]*$a,$a=r[12]*$r+r[13]*$g+r[14]*$b+r[15]*$a},{$matrix:r})},sepia:function(){var t=Jt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);t>1&&(t=1);var e=[.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),0,.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),0,.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t),0,0,0,0,1];return Vt(function(){$r=e[0]*$r+e[1]*$g+e[2]*$b+e[3]*$a,$g=e[4]*$r+e[5]*$g+e[6]*$b+e[7]*$a,$b=e[8]*$r+e[9]*$g+e[10]*$b+e[11]*$a,$a=e[12]*$r+e[13]*$g+e[14]*$b+e[15]*$a},{$matrix:e})},shade:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Jt(t),n=Jt(e),s=Jt(i);return Vt(function(){$r*=r,$g*=n,$b*=s},{$redValue:r,$greenValue:n,$blueValue:s})},shift:function(){var t=[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1];return Vt(function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a},{$matrix:t})},solarize:function(t,e,i){var r=Jt(t),n=Jt(e),s=Jt(i);return Vt(function(){$r=$r<r?255-$r:$r,$g=$g<n?255-$g:$g,$b=$b<s?255-$b:$b},{$redValue:r,$greenValue:n,$blueValue:s})},technicolor:function(){var t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-.231103377548616,-.7501899197440212,1.847597816108189,0,0,0,0,1];return Vt(function(){$r=t[0]*$r+t[1]*$g+t[2]*$b+t[3]*$a,$g=t[4]*$r+t[5]*$g+t[6]*$b+t[7]*$a,$b=t[8]*$r+t[9]*$g+t[10]*$b+t[11]*$a,$a=t[12]*$r+t[13]*$g+t[14]*$b+t[15]*$a},{$matrix:t})},threshold:function(){return vt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,!1)},"threshold-color":vt,tint:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Jt(t),n=Jt(e),s=Jt(i);return Vt(function(){$r+=(255-$r)*r,$g+=(255-$g)*n,$b+=(255-$b)*s},{$redTint:r,$greenTint:n,$blueTint:s})}},{blur:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Qt(Yt(t=Jt(t)))},emboss:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return Qt([-2*(t=Jt(t)),-t,0,-t,1,t,0,t,2*t])},gaussianBlur:mt,"gaussian-blur":mt,gaussianBlur5x:gt,"gaussian-blur-5x":gt,grayscale2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([.3,.3,.3,0,0,.59,.59,.59,0,0,.11,.11,.11,0,0,0,0,0,0,0,0,0,0,0,0],(t=Jt(t))/100))},normal:function(){return Qt([0,0,0,0,1,0,0,0,0])},kirschHorizontal:xt,"kirsch-horizontal":xt,kirschVertical:yt,"kirsch-vertical":yt,laplacian:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([-1,-1,-1,-1,8,-1,-1,-1,-1],(t=Jt(t))/100))},laplacian5x:Dt,"laplacian-5x":Dt,motionBlur:Ct,"motion-blur":Ct,motionBlur2:kt,"motion-blur-2":kt,motionBlur3:bt,"motion-blur-3":bt,negative:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([-1,0,0,0,0,0,-1,0,0,0,0,0,-1,0,0,0,0,0,1,0,1,1,1,1,1],(t=Jt(t))/100))},sepia2:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([.393,.349,.272,0,0,.769,.686,.534,0,0,.189,.168,.131,0,0,0,0,0,0,0,0,0,0,0,0],(t=Jt(t))/100))},sharpen:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([0,-1,0,-1,5,-1,0,-1,0],(t=Jt(t))/100))},sobelHorizontal:Et,"sobel-horizontal":Et,sobelVertical:St,"sobel-vertical":St,stackBlur:Bt,"stack-blur":Bt,transparency:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Qt(Nt([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,.3,0,0,0,0,0,1],(t=Jt(t))/100))},unsharpMasking:$t,"unsharp-masking":$t},{kirsch:function(){return re("kirsch-horizontal kirsch-vertical")},sobel:function(){return re("sobel-horizontal sobel-vertical")},vintage:function(){return re("brightness(15) saturation(-20) gamma(1.8)")}}),Mt=0,It=(P(Tt={partial:ae,multi:ne,merge:se,weight:Nt,repeat:Ot,colorMatrix:function(t,e,i){var r=t[e],n=t[e+1],s=t[e+2],a=t[e+3];qt(t,e,i[0]*r+i[1]*n+i[2]*s+i[3]*a,i[4]*r+i[5]*n+i[6]*s+i[7]*a,i[8]*r+i[9]*n+i[10]*s+i[11]*a,i[12]*r+i[13]*n+i[14]*s+i[15]*a)},each:Lt,eachXY:zt,createRandomCount:function(){return[9,16,25,36,49,64,81,100].sort(function(t,e){return.5-Math.random()})[0]},createRandRange:function(t,e,i){for(var r=[],n=1;n<=i;n++){var s=Math.random()*(e-t)+t,a=Math.floor(10*Math.random())%2==0?-1:1;r.push(a*s)}r.sort();var o=Math.floor(i>>1),u=r[o];return r[o]=r[0],r[0]=u,r},createBitmap:Rt,createBlurMatrix:Yt,pack:function(t){return function(e,i){Lt(e.pixels.length,function(i,r){t(e.pixels,i,r,e.pixels[i],e.pixels[i+1],e.pixels[i+2],e.pixels[i+3])},function(){i(e)})}},packXY:Wt,pixel:Vt,getBitmap:Xt,putBitmap:jt,radian:function(t){return ft.CONSTANT.radian(t)},convolution:Qt,parseParamNumber:Jt,filter:re,clamp:ie,fillColor:qt,fillPixelColor:Zt},"multi",ne),P(Tt,"merge",se),P(Tt,"matches",te),P(Tt,"parseFilter",ee),P(Tt,"partial",ae),Tt),Pt=It;function Nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.map(function(t){return t*e})}function Ot(t,e){for(var i=new Array(e),r=0;r<e;r++)i[r]=t;return i}function Ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments[3],n=arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e4,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"full",o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:50,u=e,h=function(t){setTimeout(t,0)};"requestAnimationFrame"==a&&(h=requestAnimationFrame,s=1e3),"full"==a&&(h=null,s=t),function e(){for(var a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=[].concat(R(Array(t))).map(function(t){return"cri = ri + i * s; if (cri >= mx) return {currentRunIndex: cri, i: null}; c(cri); i++;"}).join("\n");return new Function("ri","i","s","mx","c","\n            let cri = ri;\n            \n            "+e+"\n            \n            return {currentRunIndex: cri, i: i} \n        ")}(o),l=u,c={},p=0;p<s;){if(null==(c=a(u,p,i,t,r)).i){l=c.currentRunIndex;break}p=c.i,l=c.currentRunIndex}l?u=l:u+=i,u>=t?n():h?h(e):e()}()}function Lt(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Ut(t,0,4,function(t){e(t,t>>2)},function(){i()},r.functionDumpCount,r.frameTimer,r.loopCount)}function zt(t,e,i,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Ut(t,0,4,function(t){var r=t>>2;i(t,r%e,Math.floor(r/e))},function(){r()},n.functionDumpCount,n.frameTimer,n.loopCount)}function Rt(t,e,i){return{pixels:new Uint8ClampedArray(t),width:e,height:i}}function Xt(t,e){return lt.getBitmap(t,e)}function jt(t,e,i){return lt.putBitmap(t,e,i)}function Jt(t){return"string"==typeof t&&(t=(t=t.replace(/deg/,"")).replace(/px/,"")),+t}var Ht=/(([\w_\-]+)(\(([^\)]*)\))?)+/gi;function Vt(t){var e=function(t){var e,i,r,n,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e={},r=(i=[{callback:t,context:a,rootContext:o}].map(function(t){var i=[];Object.keys(t.context).forEach(function(t,e){i[t]="n$"+Mt+++t+"$"}),Object.keys(t.rootContext).forEach(function(r,n){i[r]="r$"+Mt+++r+"$",e[i[r]]=t.rootContext[r]});var r=Object.keys(t.context).filter(function(e){return"number"!=typeof t.context[e]&&"string"!=typeof t.context[e]&&(!Array.isArray(t.context[e])||"number"!=typeof t.context[e][0]&&"string"!=typeof t.context[e][0])}).map(function(e,r){return[i[e],JSON.stringify(t.context[e])].join(" = ")}),n=t.callback.toString().split("{");return n.shift(),(n=(n=n.join("{")).split("}")).pop(),n=n.join("}"),Object.keys(i).forEach(function(e){var r=i[e];"number"==typeof t.context[e]||"string"==typeof t.context[e]?n=n.replace(new RegExp("\\"+e,"g"),t.context[e]):!Array.isArray(t.context[e])||"number"!=typeof t.context[e][0]&&"string"!=typeof t.context[e][0]?n=n.replace(new RegExp("\\"+e,"g"),r):t.context[e].forEach(function(t,i){n=n.replace(new RegExp("\\"+e+"\\["+i+"\\]","g"),t)})}),{preCallbackString:n,preContext:r}})).map(function(t,e){return t.preContext.length?"const "+t.preContext+";":""}).join("\n\n"),n=i.map(function(t){return t.preCallbackString}).join("\n\n"),(s=new Function("$pixels","$pixelIndex","$clamp","$Color"," \n    let $r = $pixels[$pixelIndex], $g = $pixels[$pixelIndex+1], $b = $pixels[$pixelIndex+2], $a = $pixels[$pixelIndex+3];\n\n    "+r+"\n\n    "+n+"\n    \n    $pixels[$pixelIndex] = $r\n    $pixels[$pixelIndex+1] = $g \n    $pixels[$pixelIndex+2] = $b   \n    $pixels[$pixelIndex+3] = $a   \n    ")).$preCallbackString=n,s.$preContext=r,s.rootContextObject=e,s}(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),i=function(t,e){};return i.userFunction=e,i}var Kt=[0,1,2,3];function Gt(t,e,i){Kt.forEach(function(r){var n=t[e+r];t[e+r]=t[i+r],t[i+r]=n})}function Wt(t){return function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};zt(e.pixels.length,e.width,function(i,r,n){t(e.pixels,i,r,n)},function(){i(e)},r)}}function Yt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=Math.pow(t,2);return Ot(1/e,e)}function qt(t,e,i,r,n,s){if(3==arguments.length){var a=arguments[2];i=a.r,r=a.g,n=a.b,s=a.a}"number"==typeof i&&(t[e]=i),"number"==typeof r&&(t[e+1]=r),"number"==typeof n&&(t[e+2]=n),"number"==typeof s&&(t[e+3]=s)}function Zt(t,e,i,r){qt(t,e,i[r],i[r+1],i[r+2],i[r+3])}function Qt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return e=t.map(function(t,e){return[]}),t.forEach(function(t,n){if(0!=t){var s=e[n];for(n=i;n<=r;n++)s[n]=t*n}}),e}(t);return function(r,n){var s=Math.round(Math.sqrt(t.length)),a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=t.width+e,r=t.height+e;return{pixels:new Uint8ClampedArray(i*r*4),width:i,height:r}}(r,2*s);!function(t,e,i,r){for(var n=e.pixels.length/4,s=0,a=0,o=0,u=0,h=0,l=0,c=0;c<n;c++)o=c%e.width,a=r+(u=Math.floor(c/e.width)),(s=i+o)>t.width||a>t.height||(h=u*e.width+o<<2,l=a*t.width+s<<2,t.pixels[l]=e.pixels[h],t.pixels[l+1]=e.pixels[h+1],t.pixels[l+2]=e.pixels[h+2],t.pixels[l+3]=e.pixels[h+3])}(a,r,s,s);for(var o=Rt(a.pixels.length,a.width,a.height),u=Rt(r.pixels.length,r.width,r.height),h=function(t,e,i,r,n){var s=Math.round(Math.sqrt(t.length)),a=Math.floor(s/2),o=n?1:0,u="let r = 0, g = 0, b = 0, a = 0, scy = 0, scx =0, si = 0; ",h=[],l=[],c=[],p=[];t.forEach(function(t,e){var r=Math.floor(e/s)-a,n=e%s-a;0!=t&&(h.push("$t["+e+"][$sp[(($sy + ("+r+")) * "+i+" + ($sx + ("+n+"))) * 4]]"),l.push("$t["+e+"][$sp[(($sy + ("+r+")) * "+i+" + ($sx + ("+n+"))) * 4 + 1]]"),c.push("$t["+e+"][$sp[(($sy + ("+r+")) * "+i+" + ($sx + ("+n+"))) * 4 + 2]]"),p.push("$t["+e+"][$sp[(($sy + ("+r+")) * "+i+" + ($sx + ("+n+"))) * 4 + 3]]"))}),u+="r = "+h.join(" + ")+"; g = "+l.join(" + ")+"; b = "+c.join(" + ")+"; a = "+p.join(" + ")+";",u+="$dp[$di] = r; $dp[$di+1] = g;$dp[$di+2] = b;$dp[$di+3] = a + ("+o+")*(255-a); ";var f=new Function("$dp","$sp","$di","$sx","$sy","$t",u);return function(t,i,r,n,s){f(t,i,r,n,s,e)}}(t,i,a.width,a.height,e),l=r.pixels.length/4,c=0;c<l;c++){var p=c,f=p%r.width+s,d=Math.floor(p/r.width)+s;h(o.pixels,a.pixels,4*(d*a.width+f),f,d)}!function(t,e,i,r){for(var n=e.pixels.length>>2,s=0,a=0,o=0,u=0,h=0,l=0,c=0;c<n;c++)o=c%e.width,a=r+(u=Math.floor(c/e.width)),(s=i+o)>t.width||a>t.height||(h=a*t.width+s<<2,l=u*e.width+o<<2,e.pixels[l]=t.pixels[h],e.pixels[l+1]=t.pixels[h+1],e.pixels[l+2]=t.pixels[h+2],e.pixels[l+3]=t.pixels[h+3])}(o,u,s,s),n(u)}}function te(t){var e=Me.convertMatches(t),i=e.str.match(Ht),r=[];if(!i)return r;var n={next:0};return(r=i.map(function(t){return{filter:t,origin:Me.reverseMatches(t,e.matches)}})).map(function(e){var i=t.indexOf(e.origin,n.next);return e.startIndex=i,e.endIndex=i+e.origin.length,e.arr=ee(e.origin),n.next=e.endIndex,e}).filter(function(t){return!!t.arr.length})}function ee(t){var e=Me.convertMatches(t),i=e.str.match(Ht);if(!i[0])return[];var r=i[0].split("("),n=r.shift(),s=[];return r.length&&(s=r.shift().split(")")[0].split(",").map(function(t){return Me.reverseMatches(t,e.matches)})),[n].concat(R(s)).map(Me.trim)}function ie(t){return Math.min(255,t)}function re(t){return se(te(t).map(function(t){return t.arr}))}function ne(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];var r=(e=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],i=[],r=0,n=t.length;r<n;r++){var s=t[r];s.userFunction?i.push(s):(i.length&&e.push([].concat(R(i))),e.push(s),i=[])}return i.length&&e.push([].concat(R(i))),e.forEach(function(t,i){var r;Array.isArray(t)&&(e[i]=(r=function(t){var e=t.map(function(t){return" \n            "+t.userFunction.$preContext+"\n\n            "+t.userFunction.$preCallbackString+"\n\n            $r = clamp($r); $g = clamp($g); $b = clamp($b); $a = clamp($a);\n        "}).join("\n\n"),i={clamp:ie,Color:Me};t.forEach(function(t){Object.assign(i,t.userFunction.rootContextObject)});var r="const "+Object.keys(i).map(function(t){return" "+t+" = $rc."+t+" "}).join(","),n=new Function("$p","$pi","$rc"," \n    let $r = $p[$pi], $g = $p[$pi+1], $b = $p[$pi+2], $a = $p[$pi+3];\n    \n    "+r+"\n\n    "+e+"\n    \n    $p[$pi] = $r; $p[$pi+1] = $g; $p[$pi+2] = $b; $p[$pi+3] = $a;\n    ");return function(t,e){n(t,e,i)}}(t),function(t,e){for(var i=0,n=t.pixels.length;i<n;i+=4)r(t.pixels,i);e(t)}))}),e}(e=e.map(function(t){return function(t){if("function"==typeof t)return t;"string"==typeof t&&(t=[t]);var e=(t=t.slice(0)).shift();if("function"==typeof e)return e;var i=t,r=_t[e]||Pt[e];if(!r)throw new Error(e+" is not filter. please check filter name.");return r.apply(r,i)}(t)}).filter(function(t){return t}))).length;return function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=t,a=0;!function t(){e[a].call(null,s,function(e){s=e,++a>=r?i(s):t()},n)}()}}function se(t){return ne.apply(void 0,R(t))}function ae(t){for(var e=null,i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return e=1==r.length&&"string"==typeof r[0]?re(r[0]):se(r),function(i,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e(Xt(i,t),function(e){r(jt(i,e,t))},n)}}function oe(t){return"string"==typeof t&&(t=(t=t.replace(/deg/,"")).replace(/px/,"")),+t}function ue(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t.map(function(t){return t*e})}var he=0;function le(t){return[].concat(Array.prototype.slice.call(arguments))}function ce(t){return{type:"convolution",length:t.length,content:t}}function pe(t,e){return{type:"shader",index:he,options:e,content:(i=t,r=he++,"\n        if (u_filterIndex == "+r+".0) {\n            "+i+"\n        }\n    ")};var i,r}function fe(t){return"vec4("+(t=[t.r/255,t.g/255,t.b/255,t.a||0].map(de))+")"}function de(t){return t==Math.floor(t)?t+".0":t}function ve(){return ce(ue([1,2,1,2,4,2,1,2,1],oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*(1/16)))}function me(){return ce([1,4,6,4,1,4,16,24,16,4,6,24,36,24,6,4,16,24,16,4,1,4,6,4,1])}function ge(){return ce([5,5,5,-3,0,-3,-3,-3,-3])}function xe(){return ce([5,-3,-3,5,0,-3,5,-3,-3])}function ye(){return ce([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,24,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}function De(){return ce([1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1])}function Ce(){return ce([1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1])}function ke(){return ce([1,0,0,0,1,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1])}function be(){return ce([-1,-2,-1,0,0,0,1,2,1])}function Ee(){return ce([-1,0,1,-2,0,2,-1,0,1])}function Se(){return ce(ue([1,4,6,4,1,4,16,24,16,4,6,24,-476,24,6,4,16,24,16,4,1,4,6,4,1],-1/256))}function Ae(){var t=[arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,arguments.length>15&&void 0!==arguments[15]?arguments[15]:0].map(de);return pe("\n\n        outColor = vec4(\n            "+t[0]+" * pixelColor.r + "+t[1]+" * pixelColor.g + "+t[2]+" * pixelColor.b + "+t[3]+" * pixelColor.a,\n            "+t[4]+" * pixelColor.r + "+t[5]+" * pixelColor.g + "+t[6]+" * pixelColor.b + "+t[7]+" * pixelColor.a,\n            "+t[8]+" * pixelColor.r + "+t[9]+" * pixelColor.g + "+t[10]+" * pixelColor.b + "+t[11]+" * pixelColor.a,\n            "+t[12]+" * pixelColor.r + "+t[13]+" * pixelColor.g + "+t[14]+" * pixelColor.b + "+t[15]+" * pixelColor.a\n        ); \n    ")}function we(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return pe("\n        float c = ( (pixelColor.r * 0.2126 + pixelColor.g * 0.7152 + pixelColor.b * 0.0722) ) >= "+(t=de(oe(t)))+" ? 1.0 : 0.0;\n\n        outColor = vec4(c, c, c, pixelColor.a);\n    ")}var Fe=N({},{blur:function(){return ce([1,1,1,1,1,1,1,1,1])},normal:function(){return ce([0,0,0,0,1,0,0,0,0])},emboss:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return ce([-2*(t=oe(t)),-t,0,-t,1,t,0,t,2*t])},gaussianBlur:ve,"gaussian-blur":ve,gaussianBlur5x:me,"gaussian-blur-5x":me,grayscale2:function(){return ce([.3,.3,.3,0,0,.59,.59,.59,0,0,.11,.11,.11,0,0,0,0,0,0,0,0,0,0,0,0])},kirschHorizontal:ge,"kirsch-horizontal":ge,kirschVertical:xe,"kirsch-vertical":xe,laplacian:function(){return ce([-1,-1,-1,-1,8,-1,-1,-1,-1])},laplacian5x:ye,"laplacian-5x":ye,motionBlur:De,"motion-blur":De,motionBlur2:Ce,"motion-blur-2":Ce,motionBlur3:ke,"motion-blur-3":ke,negative:function(){return ce([-1,0,0,0,0,0,-1,0,0,0,0,0,-1,0,0,0,0,0,1,0,1,1,1,1,1])},sepia2:function(){return ce([.393,.349,.272,0,0,.769,.686,.534,0,0,.189,.168,.131,0,0,0,0,0,0,0,0,0,0,0,0])},sharpen:function(){return ce([0,-1,0,-1,5,-1,0,-1,0])},sobelHorizontal:be,"sobel-horizontal":be,sobelVertical:Ee,"sobel-vertical":Ee,transparency:function(){return ce([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,.3,0,0,0,0,0,1])},unsharpMasking:Se,"unsharp-masking":Se},{bitonal:function(t,e){var i=de(arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5),r=fe(Me.parse(t));return pe("\n        if ((pixelColor.r + pixelColor.g + pixelColor.b) > "+i+") {\n            outColor = vec4("+fe(Me.parse(e))+".rgb, pixelColor.a);\n        } else {\n            outColor = vec4("+r+".rgb, pixelColor.a);\n        }\n    ")},brightness:function(){return pe("\n        outColor = pixelColor + ("+de(oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1))+");\n    ")},brownie:function(){return Ae(.5997023498159715,.34553243048391263,-.2708298674538042,0,-.037703249837783157,.8609577587992641,.15059552388459913,0,.24113635128153335,-.07441037908422492,.44972182064877153,0,0,0,0,1)},clip:function(){var t=de(oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0));return pe("\n        outColor = vec4(\n            (pixelColor.r > 1.0 - "+t+") ? 1.0 : 0.0,\n            (pixelColor.g > 1.0 - "+t+") ? 1.0 : 0.0,\n            (pixelColor.b > 1.0 - "+t+") ? 1.0 : 0.0,\n            pixelColor.a \n        );\n    ")},chaos:function(){return pe("\n        vec2 st = pixelColor.st;\n        st *= "+de(oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10))+";\n        \n        vec2 ipos = floor(st);  // get the integer coords\n\n        vec3 color = vec3(random( ipos ));\n\n        outColor = vec4(color, pixelColor.a);\n    ")},contrast:function(){return pe("\n        outColor = pixelColor * "+de(oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1))+";\n    ")},gamma:function(){var t=de(oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1));return pe("\n        outColor = vec4(pow(pixelColor.r, "+t+"), pow(pixelColor.g, "+t+"), pow(pixelColor.b, "+t+"), pixelColor.a );\n    ")},gradient:function(){var t=[].concat(Array.prototype.slice.call(arguments));1===t.length&&"string"==typeof t[0]&&(t=Me.convertMatchesArray(t[0])),t=t.map(function(t){return t}).join(", ");var e=Me.parseGradient(t);e[0][1]=0,e[e.length-1][1]=1;for(var i=[],r=0,n=(e=e.map(function(t){var e=Me.parse(t[0]);return[{r:e.r,g:e.g,b:e.b,a:e.a},t[1]]})).length;r<n-1;r++){var s=e[r],a=e[r+1],o=fe(s[0]),u=fe(a[0]),h=de(s[1]),l=de(a[1]);i.push("\n            if ("+h+" <= rate && rate < "+l+") {\n                outColor = mix("+o+", "+u+", (rate - "+h+")/("+l+" - "+h+"));\n            }\n        ")}return pe("\n        float rate = (pixelColor.r * 0.2126 + pixelColor.g * 0.7152 + pixelColor.b * 0.0722); \n\n        "+i.join("\n")+"        \n    ")},grayscale:function(){var t=oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);return t>1&&(t=1),Ae(.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),0,.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),0,.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t),0,0,0,0,1)},hue:function(){return pe("\n        vec3 hsv = rgb2hsv(pixelColor.rgb);\n        hsv.x += "+de(oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1))+";\n        outColor = vec4(hsv2rgb(hsv).rgb, pixelColor.a);\n    ")},invert:function(){var t=de(oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1));return pe("\n        outColor = vec4(\n            (1.0 - pixelColor.r) * "+t+",\n            (1.0 - pixelColor.g) * "+t+",\n            (1.0 - pixelColor.b) * "+t+",\n            pixelColor.a\n        );\n    ")},kodachrome:function(){return Ae(1.1285582396593525,-.3967382283601348,-.03992559172921793,0,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,0,0,0,1)},matrix:Ae,noise:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Math.abs(oe(t)),i=de(-e);return pe("\n        float rnd = "+i+" + random( pixelColor.st ) * ("+de(e)+" - "+i+");\n\n        outColor = vec4(pixelColor.rgb + rnd, 1.0);\n    ")},opacity:function(){return pe("\n        outColor = vec4(pixelColor.rgb, pixelColor.a * "+de(oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1))+");\n    ")},polaroid:function(){return Ae(1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1)},saturation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=1-Math.abs(oe(t));return Ae(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,e)},sepia:function(){var t=oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1);return t>1&&(t=1),Ae(.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),0,.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),0,.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t),0,0,0,0,1)},shade:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return pe("\n        outColor = vec4(\n            pixelColor.r * "+de(oe(t)/255)+",\n            pixelColor.g * "+de(oe(e)/255)+",\n            pixelColor.b * "+de(oe(i)/255)+",\n            pixelColor.a\n        );\n    ")},shift:function(){return Ae(1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1)},solarize:function(t,e,i){return pe("\n        outColor = vec4(\n            (pixelColor.r < "+de(oe(t))+") ? 1.0 - pixelColor.r: pixelColor.r,\n            (pixelColor.g < "+de(oe(e))+") ? 1.0 - pixelColor.g: pixelColor.g,\n            (pixelColor.b < "+de(oe(i))+") ? 1.0 - pixelColor.b: pixelColor.b,\n            pixelColor.a\n        );\n    ")},technicolor:function(){return Ae(1.9125277891456083,-.8545344976951645,-.09155508482755585,0,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-.231103377548616,-.7501899197440212,1.847597816108189,0,0,0,0,1)},threshold:function(){return we(arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,!1)},"threshold-color":we,tint:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return pe("\n        outColor = vec4(\n            pixelColor.r += (1 - pixelColor.r) * "+oe(t)+",\n            pixelColor.g += (1 - pixelColor.g) * "+oe(e)+",\n            pixelColor.b += (1 - pixelColor.b) * "+oe(i)+",\n            pixelColor.a\n        );\n    ")}},{kirsch:function(){return le("kirsch-horizontal kirsch-vertical")},sobel:function(){return le("sobel-horizontal sobel-vertical")},vintage:function(){return le("brightness(0.15) saturation(-0.2) gamma(1.8)")}}),Be=0,$e={GLCanvas:function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:"400px",height:"300px"};M(this,t),this.img=e.img,this.width=parseFloat(this.img.width||e.width||"400px"),this.height=parseFloat(this.img.height||e.height||"300px"),this.init()}return I(t,[{key:"resize",value:function(){this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width=this.width+"px",this.canvas.style.height=this.height+"px",this.viewport()}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=this.gl;n.clearColor(t,e,i,r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)}},{key:"viewport",value:function(t,e,i,r){var n=this.gl;n.viewport(t||0,e||0,i||n.canvas.width,r||n.canvas.height)}},{key:"initCanvas",value:function(t,e){if(this.canvas=document.createElement("canvas"),this.gl=this.canvas.getContext("webgl2"),!this.gl)throw new Error("you need webgl2 support");this.program=this.createProgram(t,e),this.resize(),this.initBuffer()}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"TRIANGLES",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,r=this.gl;r.drawArrays(r[t],e,i)}},{key:"triangles",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;this.draw("TRIANGLES",t,e)}},{key:"uniform2f",value:function(){for(var t,e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i.shift();(t=this.gl).uniform2f.apply(t,[this.locations[n]].concat(i))}},{key:"uniform1f",value:function(){for(var t,e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i.shift();(t=this.gl).uniform1f.apply(t,[this.locations[n]].concat(i))}},{key:"uniform1fv",value:function(){for(var t,e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i.shift();(t=this.gl).uniform1fv.apply(t,[this.locations[n]].concat(i))}},{key:"uniform1i",value:function(){for(var t,e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var n=i.shift();(t=this.gl).uniform1i.apply(t,[this.locations[n]].concat(i))}},{key:"useProgram",value:function(){this.gl.useProgram(this.program)}},{key:"bindBuffer",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"STATIC_DRAW",r=this.gl;this.buffers[t]||(this.buffers[t]=r.createBuffer()),r.bindBuffer(r.ARRAY_BUFFER,this.buffers[t]),e&&r.bufferData(r.ARRAY_BUFFER,new Float32Array(e),r[i])}},{key:"enable",value:function(t){this.gl.enableVertexAttribArray(this.locations[t])}},{key:"location",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"attribute";"attribute"===e?this.locations[t]=this.gl.getAttribLocation(this.program,t):"uniform"===e&&(this.locations[t]=this.gl.getUniformLocation(this.program,t))}},{key:"a",value:function(t){return this.location(t)}},{key:"u",value:function(t){return this.location(t,"uniform")}},{key:"pointer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FLOAT",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=this.gl;a.vertexAttribPointer(this.locations[t],i,a[e],r,n,s)}},{key:"bufferData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.gl;e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW)}},{key:"isPowerOf2",value:function(t){return 0==(t&t-1)}},{key:"bindTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"RGBA",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"RGBA",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"UNSIGNED_BYTE",a=this.gl;1!=arguments.length?(this.textures[t]||(this.textures[t]=a.createTexture()),this.textureIndex[t]=Be++,a.bindTexture(a.TEXTURE_2D,this.textures[t]),this.setTextureParameter(),a.texImage2D(a.TEXTURE_2D,i,a[r],a[n],a[s],e.newImage||e)):a.bindTexture(a.TEXTURE_2D,this.textures[t])}},{key:"bindColorTexture",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:256,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"RGBA",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"RGBA",o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"UNSIGNED_BYTE",u=this.gl;this.textures[t]||(this.textures[t]=u.createTexture()),this.textureIndex[t]=Be++,u.bindTexture(u.TEXTURE_2D,this.textures[t]),this.setTextureParameter(),u.texImage2D(u.TEXTURE_2D,n,u[s],i,r,0,u[a],u[o],new Uint8Array(e))}},{key:"bindEmptyTexture",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"RGBA",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"RGBA",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"UNSIGNED_BYTE",o=this.gl;this.textures[t]||(this.textures[t]=o.createTexture()),this.textureIndex[t]=Be++,o.bindTexture(o.TEXTURE_2D,this.textures[t]),this.setTextureParameter(),o.texImage2D(o.TEXTURE_2D,r,o[n],e,i,0,o[s],o[a],null)}},{key:"setTextureParameter",value:function(){var t=this.gl;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST)}},{key:"bindFrameBufferWithTexture",value:function(t,e,i,r){this.bindEmptyTexture(e,i,r),this.bindFrameBuffer(t,e)}},{key:"enumToString",value:function(t){var e=this.gl;if(0===t)return"NONE";for(var i in e)if(e[i]===t)return i;return"0x"+t.toString(16)}},{key:"bindFrameBuffer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.gl;if(1!==arguments.length){this.framebuffers[t]||(this.framebuffers[t]=i.createFramebuffer()),i.bindFramebuffer(i.FRAMEBUFFER,this.framebuffers[t]);var r=i.COLOR_ATTACHMENT0;i.framebufferTexture2D(i.FRAMEBUFFER,r,i.TEXTURE_2D,this.textures[e],0),i.checkFramebufferStatus(i.FRAMEBUFFER),i.FRAMEBUFFER_COMPLETE}else i.bindFramebuffer(i.FRAMEBUFFER,null==t?null:this.framebuffers[t])}},{key:"bindVA",value:function(){var t=this.gl;this.vao||(this.vao=t.createVertexArray()),t.bindVertexArray(this.vao)}},{key:"bindAttr",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"STATIC_DRAW",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;this.bindBuffer(t,e,i),this.enable(t),this.pointer(t,"FLOAT",r)}},{key:"initBuffer",value:function(){var t=this.canvas,e=t.width,i=t.height;this.a("a_position"),this.a("a_texCoord"),this.u("u_resolution"),this.u("u_image"),this.u("u_flipY"),this.u("u_kernelSelect"),this.u("u_filterIndex"),this.u("u_kernel9[0]"),this.u("u_kernel9Weight"),this.u("u_kernel25[0]"),this.u("u_kernel25Weight"),this.u("u_kernel49[0]"),this.u("u_kernel49Weight"),this.u("u_kernel81[0]"),this.u("u_kernel81Weight"),this.bindVA(),this.bindAttr("a_position",[0,0,e,0,0,i,0,i,e,0,e,i],"STATIC_DRAW",2),this.bindAttr("a_texCoord",[0,0,1,0,0,1,0,1,1,0,1,1],"STATIC_DRAW",2),this.bindTexture("u_image",this.img),this.bindFrameBufferWithTexture("frame_buffer_0","img_texture_0",e,i),this.bindFrameBufferWithTexture("frame_buffer_1","img_texture_1",e,i)}},{key:"activeTexture",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.gl;e.activeTexture(e.TEXTURE0+t)}},{key:"drawFilter",value:function(){var t=this,e=this.gl;this.resize(),this.clear(),this.useProgram(),this.bindVA(),this.activeTexture(0),this.bindTexture("u_image"),this.uniform1i("u_image",0),this.uniform1f("u_flipY",1);var i=e.canvas,r=i.width,n=i.height;this.eachFilter(function(e,i){t.bindFrameBuffer("frame_buffer_"+i%2),t.uniform2f("u_resolution",r,n),t.viewport(0,0,r,n),t.effectFilter(e),t.bindTexture("img_texture_"+i%2)}),this.uniform1f("u_flipY",-1),this.bindFrameBuffer(null),this.uniform2f("u_resolution",r,n),this.viewport(0,0,r,n),this.clear(),this.effectFilter("normal")}},{key:"effectFilter",value:function(t){"string"==typeof t&&(t=(Fe[t]||Fe.normal).call(Fe)),"convolution"==t.type?(this.uniform1f("u_kernelSelect",t.length),this.uniform1f("u_filterIndex",-1),this.uniform1fv("u_kernel"+t.length+"[0]",t.content),this.uniform1f("u_kernel"+t.length+"Weight",this.computeKernelWeight(t.content))):(this.uniform1f("u_kernelSelect",-1),this.uniform1f("u_filterIndex",t.index)),this.triangles(0,6)}},{key:"computeKernelWeight",value:function(t){var e=t.reduce(function(t,e){return t+e});return e<=0?1:e}},{key:"createProgram",value:function(t,e){var i=this.gl,r=i.createProgram();if(this.vertexShader=this.createVertexShader(t),this.fragmentShader=this.createFragmentShader(e),i.attachShader(r,this.vertexShader),i.attachShader(r,this.fragmentShader),i.linkProgram(r),i.getProgramParameter(r,i.LINK_STATUS))return r;console.error(i.getProgramInfoLog(r)),i.deleteProgram(r)}},{key:"createShader",value:function(t,e){var i=this.gl,r=i.createShader(t);if(i.shaderSource(r,e),i.compileShader(r),i.getShaderParameter(r,i.COMPILE_STATUS))return r;console.error(i.getShaderInfoLog(r)),i.deleteShader(r)}},{key:"createVertexShader",value:function(t){var e=this.gl;return this.createShader(e.VERTEX_SHADER,t)}},{key:"createFragmentShader",value:function(t){var e=this.gl;return this.createShader(e.FRAGMENT_SHADER,t)}},{key:"eachFilter",value:function(t){this.filterList.forEach(t)}},{key:"init",value:function(){this.locations={},this.buffers={},this.framebuffers={},this.textures={},this.textureIndex={},this.hasTexParameter={}}},{key:"destroy",value:function(){var t=this.gl;this.init(),t.deleteProgram(this.program)}},{key:"filter",value:function(t,e){var i,r,n;this.filterList=t,this.initCanvas("#version 300 es \n\n        in vec2 a_position;\n        in vec2 a_texCoord; \n\n        uniform vec2 u_resolution;\n        uniform float u_flipY;\n\n        out vec2 v_texCoord; \n\n        void main() {\n            vec2 zeroToOne = a_position / u_resolution;\n\n            vec2 zeroToTwo = zeroToOne * 2.0;\n\n            vec2 clipSpace = zeroToTwo - 1.0;\n\n            gl_Position = vec4(clipSpace * vec2(1, u_flipY), 0, 1);\n\n            v_texCoord = a_texCoord;\n\n        }\n    ",(r=(i=this.filterList).filter(function(t){return"shader"==t.type}).map(function(t){return t.content}).join("\n\n"),n={9:!0},i.filter(function(t){return"convolution"==t.type}).forEach(function(t){n[t.length]=!0}),"#version 300 es\n\n    precision highp int;\n    precision mediump float;\n    \n    uniform sampler2D u_image;\n\n    // 3 is 3x3 matrix kernel \n    uniform float u_kernelSelect;\n    uniform float u_filterIndex;\n\n    uniform float u_kernel9[9];\n    uniform float u_kernel9Weight;\n    uniform float u_kernel25[25];\n    uniform float u_kernel25Weight;\n    uniform float u_kernel49[49];\n    uniform float u_kernel49Weight;\n    uniform float u_kernel81[81];\n    uniform float u_kernel81Weight;    \n\n    in vec2 v_texCoord;\n    \n    out vec4 outColor;\n\n    float random (vec2 st) {\n        return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\n    } \n\n    // \n    vec3 rgb2hsv(vec3 c)\n    {\n        vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n        vec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\n        vec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\n\n        float d = q.x - min(q.w, q.y);\n        float e = 1.0e-10;\n        return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n    }\n\n    vec3 hsv2rgb(vec3 c)\n    {\n        vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n        vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n        return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n    }\n    \n    void main() {\n        vec4 pixelColor = texture(u_image, v_texCoord);\n        vec2 onePixel = vec2(1) / vec2(textureSize(u_image, 0));                \n\n        "+r+"\n\n        "+Object.keys(n).map(function(t){return function(t){return"\n    \n    if (u_kernelSelect == "+t+".0) {\n        vec4 colorSum = "+(e=t,i=Math.sqrt(e),r=Math.floor(i/2),[].concat(R(Array(e))).map(function(t,n){var s=Math.floor(n/i)-r;return"texture(u_image, v_texCoord + onePixel * vec2("+(n%i-r)+", "+s+")) * u_kernel"+e+"["+n+"]"}).join(" + \n"))+"; \n\n        outColor = vec4((colorSum / u_kernel"+t+"Weight).rgb, 1);\n        \n    }\n    ";var e,i,r}(+t)}).join("\n")+"\n\n    }")),this.drawFilter(),"function"==typeof e&&e(this)}}]),t}()},Te=N({},$e,{filter:function(t,e,i,r){var n=new $e.GLCanvas({width:r.width||t.width,height:r.height||t.height,img:t});n.filter(function t(e){var i=[];"string"==typeof e?i=te(e):Array.isArray(e)&&(i=e);var r=[];return i.forEach(function(e){var i=e.arr[0];if(Fe[i]){var n=function(t){var e=t.arr[0],i=Fe[e],r=t.arr;return r.shift(),i.apply(this,r)}(e);"convolution"==n.type||"shader"==n.type?r.push(n):n.forEach(function(e){r=r.concat(t(e))})}}),r}(e),function(){"function"==typeof i&&i(n)})}});function _e(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{frameTimer:"full"},n=new ct(t);n.loadImage(function(){n.toArray(e,function(t){"function"==typeof i&&i(t)},r)})}var Me=N({},n,c,it,Y,$,y,{CMYKtoRGB:function(t,e,i,r){if(1==arguments.length){var n=arguments[0];t=n.c,e=n.m,i=n.y,r=n.k}return{r:255*(1-t)*(1-r),g:255*(1-e)*(1-r),b:255*(1-i)*(1-r)}}},A,B,E,{palette:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return e.length>i&&(e=function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"linear";t=t,e=e||Math.max(2,Math.ceil(Math.sqrt(t.length/2)));var s=i||"euclidean";"string"==typeof s&&(s=nt[s]);for(var a=0,o=function(){return(a=(9301*a+49297)%233280)/233280},u=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear";return st[i](t.length,e).map(function(e){return t[e]})}(t,e,n),h=!0,l=0;h&&(h=ht(e,t,ut(e,t,u,s),u,!1,o),++l%r!=0););return u}(e,i)),e.map(function(e){return t(e,r)})},ImageToCanvas:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{frameTimer:"full"};_e(t,e,i,Object.assign({returnTo:"canvas"},r))},ImageToHistogram:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{width:200,height:100},r=new ct(t);r.loadImage(function(){lt.createHistogram(i.width||200,i.height||100,r.toHistogram(i),function(t){"function"==typeof e&&e(t.toDataURL("image/png"))},i)})},ImageToRGB:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];r?r&&(e=new ct(t,i)).loadImage(function(){"function"==typeof r&&r(e.toRGB())}):(e=new ct(t)).loadImage(function(){"function"==typeof i&&i(e.toRGB())})},ImageToURL:_e,GLToCanvas:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=new ct(t);n.load(function(){Te.filter(n.newImage,e,function(t){"function"==typeof i&&i(t)},r)})},histogram:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ct(t);r.loadImage(function(){"function"==typeof e&&e(r.toHistogram(i))})},histogramToPoints:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,i=[],r=0;r<t.length;r++){var n=t[r];if(0!=r)if(r!=t.length-1){var s=t[r-1],a=t[r+1],o=(a[1],s[1],a[0],s[0],[s[0]+(a[0]-s[0])*e,s[1]+(a[1]-s[1])*e]),u=[[].concat(R(s)),[].concat(o)],h=Math.sqrt(Math.pow(n[0]-s[0],2)+Math.pow(n[1]-s[1],2))/Math.sqrt(Math.pow(a[0]-n[0],2)+Math.pow(a[1]-n[1],2)),l=u[0][0]+(u[1][0]-u[0][0])*h,c=u[0][1]+(u[1][1]-u[0][1])*h;u[0][0]+=n[0]-l,u[0][1]+=n[1]-c,u[1][0]+=n[0]-l,u[1][1]+=n[1]-c,i[r]=u}else i[r]=[];else i[r]=[]}return i}}),Ie=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];!function(){for(var t=0,e=Ie.length;t<e;t++){var i=Ie[t],r=Me.parse(i.rgb);i.r=r.r,i.g=r.g,i.b=r.b}}();var Pe={colors:Ie,checkHueColor:function(t){for(var e,i,r=0;r<Ie.length;r++)if(Ie[r].start>=t){e=Ie[r-1],i=Ie[r];break}return e&&i?Me.interpolateRGB(e,i,(t-e.start)/(i.start-e.start)):Ie[0].rgb}},Ne=N({},_t,It),Oe={Color:Me,HueColor:Pe,ColorNames:_,ImageFilter:Ne,GL:Te,Canvas:lt,ImageLoader:ct},Ue=(Me.color,0),Le=[],ze=function(){function t(e,i,r){if(M(this,t),"string"!=typeof e)this.el=e;else{var n=document.createElement(e);for(var s in this.uniqId=Ue++,i&&(n.className=i),r=r||{})n.setAttribute(s,r[s]);this.el=n}}return I(t,[{key:"attr",value:function(t,e){return 1==arguments.length?this.el.getAttribute(t):(this.el.setAttribute(t,e),this)}},{key:"closest",value:function(e){for(var i=this,r=!1;!(r=i.hasClass(e));){if(!i.el.parentNode)return null;i=new t(i.el.parentNode)}return r?i:null}},{key:"removeClass",value:function(t){return this.el.className=(" "+this.el.className+" ").replace(" "+t+" "," ").trim(),this}},{key:"hasClass",value:function(t){return!!this.el.className&&(" "+this.el.className+" ").indexOf(" "+t+" ")>-1}},{key:"addClass",value:function(t){return this.hasClass(t)||(this.el.className=this.el.className+" "+t),this}},{key:"toggleClass",value:function(t){this.hasClass(t)?this.removeClass(t):this.addClass(t)}},{key:"html",value:function(t){return"string"==typeof t?this.el.innerHTML=t:this.empty().append(t),this}},{key:"find",value:function(t){return this.el.querySelector(t)}},{key:"findAll",value:function(t){return this.el.querySelectorAll(t)}},{key:"empty",value:function(){return this.html("")}},{key:"append",value:function(t){return"string"==typeof t?this.el.appendChild(document.createTextNode(t)):this.el.appendChild(t.el||t),this}},{key:"appendTo",value:function(t){return(t.el?t.el:t).appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"text",value:function(){return this.el.textContent}},{key:"css",value:function(t,e){var i=this;if(2==arguments.length)this.el.style[t]=e;else if(1==arguments.length){if("string"==typeof t)return getComputedStyle(this.el)[t];var r=t||{};Object.keys(r).forEach(function(t){i.el.style[t]=r[t]})}return this}},{key:"cssFloat",value:function(t){return parseFloat(this.css(t))}},{key:"cssInt",value:function(t){return parseInt(this.css(t))}},{key:"offset",value:function(){var e=this.el.getBoundingClientRect();return{top:e.top+t.getScrollTop(),left:e.left+t.getScrollLeft()}}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.el.getBoundingClientRect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.el.getBoundingClientRect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.el.getBoundingClientRect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"dataKey",value:function(t){return this.uniqId+"."+t}},{key:"data",value:function(t,e){if(2!=arguments.length){if(1==arguments.length)return Le[this.dataKey(t)];var i=Object.keys(Le),r=this.uniqId+".";return i.filter(function(t){return 0==t.indexOf(r)}).map(function(t){return Le[t]})}return Le[this.dataKey(t)]=e,this}},{key:"val",value:function(t){return 0==arguments.length?this.el.value:(1==arguments.length&&(this.el.value=t),this)}},{key:"int",value:function(){return parseInt(this.val(),10)}},{key:"float",value:function(){return parseFloat(this.val())}},{key:"show",value:function(){return this.css("display","block")}},{key:"hide",value:function(){return this.css("display","none")}},{key:"toggle",value:function(){return"none"==this.css("display")?this.show():this.hide()}},{key:"scrollTop",value:function(){return this.el===document.body?t.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?t.getScrollLeft():this.el.scrollLeft}},{key:"on",value:function(t,e,i,r){return this.el.addEventListener(t,e,i,r),this}},{key:"off",value:function(t,e){return this.el.removeEventListener(t,e),this}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=new t(e,i,r);return s.css(n),this.append(s),s}},{key:"firstChild",value:function(){return new t(this.el.firstElementChild)}},{key:"replace",value:function(t,e){return this.el.replaceChild(e,t),this}}],[{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}}]),t}(),Re=function(){function t(e){M(this,t),this.$store=e,this.initialize()}return I(t,[{key:"initialize",value:function(){var t=this;this.filterProps().forEach(function(e){t.$store.action(e,t)})}},{key:"filterProps",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return Object.getOwnPropertyNames(this.__proto__).filter(function(e){return e.startsWith(t)})}}]),t}(),Xe=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Re),I(e,[{key:"initialize",value:function(){O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.$store.colorSetsList=[{name:"Material",colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"]},{name:"Custom",edit:!0,colors:[]},{name:"Color Scale",scale:["red","yellow","black"],count:5}],this.$store.currentColorSets={}}},{key:"/list",value:function(t){return Array.isArray(t.userList)&&t.userList.length?t.userList:t.colorSetsList}},{key:"/setUserPalette",value:function(t,e){t.userList=e,t.dispatch("/resetUserPalette"),t.dispatch("/setCurrentColorSets")}},{key:"/resetUserPalette",value:function(t){t.userList&&t.userList.length&&(t.userList=t.userList.map(function(e,i){if("function"==typeof e.colors){var r=e.colors;e.colors=r(t),e._colors=r}return Object.assign({name:"color-"+i,colors:[]},e)}),t.emit("changeUserList"))}},{key:"/setCurrentColorSets",value:function(t,e){var i=t.dispatch("/list");t.currentColorSets=void 0===e?i[0]:"number"==typeof e?i[e]:i.filter(function(t){return t.name==e})[0],t.emit("changeCurrentColorSets")}},{key:"/getCurrentColorSets",value:function(t){return t.currentColorSets}},{key:"/addCurrentColor",value:function(t,e){Array.isArray(t.currentColorSets.colors)&&(t.currentColorSets.colors.push(e),t.emit("changeCurrentColorSets"))}},{key:"/setCurrentColorAll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.currentColorSets.colors=e,t.emit("changeCurrentColorSets")}},{key:"/removeCurrentColor",value:function(t,e){t.currentColorSets.colors[e]&&(t.currentColorSets.colors.splice(e,1),t.emit("changeCurrentColorSets"))}},{key:"/removeCurrentColorToTheRight",value:function(t,e){t.currentColorSets.colors[e]&&(t.currentColorSets.colors.splice(e,Number.MAX_VALUE),t.emit("changeCurrentColorSets"))}},{key:"/clearPalette",value:function(t){t.currentColorSets.colors&&(t.currentColorSets.colors=[],t.emit("changeCurrentColorSets"))}},{key:"/getCurrentColors",value:function(t){return t.dispatch("/getColors",t.currentColorSets)}},{key:"/getColors",value:function(t,e){return e.scale?Me.scale(e.scale,e.count):e.colors||[]}},{key:"/getColorSetsList",value:function(t){return t.dispatch("/list").map(function(e){return{name:e.name,edit:e.edit,colors:t.dispatch("/getColors",e)}})}}]),e}(),je={addEvent:function(t,e,i){t&&t.addEventListener(e,i)},removeEvent:function(t,e,i){t&&t.removeEventListener(e,i)},pos:function(t){return t.touches&&t.touches[0]?t.touches[0]:t},posXY:function(t){var e=this.pos(t);return{x:e.pageX,y:e.pageY}}},Je=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,t),this.masterObj=e,this.settingObj=i}return I(t,[{key:"set",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.settingObj[t]=e||i}},{key:"init",value:function(t){if(!this.has(t)){var e=t.split("."),i=this.masterObj.refs[e[0]]||this.masterObj[e[0]]||this.masterObj,r=e.pop();if(i[r]){for(var n=arguments.length,s=Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var o=i[r].apply(i,s);this.set(t,o)}}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.init(t,e),this.settingObj[t]||e}},{key:"has",value:function(t){return!!this.settingObj[t]}}]),t}(),He=/^(click|mouse(down|up|move|enter|leave)|touch(start|move|end)|key(down|up|press)|contextmenu|change|input)/gi,Ve=/^load (.*)/gi,Ke=["Control","Shift","Alt","Meta"],Ge=function(){function t(){M(this,t),this.state=new Je(this),this.refs={},this.childComponents=this.components()}return I(t,[{key:"newChildComponents",value:function(){var t=this;Object.keys(this.childComponents).forEach(function(e){var i=t.childComponents[e];t[e]=new i(t)})}},{key:"render",value:function(){this.$el=this.parseTemplate(this.template()),this.refs.$el=this.$el,this.parseTarget(),this.load()}},{key:"components",value:function(){return{}}},{key:"parseTemplate",value:function(t){var e=this,i=new ze("div").html(t).firstChild(),r=i.findAll("[ref]");return[].concat(R(r)).forEach(function(t){var i=t.getAttribute("ref");e.refs[i]=new ze(t)}),i}},{key:"parseTarget",value:function(){var t=this,e=this.$el,i=e.findAll("[target]");[].concat(R(i)).forEach(function(i){var r=i.getAttribute("target"),n=i.getAttribute("ref")||r,s=new(0,t.childComponents[r])(t);t[n]=s,t.refs[n]=s.$el,s&&(s.render(),e.replace(i,s.$el.el))})}},{key:"load",value:function(){var t=this;this.filterProps(Ve).forEach(function(e){var i=e.split("load ")[1];t.refs[i]&&t.refs[i].html(t.parseTemplate(t[e].call(t)))})}},{key:"template",value:function(){return"<div></div>"}},{key:"initialize",value:function(){}},{key:"initializeEvent",value:function(){var t=this;this.initializeEventMachin(),Object.keys(this.childComponents).forEach(function(e){t[e]&&t[e].initializeEvent()})}},{key:"destroy",value:function(){var t=this;this.destroyEventMachin(),Object.keys(this.childComponents).forEach(function(e){t[e]&&t[e].destroy()})}},{key:"destroyEventMachin",value:function(){this.removeEventAll()}},{key:"initializeEventMachin",value:function(){this.filterProps(He).forEach(this.parseEvent.bind(this))}},{key:"collectProps",value:function(){if(!this.collapsedProps){var t=this.__proto__,e=[];do{e.push.apply(e,R(Object.getOwnPropertyNames(t))),t=t.__proto__}while(t);this.collapsedProps=e}return this.collapsedProps}},{key:"filterProps",value:function(t){return this.collectProps().filter(function(e){return e.match(t)})}},{key:"parseEvent",value:function(t){var e=t.split(" ");this.bindingEvent(e,this[t].bind(this))}},{key:"getDefaultDomElement",value:function(t){var e=void 0;return(e=t?this.refs[t]||this[t]||window[t]:this.el||this.$el||this.$root)instanceof ze?e.getElement():e}},{key:"getDefaultEventObject",value:function(t){var e=this,i=t.split("."),r=i.shift(),n=i.includes("Control"),s=i.includes("Shift"),a=i.includes("Alt"),o=i.includes("Meta"),u=(i=i.filter(function(t){return!1===Ke.includes(t)})).filter(function(t){return!!e[t]});return{eventName:r,isControl:n,isShift:s,isAlt:a,isMeta:o,codes:i=i.filter(function(t){return!1===u.includes(t)}).map(function(t){return t.toLowerCase()}),checkMethodList:u}}},{key:"bindingEvent",value:function(t,e){var i,r=(i=t,Array.isArray(i)?i:Array.from(i)),n=r[0],s=r[1],a=r.slice(2);s=this.getDefaultDomElement(s);var o=this.getDefaultEventObject(n);o.dom=s,o.delegate=a.join(" "),this.addEvent(o,e)}},{key:"matchPath",value:function(t,e){return t?t.matches(e)?t:this.matchPath(t.parentElement,e):null}},{key:"getBindings",value:function(){return this._bindings||this.initBindings(),this._bindings}},{key:"addBinding",value:function(t){this.getBindings().push(t)}},{key:"initBindings",value:function(){this._bindings=[]}},{key:"checkEventType",value:function(t,e){var i=this,r=!t.ctrlKey||e.isControl,n=!t.shiftKey||e.isShift,s=!t.altKey||e.isAlt,a=!t.metaKey||e.isMeta,o=!0;e.codes.length&&(o=e.codes.includes(t.code.toLowerCase())||e.codes.includes(t.key.toLowerCase()));var u=!0;return e.checkMethodList.length&&(u=e.checkMethodList.every(function(e){return i[e].call(i,t)})),r&&s&&n&&a&&o&&u}},{key:"makeCallback",value:function(t,e){var i=this;return t.delegate?function(r){if(i.checkEventType(r,t)){var n=i.matchPath(r.target||r.srcElement,t.delegate);if(n)return r.delegateTarget=n,r.$delegateTarget=new ze(n),e(r)}}:function(r){if(i.checkEventType(r,t))return e(r)}}},{key:"addEvent",value:function(t,e){t.callback=this.makeCallback(t,e),this.addBinding(t),je.addEvent(t.dom,t.eventName,t.callback)}},{key:"removeEventAll",value:function(){var t=this;this.getBindings().forEach(function(e){t.removeEvent(e)}),this.initBindings()}},{key:"removeEvent",value:function(t){var e=t.eventName,i=t.dom,r=t.callback;je.removeEvent(i,e,r)}}]),t}(),We=/^@/,Ye=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.opt=t||{},t&&t.$store&&(i.$store=t.$store),i.initialize(),i.initializeStoreEvent(),i}return U(e,Ge),I(e,[{key:"initializeStoreEvent",value:function(){var t=this;this.storeEvents={},this.filterProps(We).forEach(function(e){var i=e.split("@");i.shift();var r=i.join("@");t.storeEvents[r]=t[e].bind(t),t.$store.on(r,t.storeEvents[r])})}},{key:"destoryStoreEvent",value:function(){var t=this;Object.keys(this.storeEvents).forEach(function(e){t.$store.off(e,t.storeEvents[e])})}}]),e}(),qe=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Re),I(e,[{key:"initialize",value:function(){O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initialize",this).call(this),this.$store.rgb={},this.$store.hsl={},this.$store.hsv={},this.$store.alpha=1,this.$store.format="hex"}},{key:"/changeFormat",value:function(t,e){t.format=e,t.emit("changeFormat")}},{key:"/initColor",value:function(t,e,i){t.dispatch("/changeColor",e,i,!0),t.emit("initColor")}},{key:"/changeColor",value:function(t,e,i,r){var n;"string"==typeof(e=e||"#FF0000")&&(e=Me.parse(e)),e.source=e.source||i,t.alpha=void 0===(n=e.a)||null==n?t.alpha:e.a,t.format="hsv"!=e.type&&e.type||t.format,"hex"==t.format&&t.alpha<1&&(t.format="rgb"),"hsl"==e.type?(t.hsl=Object.assign(t.hsl,e),t.rgb=Me.HSLtoRGB(t.hsl),t.hsv=Me.HSLtoHSV(e)):"hex"==e.type?(t.rgb=Object.assign(t.rgb,e),t.hsl=Me.RGBtoHSL(t.rgb),t.hsv=Me.RGBtoHSV(e)):"rgb"==e.type?(t.rgb=Object.assign(t.rgb,e),t.hsl=Me.RGBtoHSL(t.rgb),t.hsv=Me.RGBtoHSV(e)):"hsv"==e.type&&(t.hsv=Object.assign(t.hsv,e),t.rgb=Me.HSVtoRGB(t.hsv),t.hsl=Me.HSVtoHSL(t.hsv)),r||t.emit("changeColor",e.source)}},{key:"/getHueColor",value:function(t){return Pe.checkHueColor(t.hsv.h/360)}},{key:"/toString",value:function(t,e){var i=t[e=e||t.format]||t.rgb;return Me.format(Object.assign({},i,{a:t.alpha}),e)}},{key:"/toColor",value:function(t,e){return"rgb"==(e=e||t.format)?t.dispatch("/toRGB"):"hsl"==e?t.dispatch("/toHSL"):"hex"==e?t.dispatch("/toHEX"):t.dispatch("/toString",e)}},{key:"/toRGB",value:function(t){return t.dispatch("/toString","rgb")}},{key:"/toHSL",value:function(t){return t.dispatch("/toString","hsl")}},{key:"/toHEX",value:function(t){return t.dispatch("/toString","hex").toUpperCase()}}]),e}(),Ze=function(){function t(e){M(this,t),this.callbacks=[],this.actions=[],this.modules=e.modules||[],this.initialize()}return I(t,[{key:"initialize",value:function(){this.initializeModule()}},{key:"initializeModule",value:function(){var t=this;this.modules.forEach(function(e){new e(t)})}},{key:"action",value:function(t,e){this.actions[t]={context:e,callback:e[t]}}},{key:"dispatch",value:function(t){var e=[].concat(Array.prototype.slice.call(arguments)),i=(t=e.shift(),this.actions[t]);if(i)return i.callback.apply(i.context,[this].concat(R(e)))}},{key:"module",value:function(t){}},{key:"on",value:function(t,e){this.callbacks.push({event:t,callback:e})}},{key:"off",value:function(t,e){0==arguments.length?this.callbacks=[]:1==arguments.length?this.callbacks=this.callbacks.filter(function(e){return e.event!=t}):2==arguments.length&&(this.callbacks=this.callbacks.filter(function(i){return i.event!=t&&i.callback!=e}))}},{key:"emit",value:function(){var t=[].concat(Array.prototype.slice.call(arguments)),e=t.shift();this.callbacks.filter(function(t){return t.event==e}).forEach(function(e){e&&"function"==typeof e.callback&&e.callback.apply(e,R(t))})}}]),t}(),Qe=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.isColorPickerShow=!1,i.isShortCut=!1,i.hideDelay=+(void 0===i.opt.hideDeplay?2e3:i.opt.hideDelay),i.timerCloseColorPicker,i.autoHide=i.opt.autoHide||!0,i.outputFormat=i.opt.outputFormat,i.$checkColorPickerClass=i.checkColorPickerClass.bind(i),i}return U(e,Ye),I(e,[{key:"initialize",value:function(){var t=this;this.$body=null,this.$root=null,this.$store=new Ze({modules:[qe,Xe]}),this.callbackChange=function(){t.callbackColorValue()},this.colorpickerShowCallback=function(){},this.colorpickerHideCallback=function(){},this.$body=new ze(this.getContainer()),this.$root=new ze("div","codemirror-colorpicker"),"inline"==this.opt.position&&this.$body.append(this.$root),this.opt.type&&this.$root.addClass(this.opt.type),this.opt.hideInformation&&this.$root.addClass("hide-information"),this.opt.hideColorsets&&this.$root.addClass("hide-colorsets"),this.$arrow=new ze("div","arrow"),this.$root.append(this.$arrow),this.$store.dispatch("/setUserPalette",this.opt.colorSets),this.render(),this.$root.append(this.$el),this.initColorWithoutChangeEvent(this.opt.color),this.initializeEvent()}},{key:"initColorWithoutChangeEvent",value:function(t){this.$store.dispatch("/initColor",t)}},{key:"show",value:function(t,e,i,r){this.colorpickerShowCallback=i,this.colorpickerHideCallback=r,this.$root.css(this.getInitalizePosition()).show(),this.isColorPickerShow=!0,this.isShortCut=t.isShortCut||!1,this.outputFormat=t.outputFormat,this.hideDelay=+(void 0===t.hideDelay?2e3:t.hideDelay),this.hideDelay>0&&this.setHideDelay(this.hideDelay),this.$root.appendTo(this.$body),this.definePosition(t),this.initColorWithoutChangeEvent(e)}},{key:"initColor",value:function(t,e){this.$store.dispatch("/changeColor",t,e)}},{key:"hide",value:function(){this.isColorPickerShow&&(this.$root.hide(),this.$root.remove(),this.isColorPickerShow=!1,this.callbackHideColorValue())}},{key:"setColorsInPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$store.dispatch("/setCurrentColorAll",t)}},{key:"setUserPalette",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.$store.dispatch("/setUserPalette",t)}},{key:"getOption",value:function(t){return this.opt[t]}},{key:"setOption",value:function(t,e){this.opt[t]=e}},{key:"isType",value:function(t){return this.getOption("type")==t}},{key:"isPaletteType",value:function(){return this.isType("palette")}},{key:"isSketchType",value:function(){return this.isType("sketch")}},{key:"getContainer",value:function(){return this.opt.container||document.body}},{key:"getColor",value:function(t){return this.$store.dispatch("/toColor",t)}},{key:"definePositionForArrow",value:function(t,e,i){}},{key:"definePosition",value:function(t){var e=this.$root.width(),i=this.$root.height(),r=t.left-this.$body.scrollLeft();e+r>window.innerWidth&&(r-=e+r-window.innerWidth),r<0&&(r=0);var n=t.top-this.$body.scrollTop();i+n>window.innerHeight&&(n-=i+n-window.innerHeight),n<0&&(n=0),this.$root.css({left:r+"px",top:n+"px"})}},{key:"getInitalizePosition",value:function(){return"inline"==this.opt.position?{position:"relative",left:"auto",top:"auto",display:"inline-block"}:{position:"fixed",left:"-10000px",top:"-10000px"}}},{key:"isAbsolute",value:function(){return"inline"!==this.opt.position}},{key:"mouseup.isAbsolute document",value:function(t){this.__isMouseDown=!1,this.checkInHtml(t.target)||(0==this.checkColorPickerClass(t.target)?this.hide():this.__isMouseIn||(clearTimeout(this.timerCloseColorPicker),this.timerCloseColorPicker=setTimeout(this.hide.bind(this),this.delayTime||this.hideDelay)))}},{key:"mouseover.isAbsolute $root",value:function(t){clearTimeout(this.timerCloseColorPicker)}},{key:"mousemove.isAbsolute $root",value:function(t){clearTimeout(this.timerCloseColorPicker)}},{key:"mouseenter.isAbsolute $root",value:function(t){clearTimeout(this.timerCloseColorPicker),this.__isMouseIn=!0}},{key:"mouseleave.isAbsolute $root",value:function(t){this.__isMouseIn=!1,this.__isMouseDown||(clearTimeout(this.timerCloseColorPicker),this.timerCloseColorPicker=setTimeout(this.hide.bind(this),this.delayTime||this.hideDelay))}},{key:"mousedown.isAbsolute $root",value:function(t){this.__isMouseDown=!0}},{key:"setHideDelay",value:function(t){this.delayTime=t||0}},{key:"runHideDelay",value:function(){this.isColorPickerShow&&this.setHideDelay()}},{key:"callbackColorValue",value:function(t){t=t||this.getCurrentColor(),"function"==typeof this.opt.onChange&&this.opt.onChange.call(this,t),"function"==typeof this.colorpickerShowCallback&&this.colorpickerShowCallback(t)}},{key:"callbackHideColorValue",value:function(t){t=t||this.getCurrentColor(),"function"==typeof this.opt.onHide&&this.opt.onHide.call(this,t),"function"==typeof this.colorpickerHideCallback&&this.colorpickerHideCallback(t)}},{key:"getCurrentColor",value:function(){return this.$store.dispatch("/toColor",this.outputFormat)}},{key:"checkColorPickerClass",value:function(t){var e=new ze(t).closest("codemirror-colorview"),i=new ze(t).closest("codemirror-colorpicker"),r=new ze(t).closest("CodeMirror");return t.nodeName,!!(i||e||r)}},{key:"checkInHtml",value:function(t){return"HTML"==t.nodeName}},{key:"initializeStoreEvent",value:function(){O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"initializeStoreEvent",this).call(this),this.$store.on("changeColor",this.callbackChange),this.$store.on("changeFormat",this.callbackChange)}},{key:"destroy",value:function(){O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.$store.off("changeColor",this.callbackChange),this.$store.off("changeFormat",this.callbackChange),this.callbackChange=void 0,this.colorpickerShowCallback=void 0,this.colorpickerHideCallback=void 0}}]),e}(),ti=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.source="base-box",i}return U(e,Ye),I(e,[{key:"refresh",value:function(){}},{key:"refreshColorUI",value:function(t){}},{key:"changeColor",value:function(t){this.$store.dispatch("/changeColor",Object.assign({source:this.source},t||{}))}},{key:"mouseup document",value:function(t){this.onDragEnd(t)}},{key:"mousemove document",value:function(t){this.onDragMove(t)}},{key:"mousedown $bar",value:function(t){t.preventDefault(),this.isDown=!0}},{key:"mousedown $container",value:function(t){this.isDown=!0,this.onDragStart(t)}},{key:"touchend document",value:function(t){this.onDragEnd(t)}},{key:"touchmove document",value:function(t){this.onDragMove(t)}},{key:"touchstart $bar",value:function(t){t.preventDefault(),this.isDown=!0}},{key:"touchstart $container",value:function(t){this.onDragStart(t)}},{key:"onDragStart",value:function(t){this.isDown=!0,this.refreshColorUI(t)}},{key:"onDragMove",value:function(t){this.isDown&&this.refreshColorUI(t)}},{key:"onDragEnd",value:function(t){this.isDown=!1}},{key:"@changeColor",value:function(t){this.source!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(),ei=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.minValue=0,i.maxValue=1,i.source="base-slider",i}return U(e,ti),I(e,[{key:"getMinMaxPosition",value:function(){var t=this.getMinPosition(),e=this.getMaxDist();return{min:t,max:t+e,width:e}}},{key:"getCurrent",value:function(t){return min+this.getMaxDist()*t}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().left}},{key:"getMaxDist",value:function(){return this.state.get("$container.width")}},{key:"getDist",value:function(t){var e=this.getMinMaxPosition(),i=e.min,r=e.max;return t<i?0:t>r?100:(t-i)/(r-i)*100}},{key:"getCaculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.maxValue);return this.getDist(e)}},{key:"getDefaultValue",value:function(){return 0}},{key:"setMousePosition",value:function(t){this.refs.$bar.css({left:t+"px"})}},{key:"getMousePosition",value:function(t){return je.pos(t).pageX}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((t||0)/this.maxValue))}}]),e}(),ii=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.minValue=0,i.maxValue=1,i.source="value-control",i}return U(e,ei),I(e,[{key:"template",value:function(){return'\n            <div class="value">\n                <div ref="$container" class="value-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$container.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"refresh",this).call(this),this.setBackgroundColor()}},{key:"getDefaultValue",value:function(){return this.$store.hsv.v}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({type:"hsv",v:e/100*this.maxValue})}}]),e}(),ri=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.minValue=0,i.maxValue=1,i.source="opacity-control",i}return U(e,ei),I(e,[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=Object.assign({},this.$store.rgb);t.a=0;var e=Me.format(t,"rgb");t.a=1;var i=Me.format(t,"rgb");this.setOpacityColorBarBackground(e,i)}},{key:"setOpacityColorBarBackground",value:function(t,e){this.refs.$colorbar.css("background","linear-gradient(to right, "+t+", "+e+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}]),e}(),ni=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"components",value:function(){return{Value:ii,Opacity:ri}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Value" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Value.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"macos-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(),si=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.width=214,i.height=214,i.thinkness=0,i.half_thinkness=0,i.source="colorwheel",i}return U(e,Ye),I(e,[{key:"template",value:function(){return'\n        <div class="wheel">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="wheel-canvas" ref="$valuewheel" ></div>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"refresh",value:function(t){this.setColorUI(t)}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.renderValue(),this.setHueColor(null,t)}},{key:"renderValue",value:function(){var t=1-this.$store.hsv.v;this.refs.$valuewheel.css({"background-color":"rgba(0, 0, 0, "+t+")"})}},{key:"renderWheel",value:function(t,e){this.width&&!t&&(t=this.width),this.height&&!e&&(e=this.height);var i=new ze("canvas"),r=i.el.getContext("2d");i.el.width=t,i.el.height=e,i.css({width:t+"px",height:e+"px"});for(var n=r.getImageData(0,0,t,e),s=n.data,a=Math.floor(t/2),o=Math.floor(e/2),u=t>e?o:a,h=a,c=o,p=0;p<e;p++)for(var f=0;f<t;f++){var d=f-h+1,v=p-c+1,m=d*d+v*v,g=l(d,v),x=Me.HSVtoRGB(g,Math.min(Math.sqrt(m)/u,1),1),y=4*(p*t+f);s[y]=x.r,s[y+1]=x.g,s[y+2]=x.b,s[y+3]=255}return r.putImageData(n,0,0),this.thinkness>0&&(r.globalCompositeOperation="destination-out",r.fillStyle="black",r.beginPath(),r.arc(h,c,u-this.thinkness,0,2*Math.PI),r.closePath(),r.fill()),i}},{key:"renderCanvas",value:function(){if(!this.$store.createdWheelCanvas){var t=this.refs.$colorwheel,e=t.el.getContext("2d"),i=t.size(),r=z(i,2),n=r[0],s=r[1];this.width&&!n&&(n=this.width),this.height&&!s&&(s=this.height),t.el.width=n,t.el.height=s,t.css({width:n+"px",height:s+"px"});var a=this.renderWheel(n,s);e.drawImage(a.el,0,0),this.$store.createdWheelCanvas=!0}}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getDefaultSaturation",value:function(){return this.$store.hsv.s}},{key:"getCurrentXY",value:function(t,e,i,r,n){return t?je.posXY(t):function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{x:u(t,e,i),y:h(t,e,r)}}(e,i,r,n)}},{key:"getRectangle",value:function(){var t=this.state.get("$el.width"),e=this.state.get("$el.height"),i=this.state.get("$colorwheel.width")/2,r=this.refs.$el.offset().left,n=r+t/2,s=this.refs.$el.offset().top;return{minX:r,minY:s,width:t,height:e,radius:i,centerX:n,centerY:s+e/2}}},{key:"setHueColor",value:function(t,e){if(this.state.get("$el.width")){var i=this.getRectangle(),r=i.minX,n=i.minY,s=i.radius,a=i.centerX,o=i.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),this.getDefaultSaturation()*s,a,o),h=(v=u.x)-a,c=(m=u.y)-o,p=h*h+c*c,f=l(h,c);if(p>s*s)var d=this.getCurrentXY(null,f,s,a,o),v=d.x,m=d.y;var g=Math.min(Math.sqrt(p)/s,1);this.refs.$drag_pointer.css({left:v-r+"px",top:m-n+"px"}),e||this.changeColor({type:"hsv",h:f,s:g})}}},{key:"changeColor",value:function(t){this.$store.dispatch("/changeColor",Object.assign({source:this.source},t||{}))}},{key:"@changeColor",value:function(t){this.source!=t&&this.refresh(!0)}},{key:"@initColor",value:function(){this.refresh(!0)}},{key:"mouseup document",value:function(t){this.isDown=!1}},{key:"mousemove document",value:function(t){this.isDown&&this.setHueColor(t)}},{key:"mousedown $drag_pointer",value:function(t){t.preventDefault(),this.isDown=!0}},{key:"mousedown $el",value:function(t){this.isDown=!0,this.setHueColor(t)}},{key:"touchend document",value:function(t){this.isDown=!1}},{key:"touchmove document",value:function(t){this.isDown&&this.setHueColor(t)}},{key:"touchstart $drag_pointer",value:function(t){t.preventDefault(),this.isDown=!0}},{key:"touchstart $el",value:function(t){t.preventDefault(),this.isDown=!0,this.setHueColor(t)}}]),e}(),ai="chromedevtool-information",oi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"template",value:function(){return'\n        <div class="information hex">\n            <div ref="$informationChange" class="information-change">\n                <button ref="$formatChangeButton" type="button" class="format-change-button arrow-button"></button>\n            </div>\n            <div class="information-item hex">\n                <div class="input-field hex">\n                    <input ref="$hexCode" class="input" type="text" />\n                    <div class="title">HEX</div>\n                </div>\n            </div>\n            <div class="information-item rgb">\n                <div class="input-field rgb-r">\n                    <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">R</div>\n                </div>\n                <div class="input-field rgb-g">\n                    <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">G</div>\n                </div>\n                <div class="input-field rgb-b">\n                    <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />\n                    <div class="title">B</div>\n                </div>          \n                <div class="input-field rgb-a">\n                    <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>                                                            \n            </div>\n            <div class="information-item hsl">\n                <div class="input-field hsl-h">\n                    <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />\n                    <div class="title">H</div>\n                </div>\n                <div class="input-field hsl-s">\n                    <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>\n                    <div class="title">S</div>\n                </div>\n                <div class="input-field hsl-l">\n                    <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />\n                    <div class="postfix">%</div>                        \n                    <div class="title">L</div>\n                </div>\n                <div class="input-field hsl-a">\n                    <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />\n                    <div class="title">A</div>\n                </div>\n            </div>\n        </div>\n        '}},{key:"setCurrentFormat",value:function(t){this.format=t,this.initFormat()}},{key:"initFormat",value:function(){var t=this.format||"hex";this.$el.removeClass("hex"),this.$el.removeClass("rgb"),this.$el.removeClass("hsl"),this.$el.addClass(t)}},{key:"nextFormat",value:function(){var t=this.format||"hex",e="hex";"hex"==t?e="rgb":"rgb"==t?e="hsl":"hsl"==t&&(e=1==this.$store.alpha?"hex":"rgb"),this.$el.removeClass(t),this.$el.addClass(e),this.format=e,this.$store.dispatch("/changeFormat",this.format)}},{key:"getFormat",value:function(){return this.format||"hex"}},{key:"checkNumberKey",value:function(t){return je.checkNumberKey(t)}},{key:"checkNotNumberKey",value:function(t){return!je.checkNumberKey(t)}},{key:"changeRgbColor",value:function(){this.$store.dispatch("/changeColor",{type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float(),source:ai})}},{key:"changeHslColor",value:function(){this.$store.dispatch("/changeColor",{type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float(),source:ai})}},{key:"@changeColor",value:function(t){ai!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}},{key:"input $rgb_r",value:function(t){this.changeRgbColor()}},{key:"input $rgb_g",value:function(t){this.changeRgbColor()}},{key:"input $rgb_b",value:function(t){this.changeRgbColor()}},{key:"input $rgb_a",value:function(t){this.changeRgbColor()}},{key:"input $hsl_h",value:function(t){this.changeHslColor()}},{key:"input $hsl_s",value:function(t){this.changeHslColor()}},{key:"input $hsl_l",value:function(t){this.changeHslColor()}},{key:"input $hsl_a",value:function(t){this.changeHslColor()}},{key:"keydown $hexCode",value:function(t){if(t.which<65||t.which>70)return this.checkNumberKey(t)}},{key:"keyup $hexCode",value:function(t){var e=this.refs.$hexCode.val();"#"==e.charAt(0)&&7==e.length&&this.$store.dispatch("/changeColor",e,ai)}},{key:"click $formatChangeButton",value:function(t){this.nextFormat()}},{key:"setRGBInput",value:function(){this.refs.$rgb_r.val(this.$store.rgb.r),this.refs.$rgb_g.val(this.$store.rgb.g),this.refs.$rgb_b.val(this.$store.rgb.b),this.refs.$rgb_a.val(this.$store.alpha)}},{key:"setHSLInput",value:function(){this.refs.$hsl_h.val(this.$store.hsl.h),this.refs.$hsl_s.val(this.$store.hsl.s),this.refs.$hsl_l.val(this.$store.hsl.l),this.refs.$hsl_a.val(this.$store.alpha)}},{key:"setHexInput",value:function(){this.refs.$hexCode.val(this.$store.dispatch("/toHEX"))}},{key:"refresh",value:function(){this.setCurrentFormat(this.$store.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}]),e}(),ui=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"template",value:function(){return'\n            <div class="color-chooser">\n                <div class="color-chooser-container">\n                    <div class="colorsets-item colorsets-item-header">\n                        <h1 class="title">Color Palettes</h1>\n                        <span ref="$toggleButton" class="items">&times;</span>\n                    </div>\n                    <div ref="$colorsetsList" class="colorsets-list"></div>\n                </div>\n            </div>\n        '}},{key:"refresh",value:function(){this.load()}},{key:"@changeCurrentColorSets",value:function(){this.refresh()}},{key:"@toggleColorChooser",value:function(){this.toggle()}},{key:"load $colorsetsList",value:function(){return"\n            <div>\n                "+this.$store.dispatch("/getColorSetsList").map(function(t,e){return'\n                        <div class="colorsets-item" data-colorsets-index="'+e+'" >\n                            <h1 class="title">'+t.name+'</h1>\n                            <div class="items">\n                                <div>\n                                    '+t.colors.filter(function(t,e){return e<5}).map(function(t){return'<div class="color-item" title="'+(t=t||"rgba(255, 255, 255, 1)")+'">\n                                                <div class="color-view" style="background-color: '+t+'"></div>\n                                            </div>'}).join("")+"\n                                </div>\n                            </div>\n                        </div>"}).join("")+"\n            </div>\n        "}},{key:"show",value:function(){this.$el.addClass("open")}},{key:"hide",value:function(){this.$el.removeClass("open")}},{key:"toggle",value:function(){this.$el.toggleClass("open")}},{key:"click $toggleButton",value:function(t){this.toggle()}},{key:"click $colorsetsList .colorsets-item",value:function(t){var e=t.$delegateTarget;if(e){var i=parseInt(e.attr("data-colorsets-index"));this.$store.dispatch("/setCurrentColorSets",i),this.hide()}}},{key:"destroy",value:function(){O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.hide()}}]),e}(),hi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"template",value:function(){return'\n            <div class="colorsets">\n                <div class="menu" title="Open Color Palettes">\n                    <button ref="$colorSetsChooseButton" type="button" class="color-sets-choose-btn arrow-button"></button>\n                </div>\n                <div ref="$colorSetsColorList" class="color-list"></div>\n            </div>\n        '}},{key:"load $colorSetsColorList",value:function(){var t=this.$store.dispatch("/getCurrentColorSets");return'\n            <div class="current-color-sets">\n            '+this.$store.dispatch("/getCurrentColors").map(function(t,e){return'<div class="color-item" title="'+t+'" data-index="'+e+'" data-color="'+t+'">\n                    <div class="empty"></div>\n                    <div class="color-view" style="background-color: '+t+'"></div>\n                </div>'}).join("")+"   \n            "+(t.edit?'<div class="add-color-item">+</div>':"")+"         \n            </div>\n        "}},{key:"refresh",value:function(){this.load()}},{key:"addColor",value:function(t){this.$store.dispatch("/addCurrentColor",t)}},{key:"@changeCurrentColorSets",value:function(){this.refresh()}},{key:"click $colorSetsChooseButton",value:function(t){this.$store.emit("toggleColorChooser")}},{key:"contextmenu $colorSetsColorList",value:function(t){if(t.preventDefault(),this.$store.dispatch("/getCurrentColorSets").edit){var e=new ze(t.target).closest("color-item");if(e){var i=parseInt(e.attr("data-index"));this.$store.emit("showContextMenu",t,i)}else this.$store.emit("showContextMenu",t)}}},{key:"click $colorSetsColorList .add-color-item",value:function(t){this.addColor(this.$store.dispatch("/toColor"))}},{key:"click $colorSetsColorList .color-item",value:function(t){this.$store.dispatch("/changeColor",t.$delegateTarget.attr("data-color"))}}]),e}(),li=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"template",value:function(){return'\n            <ul class="colorsets-contextmenu">\n                <li class="menu-item small-hide" data-type="remove-color">Remove color</li>\n                <li class="menu-item small-hide" data-type="remove-all-to-the-right">Remove all to the right</li>\n                <li class="menu-item" data-type="clear-palette">Clear palette</li>\n            </ul>\n        '}},{key:"show",value:function(t,e){var i=je.pos(t);this.$el.css({top:i.clientY-10+"px",left:i.clientX+"px"}),this.$el.addClass("show"),this.selectedColorIndex=e,void 0===this.selectedColorIndex?this.$el.addClass("small"):this.$el.removeClass("small")}},{key:"hide",value:function(){this.$el.removeClass("show")}},{key:"runCommand",value:function(t){switch(t){case"remove-color":this.$store.dispatch("/removeCurrentColor",this.selectedColorIndex);break;case"remove-all-to-the-right":this.$store.dispatch("/removeCurrentColorToTheRight",this.selectedColorIndex);break;case"clear-palette":this.$store.dispatch("/clearPalette")}}},{key:"@showContextMenu",value:function(t,e){this.show(t,e)}},{key:"click $el .menu-item",value:function(t){t.preventDefault(),this.runCommand(t.$delegateTarget.attr("data-type")),this.hide()}}]),e}(),ci=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Qe),I(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="colorwheel"></div>\n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>                \n            </div>\n        '}},{key:"components",value:function(){return{colorwheel:si,control:ni,information:oi,currentColorSets:hi,colorSetsChooser:ui,contextMenu:li}}}]),e}(),pi=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.minValue=0,i.maxValue=360,i.source="hue-control",i}return U(e,ei),I(e,[{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}]),e}(),fi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"components",value:function(){return{Hue:pi,Opacity:ri}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"chromedevtool-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(),di="chromedevtool-palette",vi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"template",value:function(){return'\n        <div class="color">\n            <div ref="$saturation" class="saturation">\n                <div ref="$value" class="value">\n                    <div ref="$drag_pointer" class="drag-pointer"></div>\n                </div>\n            </div>        \n        </div>        \n        '}},{key:"setBackgroundColor",value:function(t){this.$el.css("background-color",t)}},{key:"refresh",value:function(){this.setColorUI()}},{key:"caculateSV",value:function(){var t=this.drag_pointer_pos||{x:0,y:0},e=this.state.get("$el.width"),i=this.state.get("$el.height"),r=t.x/e,n=(i-t.y)/i;this.$store.dispatch("/changeColor",{type:"hsv",s:r,v:n,source:di})}},{key:"setColorUI",value:function(){var t=this.state.get("$el.width")*this.$store.hsv.s,e=this.state.get("$el.height")*(1-this.$store.hsv.v);this.refs.$drag_pointer.css({left:t+"px",top:e+"px"}),this.drag_pointer_pos={x:t,y:e},this.setBackgroundColor(this.$store.dispatch("/getHueColor"))}},{key:"setMainColor",value:function(t){var e=this.$el.offset(),i=this.state.get("$el.contentWidth"),r=this.state.get("$el.contentHeight"),n=je.pos(t).pageX-e.left,s=je.pos(t).pageY-e.top;n<0?n=0:n>i&&(n=i),s<0?s=0:s>r&&(s=r),this.refs.$drag_pointer.css({left:n+"px",top:s+"px"}),this.drag_pointer_pos={x:n,y:s},this.caculateSV()}},{key:"@changeColor",value:function(t){di!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}},{key:"mouseup document",value:function(t){this.isDown=!1}},{key:"mousemove document",value:function(t){this.isDown&&this.setMainColor(t)}},{key:"mousedown",value:function(t){this.isDown=!0,this.setMainColor(t)}},{key:"mouseup",value:function(t){this.isDown=!1}},{key:"touchend document",value:function(t){this.isDown=!1}},{key:"touchmove document",value:function(t){this.isDown&&this.setMainColor(t)}},{key:"touchstart",value:function(t){t.preventDefault(),this.isDown=!0,this.setMainColor(t)}},{key:"touchend",value:function(t){this.isDown=!1}}]),e}(),mi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Qe),I(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:vi,control:fi,information:oi,currentColorSets:hi,colorSetsChooser:ui,contextMenu:li}}}]),e}(),gi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"components",value:function(){return{Hue:pi,Opacity:ri}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="Opacity" ></div>\n        </div>\n        '}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"mini-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(),xi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Qe),I(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div>\n                <div target="control"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:vi,control:gi}}}]),e}(),yi=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.source="vertical-slider",i}return U(e,ei),I(e,[{key:"getMaxDist",value:function(){return this.state.get("$container.height")}},{key:"setMousePosition",value:function(t){this.refs.$bar.css({top:t+"px"})}},{key:"getMousePosition",value:function(t){return je.pos(t).pageY}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().top}},{key:"getCaculatedDist",value:function(t){var e=t?this.getMousePosition(t):this.getCurrent(this.getDefaultValue()/this.maxValue);return 100-this.getDist(e)}},{key:"setColorUI",value:function(t){(t=t||this.getDefaultValue())<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):t>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first");var e=1-(t||0)/this.maxValue;this.setMousePosition(this.getMaxDist()*e)}}]),e}(),Di=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.minValue=0,i.maxValue=360,i.source="vertical-hue-control",i}return U(e,yi),I(e,[{key:"template",value:function(){return'\n            <div class="hue">\n                <div ref="$container" class="hue-container">\n                    <div ref="$bar" class="drag-bar"></div>\n                </div>\n            </div>\n        '}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({h:e/100*this.maxValue,type:"hsv"})}}]),e}(),Ci=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.source="vertical-opacity-control",i}return U(e,yi),I(e,[{key:"template",value:function(){return'\n        <div class="opacity">\n            <div ref="$container" class="opacity-container">\n                <div ref="$colorbar" class="color-bar"></div>\n                <div ref="$bar" class="drag-bar2"></div>\n            </div>\n        </div>\n        '}},{key:"refresh",value:function(){O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var t=Object.assign({},this.$store.rgb);t.a=0;var e=Me.format(t,"rgb");t.a=1;var i=Me.format(t,"rgb");this.refs.$colorbar.css("background","linear-gradient(to top, "+e+", "+i+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(t){var e=this.getCaculatedDist(t);this.setColorUI(e/100*this.maxValue),this.changeColor({a:Math.floor(e)/100*this.maxValue})}}]),e}(),ki=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"components",value:function(){return{Hue:Di,Opacity:Ci}}},{key:"template",value:function(){return'<div class="control"><div target="Hue" ></div><div target="Opacity" ></div></div>'}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"mini-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(),bi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Qe),I(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div><div target="control"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:vi,control:ki}}}]),e}(),Ei=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"components",value:function(){return{Value:ii,Opacity:ri}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Value" ></div>\n            <div target="Opacity" ></div>\n            <div ref="$controlPattern" class="empty"></div>\n            <div ref="$controlColor" class="color"></div>\n        </div>\n        '}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Value.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(t){"macos-control"!=t&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(),Si=function(t){function e(t){M(this,e);var i=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.width=214,i.height=214,i.thinkness=16,i.half_thinkness=i.thinkness/2,i.source="colorring",i}return U(e,si),I(e,[{key:"template",value:function(){return'\n        <div class="wheel" data-type="ring">\n            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>\n            <div class="drag-pointer" ref="$drag_pointer"></div>\n        </div>\n        '}},{key:"setColorUI",value:function(t){this.renderCanvas(),this.setHueColor(null,t)}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"setHueColor",value:function(t,e){if(this.state.get("$el.width")){var i=this.getRectangle(),r=i.minX,n=i.minY,s=i.radius,a=i.centerX,o=i.centerY,u=this.getCurrentXY(t,this.getDefaultValue(),s,a,o),h=l(u.x-a,u.y-o),c=this.getCurrentXY(null,h,s-this.half_thinkness,a,o),p=c.x,f=c.y;this.refs.$drag_pointer.css({left:p-r+"px",top:f-n+"px"}),e||this.changeColor({type:"hsv",h:h})}}}]),e}(),Ai=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Qe),I(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="colorring"></div>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{colorring:Si,palette:vi,control:Ei,information:oi,currentColorSets:hi,colorSetsChooser:ui,contextMenu:li}}}]),e}(),wi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Ye),I(e,[{key:"components",value:function(){return{Hue:Di,Opacity:Ci}}},{key:"template",value:function(){return'\n        <div class="control">\n            <div target="Hue" ></div>\n            <div target="Opacity" ></div>\n        </div>\n        '}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(){this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),e}(),Fi=function(t){function e(){return M(this,e),L(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return U(e,Qe),I(e,[{key:"template",value:function(){return'\n            <div class=\'colorpicker-body\'>\n                <div target="palette"></div> \n                <div target="control"></div>\n                <div target="information"></div>\n                <div target="currentColorSets"></div>\n                <div target="colorSetsChooser"></div>\n                <div target="contextMenu"></div>\n            </div>\n        '}},{key:"components",value:function(){return{palette:vi,control:wi,information:oi,currentColorSets:hi,colorSetsChooser:ui,contextMenu:li}}}]),e}(),Bi={create:function(t){switch(t.type){case"macos":return new ci(t);case"xd":return new Fi(t);case"ring":return new Ai(t);case"mini":return new xi(t);case"mini-vertical":return new bi(t);case"sketch":case"palette":default:return new mi(t)}},ColorPicker:mi,ChromeDevToolColorPicker:mi,MacOSColorPicker:ci,RingColorPicker:Ai,MiniColorPicker:xi,MiniVerticalColorPicker:bi},$i="codemirror-colorview",Ti="codemirror-colorview-background",_i=["comment","builtin"];function Mi(t,e){"setValue"==e.origin?(t.state.colorpicker.close_color_picker(),t.state.colorpicker.init_color_update(),t.state.colorpicker.style_color_update()):t.state.colorpicker.style_color_update(t.getCursor().line)}function Ii(t,e){t.state.colorpicker.isUpdate||(t.state.colorpicker.isUpdate=!0,t.state.colorpicker.close_color_picker(),t.state.colorpicker.init_color_update(),t.state.colorpicker.style_color_update())}function Pi(t,e){Mi(t,{origin:"setValue"})}function Ni(t,e){t.state.colorpicker.keyup(e)}function Oi(t,e){t.state.colorpicker.is_edit_mode()&&t.state.colorpicker.check_mousedown(e)}function Ui(t,e){Mi(t,{origin:"setValue"})}function Li(t){t.state.colorpicker.close_color_picker()}function zi(t){t.state.colorpicker.hide_delay_color_picker(t.state.colorpicker.opt.hideDelay||1e3)}var Ri=function(){function t(e,i){M(this,t),i="boolean"==typeof i?{mode:"edit"}:Object.assign({mode:"edit"},i||{}),this.opt=i,this.cm=e,this.markers={},this.excluded_token=this.opt.excluded_token||_i,this.opt.colorpicker?this.colorpicker=this.opt.colorpicker(this.opt):this.colorpicker=Bi.create(this.opt),this.init_event()}return I(t,[{key:"init_event",value:function(){var t,e,i,r;this.cm.on("mousedown",Oi),this.cm.on("keyup",Ni),this.cm.on("change",Mi),this.cm.on("update",Ii),this.cm.on("refresh",Pi),this.cm.on("blur",zi),this.onPasteCallback=(t=this.cm,e=Ui,function(i){e.call(this,t,i)}),this.onScrollEvent=(i=Li,50,r=void 0,function(t,e){r&&clearTimeout(r),r=setTimeout(function(){i(t,e)},50)}),this.cm.getWrapperElement().addEventListener("paste",this.onPasteCallback),this.is_edit_mode()&&this.cm.on("scroll",this.onScrollEvent)}},{key:"is_edit_mode",value:function(){return"edit"==this.opt.mode}},{key:"is_view_mode",value:function(){return"view"==this.opt.mode}},{key:"destroy",value:function(){this.cm.off("mousedown",Oi),this.cm.off("keyup",Ni),this.cm.off("change",Mi),this.cm.off("blur",zi),this.cm.getWrapperElement().removeEventListener("paste",this.onPasteCallback),this.is_edit_mode()&&this.cm.off("scroll",this.onScrollEvent)}},{key:"hasClass",value:function(t,e){return!!t.className&&(" "+t.className+" ").indexOf(" "+e+" ")>-1}},{key:"check_mousedown",value:function(t){this.hasClass(t.target,Ti)?this.open_color_picker(t.target.parentNode):this.close_color_picker()}},{key:"popup_color_picker",value:function(t){var e=this.cm.getCursor(),i=this,r={lineNo:e.line,ch:e.ch,color:t||"#FFFFFF",isShortCut:!0};Object.keys(this.markers).forEach(function(t){if(("#"+t).indexOf("#"+r.lineNo+":")>-1){var e=i.markers[t];e.ch<=r.ch&&r.ch<=e.ch+e.color.length&&(r.ch=e.ch,r.color=e.color,r.nameColor=e.nameColor)}}),this.open_color_picker(r)}},{key:"open_color_picker",value:function(t){var e=this,i=t.lineNo,r=t.ch,n=t.nameColor,s=t.color;if(this.colorpicker){var a=s,o=this.cm.charCoords({line:i,ch:r});this.colorpicker.show({left:o.left,top:o.bottom,isShortCut:t.isShortCut||!1,hideDelay:this.opt.hideDelay||2e3},n||s,function(t){e.cm.replaceRange(t,{line:i,ch:r},{line:i,ch:r+a.length},"*colorpicker"),e.cm.focus(),a=t})}}},{key:"close_color_picker",value:function(){this.colorpicker&&this.colorpicker.hide()}},{key:"hide_delay_color_picker",value:function(){this.colorpicker&&this.colorpicker.runHideDelay()}},{key:"key",value:function(t,e){return[t,e].join(":")}},{key:"keyup",value:function(t){this.colorpicker&&("Escape"==t.key?this.colorpicker.hide():0==this.colorpicker.isShortCut&&this.colorpicker.hide())}},{key:"init_color_update",value:function(){this.markers={}}},{key:"style_color_update",value:function(t){if(t)this.match(t);else for(var e=this.cm.lineCount(),i=0;i<e;i++)this.match(i)}},{key:"empty_marker",value:function(t,e){for(var i,r=e.markedSpans||[],n=0,s=r.length;n<s;n++){var a=this.key(t,r[n].from);a&&(i=r[n].marker.replacedWith,$i,i&&i.className&&(" "+i.className+" ").indexOf(" codemirror-colorview ")>-1)&&(delete this.markers[a],r[n].marker.clear())}}},{key:"match_result",value:function(t){return Me.matches(t.text)}},{key:"submatch",value:function(t,e){var i=this;this.empty_marker(t,e);var r={next:0};this.match_result(e).forEach(function(n){i.render(r,t,e,n.color,n.nameColor)})}},{key:"match",value:function(t){var e=this.cm.getLineHandle(t),i=this;this.cm.operation(function(){i.submatch(t,e)})}},{key:"make_element",value:function(){var t=document.createElement("div");return t.className=$i,this.is_edit_mode()?t.title="open color picker":t.title="",t.back_element=this.make_background_element(),t.appendChild(t.back_element),t}},{key:"make_background_element",value:function(){var t=document.createElement("div");return t.className=Ti,t}},{key:"set_state",value:function(t,e,i,r){var n=this.create_marker(t,e);return n.lineNo=t,n.ch=e,n.color=i,n.nameColor=r,n}},{key:"create_marker",value:function(t,e){return this.has_marker(t,e)||this.init_marker(t,e),this.get_marker(t,e)}},{key:"init_marker",value:function(t,e){this.markers[this.key(t,e)]=this.make_element()}},{key:"has_marker",value:function(t,e){return!!this.get_marker(t,e)}},{key:"get_marker",value:function(t,e){var i=this.key(t,e);return this.markers[i]}},{key:"update_element",value:function(t,e){t.back_element.style.backgroundColor=e}},{key:"set_mark",value:function(t,e,i){this.cm.setBookmark({line:t,ch:e},{widget:i,handleMouseEvents:!0})}},{key:"is_excluded_token",value:function(t,e){var i=this.cm.getTokenAt({line:t,ch:e},!0),r=i.type,n=i.state.state;if(null==r&&"block"==n)return!0;if(null==r&&"top"==n)return!0;for(var s=0,a=0,o=this.excluded_token.length;a<o;a++)if(r===this.excluded_token[a]){s++;break}return s>0}},{key:"render",value:function(t,e,i,r,n){var s=i.text.indexOf(r,t.next);if(!0!==this.is_excluded_token(e,s)){if(t.next=s+r.length,this.has_marker(e,s))return this.update_element(this.create_marker(e,s),n||r),void this.set_state(e,s,r,n);var a=this.create_marker(e,s);this.update_element(a,n||r),this.set_state(e,s,r,n||r),this.set_mark(e,s,a)}}}]),t}();try{var Xi=require("codemirror")}catch(t){}var ji=function(){return Xi||window.CodeMirror};function Ji(){var t=ji();t&&t.defineOption("colorpicker",!1,function(e,i,r){r&&r!=t.Init&&e.state.colorpicker&&(e.state.colorpicker.destroy(),e.state.colorpicker=null),i&&(e.state.colorpicker=new Ri(e,i))})}return Ji(),N({},Oe,Bi,{load:Ji})}();!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.esprima=e():t.esprima=e()}(this,function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={exports:{},id:r,loaded:!1};return t[r].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}return i.m=t,i.c=e,i.p="",i(0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),n=i(3),s=i(8),a=i(15);function o(t,e,i){var a=null,o=function(t,e){i&&i(t,e),a&&a.visit(t,e)},u="function"==typeof i?o:null,h=!1;if(e){h="boolean"==typeof e.comment&&e.comment;var l="boolean"==typeof e.attachComment&&e.attachComment;(h||l)&&((a=new r.CommentHandler).attach=l,e.comment=!0,u=o)}var c,p=!1;e&&"string"==typeof e.sourceType&&(p="module"===e.sourceType),c=e&&"boolean"==typeof e.jsx&&e.jsx?new n.JSXParser(t,e,u):new s.Parser(t,e,u);var f=p?c.parseModule():c.parseScript();return h&&a&&(f.comments=a.comments),c.config.tokens&&(f.tokens=c.tokens),c.config.tolerant&&(f.errors=c.errorHandler.errors),f}e.parse=o,e.parseModule=function(t,e,i){var r=e||{};return r.sourceType="module",o(t,r,i)},e.parseScript=function(t,e,i){var r=e||{};return r.sourceType="script",o(t,r,i)},e.tokenize=function(t,e,i){var r,n=new a.Tokenizer(t,e);r=[];try{for(;;){var s=n.getNextToken();if(!s)break;i&&(s=i(s)),r.push(s)}}catch(t){n.errorHandler.tolerate(t)}return n.errorHandler.tolerant&&(r.errors=n.errors()),r};var u=i(2);e.Syntax=u.Syntax,e.version="4.0.1"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),n=function(){function t(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return t.prototype.insertInnerComments=function(t,e){if(t.type===r.Syntax.BlockStatement&&0===t.body.length){for(var i=[],n=this.leading.length-1;n>=0;--n){var s=this.leading[n];e.end.offset>=s.start&&(i.unshift(s.comment),this.leading.splice(n,1),this.trailing.splice(n,1))}i.length&&(t.innerComments=i)}},t.prototype.findTrailingComments=function(t){var e=[];if(this.trailing.length>0){for(var i=this.trailing.length-1;i>=0;--i){var r=this.trailing[i];r.start>=t.end.offset&&e.unshift(r.comment)}return this.trailing.length=0,e}var n=this.stack[this.stack.length-1];if(n&&n.node.trailingComments){var s=n.node.trailingComments[0];s&&s.range[0]>=t.end.offset&&(e=n.node.trailingComments,delete n.node.trailingComments)}return e},t.prototype.findLeadingComments=function(t){for(var e,i=[];this.stack.length>0;){if(!((s=this.stack[this.stack.length-1])&&s.start>=t.start.offset))break;e=s.node,this.stack.pop()}if(e){for(var r=(e.leadingComments?e.leadingComments.length:0)-1;r>=0;--r){var n=e.leadingComments[r];n.range[1]<=t.start.offset&&(i.unshift(n),e.leadingComments.splice(r,1))}return e.leadingComments&&0===e.leadingComments.length&&delete e.leadingComments,i}for(r=this.leading.length-1;r>=0;--r){var s;(s=this.leading[r]).start<=t.start.offset&&(i.unshift(s.comment),this.leading.splice(r,1))}return i},t.prototype.visitNode=function(t,e){if(!(t.type===r.Syntax.Program&&t.body.length>0)){this.insertInnerComments(t,e);var i=this.findTrailingComments(e),n=this.findLeadingComments(e);n.length>0&&(t.leadingComments=n),i.length>0&&(t.trailingComments=i),this.stack.push({node:t,start:e.start.offset})}},t.prototype.visitComment=function(t,e){var i="L"===t.type[0]?"Line":"Block",r={type:i,value:t.value};if(t.range&&(r.range=t.range),t.loc&&(r.loc=t.loc),this.comments.push(r),this.attach){var n={comment:{type:i,value:t.value,range:[e.start.offset,e.end.offset]},start:e.start.offset};t.loc&&(n.comment.loc=t.loc),t.type=i,this.leading.push(n),this.trailing.push(n)}},t.prototype.visit=function(t,e){"LineComment"===t.type?this.visitComment(t,e):"BlockComment"===t.type?this.visitComment(t,e):this.attach&&this.visitNode(t,e)},t}();e.CommentHandler=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,e,i){"use strict";var r,n=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),a=i(5),o=i(6),u=i(7),h=i(8),l=i(13),c=i(14);function p(t){var e;switch(t.type){case o.JSXSyntax.JSXIdentifier:e=t.name;break;case o.JSXSyntax.JSXNamespacedName:var i=t;e=p(i.namespace)+":"+p(i.name);break;case o.JSXSyntax.JSXMemberExpression:var r=t;e=p(r.object)+"."+p(r.property)}return e}l.TokenName[100]="JSXIdentifier",l.TokenName[101]="JSXText";var f=function(t){function e(e,i,r){return t.call(this,e,i,r)||this}return n(e,t),e.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():t.prototype.parsePrimaryExpression.call(this)},e.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},e.prototype.finishJSX=function(){this.nextToken()},e.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},e.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},e.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},e.prototype.scanXHTMLEntity=function(t){for(var e="&",i=!0,r=!1,n=!1,a=!1;!this.scanner.eof()&&i&&!r;){var o=this.scanner.source[this.scanner.index];if(o===t)break;if(r=";"===o,e+=o,++this.scanner.index,!r)switch(e.length){case 2:n="#"===o;break;case 3:n&&(i=(a="x"===o)||s.Character.isDecimalDigit(o.charCodeAt(0)),n=n&&!a);break;default:i=(i=i&&!(n&&!s.Character.isDecimalDigit(o.charCodeAt(0))))&&!(a&&!s.Character.isHexDigit(o.charCodeAt(0)))}}if(i&&r&&e.length>2){var u=e.substr(1,e.length-2);n&&u.length>1?e=String.fromCharCode(parseInt(u.substr(1),10)):a&&u.length>2?e=String.fromCharCode(parseInt("0"+u.substr(1),16)):n||a||!c.XHTMLEntities[u]||(e=c.XHTMLEntities[u])}return e},e.prototype.lexJSX=function(){var t=this.scanner.source.charCodeAt(this.scanner.index);if(60===t||62===t||47===t||58===t||61===t||123===t||125===t)return{type:7,value:o=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===t||39===t){for(var e=this.scanner.index,i=this.scanner.source[this.scanner.index++],r="";!this.scanner.eof();){if((u=this.scanner.source[this.scanner.index++])===i)break;r+="&"===u?this.scanXHTMLEntity(i):u}return{type:8,value:r,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index}}if(46===t){var n=this.scanner.source.charCodeAt(this.scanner.index+1),a=this.scanner.source.charCodeAt(this.scanner.index+2),o=46===n&&46===a?"...":".";e=this.scanner.index;return this.scanner.index+=o.length,{type:7,value:o,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index}}if(96===t)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(s.Character.isIdentifierStart(t)&&92!==t){e=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var u=this.scanner.source.charCodeAt(this.scanner.index);if(s.Character.isIdentifierPart(u)&&92!==u)++this.scanner.index;else{if(45!==u)break;++this.scanner.index}}return{type:100,value:this.scanner.source.slice(e,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index}}return this.scanner.lex()},e.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var t=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(t)),t},e.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var t=this.scanner.index,e="";!this.scanner.eof();){var i=this.scanner.source[this.scanner.index];if("{"===i||"<"===i)break;++this.scanner.index,e+=i,s.Character.isLineTerminator(i.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===i&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var r={type:101,value:e,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:t,end:this.scanner.index};return e.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(r)),r},e.prototype.peekJSXToken=function(){var t=this.scanner.saveState();this.scanner.scanComments();var e=this.lexJSX();return this.scanner.restoreState(t),e},e.prototype.expectJSX=function(t){var e=this.nextJSXToken();7===e.type&&e.value===t||this.throwUnexpectedToken(e)},e.prototype.matchJSX=function(t){var e=this.peekJSXToken();return 7===e.type&&e.value===t},e.prototype.parseJSXIdentifier=function(){var t=this.createJSXNode(),e=this.nextJSXToken();return 100!==e.type&&this.throwUnexpectedToken(e),this.finalize(t,new a.JSXIdentifier(e.value))},e.prototype.parseJSXElementName=function(){var t=this.createJSXNode(),e=this.parseJSXIdentifier();if(this.matchJSX(":")){var i=e;this.expectJSX(":");var r=this.parseJSXIdentifier();e=this.finalize(t,new a.JSXNamespacedName(i,r))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var n=e;this.expectJSX(".");var s=this.parseJSXIdentifier();e=this.finalize(t,new a.JSXMemberExpression(n,s))}return e},e.prototype.parseJSXAttributeName=function(){var t,e=this.createJSXNode(),i=this.parseJSXIdentifier();if(this.matchJSX(":")){var r=i;this.expectJSX(":");var n=this.parseJSXIdentifier();t=this.finalize(e,new a.JSXNamespacedName(r,n))}else t=i;return t},e.prototype.parseJSXStringLiteralAttribute=function(){var t=this.createJSXNode(),e=this.nextJSXToken();8!==e.type&&this.throwUnexpectedToken(e);var i=this.getTokenRaw(e);return this.finalize(t,new u.Literal(e.value,i))},e.prototype.parseJSXExpressionAttribute=function(){var t=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var e=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(t,new a.JSXExpressionContainer(e))},e.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},e.prototype.parseJSXNameValueAttribute=function(){var t=this.createJSXNode(),e=this.parseJSXAttributeName(),i=null;return this.matchJSX("=")&&(this.expectJSX("="),i=this.parseJSXAttributeValue()),this.finalize(t,new a.JSXAttribute(e,i))},e.prototype.parseJSXSpreadAttribute=function(){var t=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var e=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(t,new a.JSXSpreadAttribute(e))},e.prototype.parseJSXAttributes=function(){for(var t=[];!this.matchJSX("/")&&!this.matchJSX(">");){var e=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();t.push(e)}return t},e.prototype.parseJSXOpeningElement=function(){var t=this.createJSXNode();this.expectJSX("<");var e=this.parseJSXElementName(),i=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(t,new a.JSXOpeningElement(e,r,i))},e.prototype.parseJSXBoundaryElement=function(){var t=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var e=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(t,new a.JSXClosingElement(e))}var i=this.parseJSXElementName(),r=this.parseJSXAttributes(),n=this.matchJSX("/");return n&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(t,new a.JSXOpeningElement(i,n,r))},e.prototype.parseJSXEmptyExpression=function(){var t=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(t,new a.JSXEmptyExpression)},e.prototype.parseJSXExpressionContainer=function(){var t,e=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(t=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),t=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(e,new a.JSXExpressionContainer(t))},e.prototype.parseJSXChildren=function(){for(var t=[];!this.scanner.eof();){var e=this.createJSXChildNode(),i=this.nextJSXText();if(i.start<i.end){var r=this.getTokenRaw(i),n=this.finalize(e,new a.JSXText(i.value,r));t.push(n)}if("{"!==this.scanner.source[this.scanner.index])break;var s=this.parseJSXExpressionContainer();t.push(s)}return t},e.prototype.parseComplexJSXElement=function(t){for(var e=[];!this.scanner.eof();){t.children=t.children.concat(this.parseJSXChildren());var i=this.createJSXChildNode(),r=this.parseJSXBoundaryElement();if(r.type===o.JSXSyntax.JSXOpeningElement){var n=r;if(n.selfClosing){var s=this.finalize(i,new a.JSXElement(n,[],null));t.children.push(s)}else e.push(t),t={node:i,opening:n,closing:null,children:[]}}if(r.type===o.JSXSyntax.JSXClosingElement){t.closing=r;var u=p(t.opening.name);if(u!==p(t.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",u),!(e.length>0))break;s=this.finalize(t.node,new a.JSXElement(t.opening,t.children,t.closing));(t=e[e.length-1]).children.push(s),e.pop()}}return t},e.prototype.parseJSXElement=function(){var t=this.createJSXNode(),e=this.parseJSXOpeningElement(),i=[],r=null;if(!e.selfClosing){var n=this.parseComplexJSXElement({node:t,opening:e,closing:r,children:i});i=n.children,r=n.closing}return this.finalize(t,new a.JSXElement(e,i,r))},e.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var t=this.parseJSXElement();return this.finishJSX(),t},e.prototype.isStartOfExpression=function(){return t.prototype.isStartOfExpression.call(this)||this.match("<")},e}(h.Parser);e.JSXParser=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};e.Character={fromCodePoint:function(t){return t<65536?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10))+String.fromCharCode(56320+(t-65536&1023))},isWhiteSpace:function(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0},isLineTerminator:function(t){return 10===t||13===t||8232===t||8233===t},isIdentifierStart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&i.NonAsciiIdentifierStart.test(e.Character.fromCodePoint(t))},isIdentifierPart:function(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&i.NonAsciiIdentifierPart.test(e.Character.fromCodePoint(t))},isDecimalDigit:function(t){return t>=48&&t<=57},isHexDigit:function(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102},isOctalDigit:function(t){return t>=48&&t<=55}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(6),n=function(){return function(t){this.type=r.JSXSyntax.JSXClosingElement,this.name=t}}();e.JSXClosingElement=n;var s=function(){return function(t,e,i){this.type=r.JSXSyntax.JSXElement,this.openingElement=t,this.children=e,this.closingElement=i}}();e.JSXElement=s;var a=function(){return function(){this.type=r.JSXSyntax.JSXEmptyExpression}}();e.JSXEmptyExpression=a;var o=function(){return function(t){this.type=r.JSXSyntax.JSXExpressionContainer,this.expression=t}}();e.JSXExpressionContainer=o;var u=function(){return function(t){this.type=r.JSXSyntax.JSXIdentifier,this.name=t}}();e.JSXIdentifier=u;var h=function(){return function(t,e){this.type=r.JSXSyntax.JSXMemberExpression,this.object=t,this.property=e}}();e.JSXMemberExpression=h;var l=function(){return function(t,e){this.type=r.JSXSyntax.JSXAttribute,this.name=t,this.value=e}}();e.JSXAttribute=l;var c=function(){return function(t,e){this.type=r.JSXSyntax.JSXNamespacedName,this.namespace=t,this.name=e}}();e.JSXNamespacedName=c;var p=function(){return function(t,e,i){this.type=r.JSXSyntax.JSXOpeningElement,this.name=t,this.selfClosing=e,this.attributes=i}}();e.JSXOpeningElement=p;var f=function(){return function(t){this.type=r.JSXSyntax.JSXSpreadAttribute,this.argument=t}}();e.JSXSpreadAttribute=f;var d=function(){return function(t,e){this.type=r.JSXSyntax.JSXText,this.value=t,this.raw=e}}();e.JSXText=d},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),n=function(){return function(t){this.type=r.Syntax.ArrayExpression,this.elements=t}}();e.ArrayExpression=n;var s=function(){return function(t){this.type=r.Syntax.ArrayPattern,this.elements=t}}();e.ArrayPattern=s;var a=function(){return function(t,e,i){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=t,this.body=e,this.generator=!1,this.expression=i,this.async=!1}}();e.ArrowFunctionExpression=a;var o=function(){return function(t,e,i){this.type=r.Syntax.AssignmentExpression,this.operator=t,this.left=e,this.right=i}}();e.AssignmentExpression=o;var u=function(){return function(t,e){this.type=r.Syntax.AssignmentPattern,this.left=t,this.right=e}}();e.AssignmentPattern=u;var h=function(){return function(t,e,i){this.type=r.Syntax.ArrowFunctionExpression,this.id=null,this.params=t,this.body=e,this.generator=!1,this.expression=i,this.async=!0}}();e.AsyncArrowFunctionExpression=h;var l=function(){return function(t,e,i){this.type=r.Syntax.FunctionDeclaration,this.id=t,this.params=e,this.body=i,this.generator=!1,this.expression=!1,this.async=!0}}();e.AsyncFunctionDeclaration=l;var c=function(){return function(t,e,i){this.type=r.Syntax.FunctionExpression,this.id=t,this.params=e,this.body=i,this.generator=!1,this.expression=!1,this.async=!0}}();e.AsyncFunctionExpression=c;var p=function(){return function(t){this.type=r.Syntax.AwaitExpression,this.argument=t}}();e.AwaitExpression=p;var f=function(){return function(t,e,i){var n="||"===t||"&&"===t;this.type=n?r.Syntax.LogicalExpression:r.Syntax.BinaryExpression,this.operator=t,this.left=e,this.right=i}}();e.BinaryExpression=f;var d=function(){return function(t){this.type=r.Syntax.BlockStatement,this.body=t}}();e.BlockStatement=d;var v=function(){return function(t){this.type=r.Syntax.BreakStatement,this.label=t}}();e.BreakStatement=v;var m=function(){return function(t,e){this.type=r.Syntax.CallExpression,this.callee=t,this.arguments=e}}();e.CallExpression=m;var g=function(){return function(t,e){this.type=r.Syntax.CatchClause,this.param=t,this.body=e}}();e.CatchClause=g;var x=function(){return function(t){this.type=r.Syntax.ClassBody,this.body=t}}();e.ClassBody=x;var y=function(){return function(t,e,i){this.type=r.Syntax.ClassDeclaration,this.id=t,this.superClass=e,this.body=i}}();e.ClassDeclaration=y;var D=function(){return function(t,e,i){this.type=r.Syntax.ClassExpression,this.id=t,this.superClass=e,this.body=i}}();e.ClassExpression=D;var C=function(){return function(t,e){this.type=r.Syntax.MemberExpression,this.computed=!0,this.object=t,this.property=e}}();e.ComputedMemberExpression=C;var k=function(){return function(t,e,i){this.type=r.Syntax.ConditionalExpression,this.test=t,this.consequent=e,this.alternate=i}}();e.ConditionalExpression=k;var b=function(){return function(t){this.type=r.Syntax.ContinueStatement,this.label=t}}();e.ContinueStatement=b;var E=function(){return function(){this.type=r.Syntax.DebuggerStatement}}();e.DebuggerStatement=E;var S=function(){return function(t,e){this.type=r.Syntax.ExpressionStatement,this.expression=t,this.directive=e}}();e.Directive=S;var A=function(){return function(t,e){this.type=r.Syntax.DoWhileStatement,this.body=t,this.test=e}}();e.DoWhileStatement=A;var w=function(){return function(){this.type=r.Syntax.EmptyStatement}}();e.EmptyStatement=w;var F=function(){return function(t){this.type=r.Syntax.ExportAllDeclaration,this.source=t}}();e.ExportAllDeclaration=F;var B=function(){return function(t){this.type=r.Syntax.ExportDefaultDeclaration,this.declaration=t}}();e.ExportDefaultDeclaration=B;var $=function(){return function(t,e,i){this.type=r.Syntax.ExportNamedDeclaration,this.declaration=t,this.specifiers=e,this.source=i}}();e.ExportNamedDeclaration=$;var T=function(){return function(t,e){this.type=r.Syntax.ExportSpecifier,this.exported=e,this.local=t}}();e.ExportSpecifier=T;var _=function(){return function(t){this.type=r.Syntax.ExpressionStatement,this.expression=t}}();e.ExpressionStatement=_;var M=function(){return function(t,e,i){this.type=r.Syntax.ForInStatement,this.left=t,this.right=e,this.body=i,this.each=!1}}();e.ForInStatement=M;var I=function(){return function(t,e,i){this.type=r.Syntax.ForOfStatement,this.left=t,this.right=e,this.body=i}}();e.ForOfStatement=I;var P=function(){return function(t,e,i,n){this.type=r.Syntax.ForStatement,this.init=t,this.test=e,this.update=i,this.body=n}}();e.ForStatement=P;var N=function(){return function(t,e,i,n){this.type=r.Syntax.FunctionDeclaration,this.id=t,this.params=e,this.body=i,this.generator=n,this.expression=!1,this.async=!1}}();e.FunctionDeclaration=N;var O=function(){return function(t,e,i,n){this.type=r.Syntax.FunctionExpression,this.id=t,this.params=e,this.body=i,this.generator=n,this.expression=!1,this.async=!1}}();e.FunctionExpression=O;var U=function(){return function(t){this.type=r.Syntax.Identifier,this.name=t}}();e.Identifier=U;var L=function(){return function(t,e,i){this.type=r.Syntax.IfStatement,this.test=t,this.consequent=e,this.alternate=i}}();e.IfStatement=L;var z=function(){return function(t,e){this.type=r.Syntax.ImportDeclaration,this.specifiers=t,this.source=e}}();e.ImportDeclaration=z;var R=function(){return function(t){this.type=r.Syntax.ImportDefaultSpecifier,this.local=t}}();e.ImportDefaultSpecifier=R;var X=function(){return function(t){this.type=r.Syntax.ImportNamespaceSpecifier,this.local=t}}();e.ImportNamespaceSpecifier=X;var j=function(){return function(t,e){this.type=r.Syntax.ImportSpecifier,this.local=t,this.imported=e}}();e.ImportSpecifier=j;var J=function(){return function(t,e){this.type=r.Syntax.LabeledStatement,this.label=t,this.body=e}}();e.LabeledStatement=J;var H=function(){return function(t,e){this.type=r.Syntax.Literal,this.value=t,this.raw=e}}();e.Literal=H;var V=function(){return function(t,e){this.type=r.Syntax.MetaProperty,this.meta=t,this.property=e}}();e.MetaProperty=V;var K=function(){return function(t,e,i,n,s){this.type=r.Syntax.MethodDefinition,this.key=t,this.computed=e,this.value=i,this.kind=n,this.static=s}}();e.MethodDefinition=K;var G=function(){return function(t){this.type=r.Syntax.Program,this.body=t,this.sourceType="module"}}();e.Module=G;var W=function(){return function(t,e){this.type=r.Syntax.NewExpression,this.callee=t,this.arguments=e}}();e.NewExpression=W;var Y=function(){return function(t){this.type=r.Syntax.ObjectExpression,this.properties=t}}();e.ObjectExpression=Y;var q=function(){return function(t){this.type=r.Syntax.ObjectPattern,this.properties=t}}();e.ObjectPattern=q;var Z=function(){return function(t,e,i,n,s,a){this.type=r.Syntax.Property,this.key=e,this.computed=i,this.value=n,this.kind=t,this.method=s,this.shorthand=a}}();e.Property=Z;var Q=function(){return function(t,e,i,n){this.type=r.Syntax.Literal,this.value=t,this.raw=e,this.regex={pattern:i,flags:n}}}();e.RegexLiteral=Q;var tt=function(){return function(t){this.type=r.Syntax.RestElement,this.argument=t}}();e.RestElement=tt;var et=function(){return function(t){this.type=r.Syntax.ReturnStatement,this.argument=t}}();e.ReturnStatement=et;var it=function(){return function(t){this.type=r.Syntax.Program,this.body=t,this.sourceType="script"}}();e.Script=it;var rt=function(){return function(t){this.type=r.Syntax.SequenceExpression,this.expressions=t}}();e.SequenceExpression=rt;var nt=function(){return function(t){this.type=r.Syntax.SpreadElement,this.argument=t}}();e.SpreadElement=nt;var st=function(){return function(t,e){this.type=r.Syntax.MemberExpression,this.computed=!1,this.object=t,this.property=e}}();e.StaticMemberExpression=st;var at=function(){return function(){this.type=r.Syntax.Super}}();e.Super=at;var ot=function(){return function(t,e){this.type=r.Syntax.SwitchCase,this.test=t,this.consequent=e}}();e.SwitchCase=ot;var ut=function(){return function(t,e){this.type=r.Syntax.SwitchStatement,this.discriminant=t,this.cases=e}}();e.SwitchStatement=ut;var ht=function(){return function(t,e){this.type=r.Syntax.TaggedTemplateExpression,this.tag=t,this.quasi=e}}();e.TaggedTemplateExpression=ht;var lt=function(){return function(t,e){this.type=r.Syntax.TemplateElement,this.value=t,this.tail=e}}();e.TemplateElement=lt;var ct=function(){return function(t,e){this.type=r.Syntax.TemplateLiteral,this.quasis=t,this.expressions=e}}();e.TemplateLiteral=ct;var pt=function(){return function(){this.type=r.Syntax.ThisExpression}}();e.ThisExpression=pt;var ft=function(){return function(t){this.type=r.Syntax.ThrowStatement,this.argument=t}}();e.ThrowStatement=ft;var dt=function(){return function(t,e,i){this.type=r.Syntax.TryStatement,this.block=t,this.handler=e,this.finalizer=i}}();e.TryStatement=dt;var vt=function(){return function(t,e){this.type=r.Syntax.UnaryExpression,this.operator=t,this.argument=e,this.prefix=!0}}();e.UnaryExpression=vt;var mt=function(){return function(t,e,i){this.type=r.Syntax.UpdateExpression,this.operator=t,this.argument=e,this.prefix=i}}();e.UpdateExpression=mt;var gt=function(){return function(t,e){this.type=r.Syntax.VariableDeclaration,this.declarations=t,this.kind=e}}();e.VariableDeclaration=gt;var xt=function(){return function(t,e){this.type=r.Syntax.VariableDeclarator,this.id=t,this.init=e}}();e.VariableDeclarator=xt;var yt=function(){return function(t,e){this.type=r.Syntax.WhileStatement,this.test=t,this.body=e}}();e.WhileStatement=yt;var Dt=function(){return function(t,e){this.type=r.Syntax.WithStatement,this.object=t,this.body=e}}();e.WithStatement=Dt;var Ct=function(){return function(t,e){this.type=r.Syntax.YieldExpression,this.argument=t,this.delegate=e}}();e.YieldExpression=Ct},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(9),n=i(10),s=i(11),a=i(7),o=i(12),u=i(2),h=i(13),l=function(){function t(t,e,i){void 0===e&&(e={}),this.config={range:"boolean"==typeof e.range&&e.range,loc:"boolean"==typeof e.loc&&e.loc,source:null,tokens:"boolean"==typeof e.tokens&&e.tokens,comment:"boolean"==typeof e.comment&&e.comment,tolerant:"boolean"==typeof e.tolerant&&e.tolerant},this.config.loc&&e.source&&null!==e.source&&(this.config.source=String(e.source)),this.delegate=i,this.errorHandler=new n.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new o.Scanner(t,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return t.prototype.throwError=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=Array.prototype.slice.call(arguments,1),s=t.replace(/%(\d)/g,function(t,e){return r.assert(e<n.length,"Message reference must be in range"),n[e]}),a=this.lastMarker.index,o=this.lastMarker.line,u=this.lastMarker.column+1;throw this.errorHandler.createError(a,o,u,s)},t.prototype.tolerateError=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=Array.prototype.slice.call(arguments,1),s=t.replace(/%(\d)/g,function(t,e){return r.assert(e<n.length,"Message reference must be in range"),n[e]}),a=this.lastMarker.index,o=this.scanner.lineNumber,u=this.lastMarker.column+1;this.errorHandler.tolerateError(a,o,u,s)},t.prototype.unexpectedTokenError=function(t,e){var i,r=e||s.Messages.UnexpectedToken;if(t?(e||(r=2===t.type?s.Messages.UnexpectedEOS:3===t.type?s.Messages.UnexpectedIdentifier:6===t.type?s.Messages.UnexpectedNumber:8===t.type?s.Messages.UnexpectedString:10===t.type?s.Messages.UnexpectedTemplate:s.Messages.UnexpectedToken,4===t.type&&(this.scanner.isFutureReservedWord(t.value)?r=s.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(t.value)&&(r=s.Messages.StrictReservedWord))),i=t.value):i="ILLEGAL",r=r.replace("%0",i),t&&"number"==typeof t.lineNumber){var n=t.start,a=t.lineNumber,o=this.lastMarker.index-this.lastMarker.column,u=t.start-o+1;return this.errorHandler.createError(n,a,u,r)}n=this.lastMarker.index,a=this.lastMarker.line,u=this.lastMarker.column+1;return this.errorHandler.createError(n,a,u,r)},t.prototype.throwUnexpectedToken=function(t,e){throw this.unexpectedTokenError(t,e)},t.prototype.tolerateUnexpectedToken=function(t,e){this.errorHandler.tolerate(this.unexpectedTokenError(t,e))},t.prototype.collectComments=function(){if(this.config.comment){var t=this.scanner.scanComments();if(t.length>0&&this.delegate)for(var e=0;e<t.length;++e){var i=t[e],r=void 0;r={type:i.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(i.slice[0],i.slice[1])},this.config.range&&(r.range=i.range),this.config.loc&&(r.loc=i.loc);var n={start:{line:i.loc.start.line,column:i.loc.start.column,offset:i.range[0]},end:{line:i.loc.end.line,column:i.loc.end.column,offset:i.range[1]}};this.delegate(r,n)}}else this.scanner.scanComments()},t.prototype.getTokenRaw=function(t){return this.scanner.source.slice(t.start,t.end)},t.prototype.convertToken=function(t){var e={type:h.TokenName[t.type],value:this.getTokenRaw(t)};if(this.config.range&&(e.range=[t.start,t.end]),this.config.loc&&(e.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===t.type){var i=t.pattern,r=t.flags;e.regex={pattern:i,flags:r}}return e},t.prototype.nextToken=function(){var t=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var e=this.scanner.lex();return this.hasLineTerminator=t.lineNumber!==e.lineNumber,e&&this.context.strict&&3===e.type&&this.scanner.isStrictModeReservedWord(e.value)&&(e.type=4),this.lookahead=e,this.config.tokens&&2!==e.type&&this.tokens.push(this.convertToken(e)),t},t.prototype.nextRegexToken=function(){this.collectComments();var t=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(t))),this.lookahead=t,this.nextToken(),t},t.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},t.prototype.startNode=function(t,e){void 0===e&&(e=0);var i=t.start-t.lineStart,r=t.lineNumber;return i<0&&(i+=e,r--),{index:t.start,line:r,column:i}},t.prototype.finalize=function(t,e){if(this.config.range&&(e.range=[t.index,this.lastMarker.index]),this.config.loc&&(e.loc={start:{line:t.line,column:t.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(e.loc.source=this.config.source)),this.delegate){var i={start:{line:t.line,column:t.column,offset:t.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(e,i)}return e},t.prototype.expect=function(t){var e=this.nextToken();7===e.type&&e.value===t||this.throwUnexpectedToken(e)},t.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var t=this.lookahead;7===t.type&&","===t.value?this.nextToken():7===t.type&&";"===t.value?(this.nextToken(),this.tolerateUnexpectedToken(t)):this.tolerateUnexpectedToken(t,s.Messages.UnexpectedToken)}else this.expect(",")},t.prototype.expectKeyword=function(t){var e=this.nextToken();4===e.type&&e.value===t||this.throwUnexpectedToken(e)},t.prototype.match=function(t){return 7===this.lookahead.type&&this.lookahead.value===t},t.prototype.matchKeyword=function(t){return 4===this.lookahead.type&&this.lookahead.value===t},t.prototype.matchContextualKeyword=function(t){return 3===this.lookahead.type&&this.lookahead.value===t},t.prototype.matchAssign=function(){if(7!==this.lookahead.type)return!1;var t=this.lookahead.value;return"="===t||"*="===t||"**="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t},t.prototype.isolateCoverGrammar=function(t){var e=this.context.isBindingElement,i=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var n=t.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=e,this.context.isAssignmentTarget=i,this.context.firstCoverInitializedNameError=r,n},t.prototype.inheritCoverGrammar=function(t){var e=this.context.isBindingElement,i=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var n=t.call(this);return this.context.isBindingElement=this.context.isBindingElement&&e,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&i,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,n},t.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},t.prototype.parsePrimaryExpression=function(){var t,e,i,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),t=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new a.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,s.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,e=this.nextToken(),i=this.getTokenRaw(e),t=this.finalize(r,new a.Literal(e.value,i));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,e=this.nextToken(),i=this.getTokenRaw(e),t=this.finalize(r,new a.Literal("true"===e.value,i));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,e=this.nextToken(),i=this.getTokenRaw(e),t=this.finalize(r,new a.Literal(null,i));break;case 10:t=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,t=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":t=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":t=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,e=this.nextRegexToken(),i=this.getTokenRaw(e),t=this.finalize(r,new a.RegexLiteral(e.regex,i,e.pattern,e.flags));break;default:t=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?t=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?t=this.finalize(r,new a.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?t=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),t=this.finalize(r,new a.ThisExpression)):t=this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:t=this.throwUnexpectedToken(this.nextToken())}return t},t.prototype.parseSpreadElement=function(){var t=this.createNode();this.expect("...");var e=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(t,new a.SpreadElement(e))},t.prototype.parseArrayInitializer=function(){var t=this.createNode(),e=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),e.push(null);else if(this.match("...")){var i=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),e.push(i)}else e.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(t,new a.ArrayExpression(e))},t.prototype.parsePropertyMethod=function(t){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var e=this.context.strict,i=this.context.allowStrictDirective;this.context.allowStrictDirective=t.simple;var r=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&t.firstRestricted&&this.tolerateUnexpectedToken(t.firstRestricted,t.message),this.context.strict&&t.stricted&&this.tolerateUnexpectedToken(t.stricted,t.message),this.context.strict=e,this.context.allowStrictDirective=i,r},t.prototype.parsePropertyMethodFunction=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters(),r=this.parsePropertyMethod(i);return this.context.allowYield=e,this.finalize(t,new a.FunctionExpression(null,i.params,r,!1))},t.prototype.parsePropertyMethodAsyncFunction=function(){var t=this.createNode(),e=this.context.allowYield,i=this.context.await;this.context.allowYield=!1,this.context.await=!0;var r=this.parseFormalParameters(),n=this.parsePropertyMethod(r);return this.context.allowYield=e,this.context.await=i,this.finalize(t,new a.AsyncFunctionExpression(null,r.params,n))},t.prototype.parseObjectPropertyKey=function(){var t,e=this.createNode(),i=this.nextToken();switch(i.type){case 8:case 6:this.context.strict&&i.octal&&this.tolerateUnexpectedToken(i,s.Messages.StrictOctalLiteral);var r=this.getTokenRaw(i);t=this.finalize(e,new a.Literal(i.value,r));break;case 3:case 1:case 5:case 4:t=this.finalize(e,new a.Identifier(i.value));break;case 7:"["===i.value?(t=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):t=this.throwUnexpectedToken(i);break;default:t=this.throwUnexpectedToken(i)}return t},t.prototype.isPropertyKey=function(t,e){return t.type===u.Syntax.Identifier&&t.name===e||t.type===u.Syntax.Literal&&t.value===e},t.prototype.parseObjectProperty=function(t){var e,i=this.createNode(),r=this.lookahead,n=null,o=null,u=!1,h=!1,l=!1,c=!1;if(3===r.type){var p=r.value;this.nextToken(),u=this.match("["),n=(c=!(this.hasLineTerminator||"async"!==p||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(i,new a.Identifier(p))}else this.match("*")?this.nextToken():(u=this.match("["),n=this.parseObjectPropertyKey());var f=this.qualifiedPropertyName(this.lookahead);if(3===r.type&&!c&&"get"===r.value&&f)e="get",u=this.match("["),n=this.parseObjectPropertyKey(),this.context.allowYield=!1,o=this.parseGetterMethod();else if(3===r.type&&!c&&"set"===r.value&&f)e="set",u=this.match("["),n=this.parseObjectPropertyKey(),o=this.parseSetterMethod();else if(7===r.type&&"*"===r.value&&f)e="init",u=this.match("["),n=this.parseObjectPropertyKey(),o=this.parseGeneratorMethod(),h=!0;else if(n||this.throwUnexpectedToken(this.lookahead),e="init",this.match(":")&&!c)!u&&this.isPropertyKey(n,"__proto__")&&(t.value&&this.tolerateError(s.Messages.DuplicateProtoProperty),t.value=!0),this.nextToken(),o=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))o=c?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),h=!0;else if(3===r.type){p=this.finalize(i,new a.Identifier(r.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),l=!0;var d=this.isolateCoverGrammar(this.parseAssignmentExpression);o=this.finalize(i,new a.AssignmentPattern(p,d))}else l=!0,o=p}else this.throwUnexpectedToken(this.nextToken());return this.finalize(i,new a.Property(e,n,u,o,h,l))},t.prototype.parseObjectInitializer=function(){var t=this.createNode();this.expect("{");for(var e=[],i={value:!1};!this.match("}");)e.push(this.parseObjectProperty(i)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(t,new a.ObjectExpression(e))},t.prototype.parseTemplateHead=function(){r.assert(this.lookahead.head,"Template literal must start with a template head");var t=this.createNode(),e=this.nextToken(),i=e.value,n=e.cooked;return this.finalize(t,new a.TemplateElement({raw:i,cooked:n},e.tail))},t.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var t=this.createNode(),e=this.nextToken(),i=e.value,r=e.cooked;return this.finalize(t,new a.TemplateElement({raw:i,cooked:r},e.tail))},t.prototype.parseTemplateLiteral=function(){var t=this.createNode(),e=[],i=[],r=this.parseTemplateHead();for(i.push(r);!r.tail;)e.push(this.parseExpression()),r=this.parseTemplateElement(),i.push(r);return this.finalize(t,new a.TemplateLiteral(i,e))},t.prototype.reinterpretExpressionAsPattern=function(t){switch(t.type){case u.Syntax.Identifier:case u.Syntax.MemberExpression:case u.Syntax.RestElement:case u.Syntax.AssignmentPattern:break;case u.Syntax.SpreadElement:t.type=u.Syntax.RestElement,this.reinterpretExpressionAsPattern(t.argument);break;case u.Syntax.ArrayExpression:t.type=u.Syntax.ArrayPattern;for(var e=0;e<t.elements.length;e++)null!==t.elements[e]&&this.reinterpretExpressionAsPattern(t.elements[e]);break;case u.Syntax.ObjectExpression:t.type=u.Syntax.ObjectPattern;for(e=0;e<t.properties.length;e++)this.reinterpretExpressionAsPattern(t.properties[e].value);break;case u.Syntax.AssignmentExpression:t.type=u.Syntax.AssignmentPattern,delete t.operator,this.reinterpretExpressionAsPattern(t.left)}},t.prototype.parseGroupExpression=function(){var t;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),t={type:"ArrowParameterPlaceHolder",params:[],async:!1};else{var e=this.lookahead,i=[];if(this.match("..."))t=this.parseRestElement(i),this.expect(")"),this.match("=>")||this.expect("=>"),t={type:"ArrowParameterPlaceHolder",params:[t],async:!1};else{var r=!1;if(this.context.isBindingElement=!0,t=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var n=[];for(this.context.isAssignmentTarget=!1,n.push(t);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var s=0;s<n.length;s++)this.reinterpretExpressionAsPattern(n[s]);r=!0,t={type:"ArrowParameterPlaceHolder",params:n,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),n.push(this.parseRestElement(i)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(s=0;s<n.length;s++)this.reinterpretExpressionAsPattern(n[s]);r=!0,t={type:"ArrowParameterPlaceHolder",params:n,async:!1}}else n.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(r)break}r||(t=this.finalize(this.startNode(e),new a.SequenceExpression(n)))}if(!r){if(this.expect(")"),this.match("=>")&&(t.type===u.Syntax.Identifier&&"yield"===t.name&&(r=!0,t={type:"ArrowParameterPlaceHolder",params:[t],async:!1}),!r)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),t.type===u.Syntax.SequenceExpression)for(s=0;s<t.expressions.length;s++)this.reinterpretExpressionAsPattern(t.expressions[s]);else this.reinterpretExpressionAsPattern(t);t={type:"ArrowParameterPlaceHolder",params:t.type===u.Syntax.SequenceExpression?t.expressions:[t],async:!1}}this.context.isBindingElement=!1}}}return t},t.prototype.parseArguments=function(){this.expect("(");var t=[];if(!this.match(")"))for(;;){var e=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(t.push(e),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),t},t.prototype.isIdentifierName=function(t){return 3===t.type||4===t.type||1===t.type||5===t.type},t.prototype.parseIdentifierName=function(){var t=this.createNode(),e=this.nextToken();return this.isIdentifierName(e)||this.throwUnexpectedToken(e),this.finalize(t,new a.Identifier(e.value))},t.prototype.parseNewExpression=function(){var t,e=this.createNode(),i=this.parseIdentifierName();if(r.assert("new"===i.name,"New expression must start with `new`"),this.match("."))if(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value){var n=this.parseIdentifierName();t=new a.MetaProperty(i,n)}else this.throwUnexpectedToken(this.lookahead);else{var s=this.isolateCoverGrammar(this.parseLeftHandSideExpression),o=this.match("(")?this.parseArguments():[];t=new a.NewExpression(s,o),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(e,t)},t.prototype.parseAsyncArgument=function(){var t=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,t},t.prototype.parseAsyncArguments=function(){this.expect("(");var t=[];if(!this.match(")"))for(;;){var e=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(t.push(e),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),t},t.prototype.parseLeftHandSideExpressionAllowCall=function(){var t,e=this.lookahead,i=this.matchContextualKeyword("async"),r=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(t=this.createNode(),this.nextToken(),t=this.finalize(t,new a.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):t=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var n=this.parseIdentifierName();t=this.finalize(this.startNode(e),new a.StaticMemberExpression(t,n))}else if(this.match("(")){var s=i&&e.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var o=s?this.parseAsyncArguments():this.parseArguments();if(t=this.finalize(this.startNode(e),new a.CallExpression(t,o)),s&&this.match("=>")){for(var u=0;u<o.length;++u)this.reinterpretExpressionAsPattern(o[u]);t={type:"ArrowParameterPlaceHolder",params:o,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(this.startNode(e),new a.ComputedMemberExpression(t,n))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var h=this.parseTemplateLiteral();t=this.finalize(this.startNode(e),new a.TaggedTemplateExpression(t,h))}return this.context.allowIn=r,t},t.prototype.parseSuper=function(){var t=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(t,new a.Super)},t.prototype.parseLeftHandSideExpression=function(){r.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var t=this.startNode(this.lookahead),e=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var i=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),e=this.finalize(t,new a.ComputedMemberExpression(e,i))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");i=this.parseIdentifierName();e=this.finalize(t,new a.StaticMemberExpression(e,i))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var n=this.parseTemplateLiteral();e=this.finalize(t,new a.TaggedTemplateExpression(e,n))}return e},t.prototype.parseUpdateExpression=function(){var t,e=this.lookahead;if(this.match("++")||this.match("--")){var i=this.startNode(e),r=this.nextToken();t=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&t.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(t.name)&&this.tolerateError(s.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment);var n=!0;t=this.finalize(i,new a.UpdateExpression(r.value,t,n)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(t=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.strict&&t.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(t.name)&&this.tolerateError(s.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var o=this.nextToken().value;n=!1;t=this.finalize(this.startNode(e),new a.UpdateExpression(o,t,n))}return t},t.prototype.parseAwaitExpression=function(){var t=this.createNode();this.nextToken();var e=this.parseUnaryExpression();return this.finalize(t,new a.AwaitExpression(e))},t.prototype.parseUnaryExpression=function(){var t;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var e=this.startNode(this.lookahead),i=this.nextToken();t=this.inheritCoverGrammar(this.parseUnaryExpression),t=this.finalize(e,new a.UnaryExpression(i.value,t)),this.context.strict&&"delete"===t.operator&&t.argument.type===u.Syntax.Identifier&&this.tolerateError(s.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else t=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression();return t},t.prototype.parseExponentiationExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseUnaryExpression);if(e.type!==u.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var i=e,r=this.isolateCoverGrammar(this.parseExponentiationExpression);e=this.finalize(this.startNode(t),new a.BinaryExpression("**",i,r))}return e},t.prototype.binaryPrecedence=function(t){var e=t.value;return 7===t.type?this.operatorPrecedence[e]||0:4===t.type&&("instanceof"===e||this.context.allowIn&&"in"===e)?7:0},t.prototype.parseBinaryExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseExponentiationExpression),i=this.lookahead,r=this.binaryPrecedence(i);if(r>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var n=[t,this.lookahead],s=e,o=this.isolateCoverGrammar(this.parseExponentiationExpression),u=[s,i.value,o],h=[r];!((r=this.binaryPrecedence(this.lookahead))<=0);){for(;u.length>2&&r<=h[h.length-1];){o=u.pop();var l=u.pop();h.pop(),s=u.pop(),n.pop();var c=this.startNode(n[n.length-1]);u.push(this.finalize(c,new a.BinaryExpression(l,s,o)))}u.push(this.nextToken().value),h.push(r),n.push(this.lookahead),u.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var p=u.length-1;e=u[p];for(var f=n.pop();p>1;){var d=n.pop(),v=f&&f.lineStart;c=this.startNode(d,v),l=u[p-1];e=this.finalize(c,new a.BinaryExpression(l,u[p-2],e)),p-=2,f=d}}return e},t.prototype.parseConditionalExpression=function(){var t=this.lookahead,e=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var i=this.context.allowIn;this.context.allowIn=!0;var r=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=i,this.expect(":");var n=this.isolateCoverGrammar(this.parseAssignmentExpression);e=this.finalize(this.startNode(t),new a.ConditionalExpression(e,r,n)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return e},t.prototype.checkPatternParam=function(t,e){switch(e.type){case u.Syntax.Identifier:this.validateParam(t,e,e.name);break;case u.Syntax.RestElement:this.checkPatternParam(t,e.argument);break;case u.Syntax.AssignmentPattern:this.checkPatternParam(t,e.left);break;case u.Syntax.ArrayPattern:for(var i=0;i<e.elements.length;i++)null!==e.elements[i]&&this.checkPatternParam(t,e.elements[i]);break;case u.Syntax.ObjectPattern:for(i=0;i<e.properties.length;i++)this.checkPatternParam(t,e.properties[i].value)}t.simple=t.simple&&e instanceof a.Identifier},t.prototype.reinterpretAsCoverFormalsList=function(t){var e,i=[t],r=!1;switch(t.type){case u.Syntax.Identifier:break;case"ArrowParameterPlaceHolder":i=t.params,r=t.async;break;default:return null}e={simple:!0,paramSet:{}};for(var n=0;n<i.length;++n){(a=i[n]).type===u.Syntax.AssignmentPattern?a.right.type===u.Syntax.YieldExpression&&(a.right.argument&&this.throwUnexpectedToken(this.lookahead),a.right.type=u.Syntax.Identifier,a.right.name="yield",delete a.right.argument,delete a.right.delegate):r&&a.type===u.Syntax.Identifier&&"await"===a.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(e,a),i[n]=a}if(this.context.strict||!this.context.allowYield)for(n=0;n<i.length;++n){var a;(a=i[n]).type===u.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(e.message===s.Messages.StrictParamDupe){var o=this.context.strict?e.stricted:e.firstRestricted;this.throwUnexpectedToken(o,e.message)}return{simple:e.simple,params:i,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}},t.prototype.parseAssignmentExpression=function(){var t;if(!this.context.allowYield&&this.matchKeyword("yield"))t=this.parseYieldExpression();else{var e=this.lookahead,i=e;if(t=this.parseConditionalExpression(),3===i.type&&i.lineNumber===this.lookahead.lineNumber&&"async"===i.value&&(3===this.lookahead.type||this.matchKeyword("yield"))){var r=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(r),t={type:"ArrowParameterPlaceHolder",params:[r],async:!0}}if("ArrowParameterPlaceHolder"===t.type||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var n=t.async,o=this.reinterpretAsCoverFormalsList(t);if(o){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var h=this.context.strict,l=this.context.allowStrictDirective;this.context.allowStrictDirective=o.simple;var c=this.context.allowYield,p=this.context.await;this.context.allowYield=!0,this.context.await=n;var f=this.startNode(e);this.expect("=>");var d=void 0;if(this.match("{")){var v=this.context.allowIn;this.context.allowIn=!0,d=this.parseFunctionSourceElements(),this.context.allowIn=v}else d=this.isolateCoverGrammar(this.parseAssignmentExpression);var m=d.type!==u.Syntax.BlockStatement;this.context.strict&&o.firstRestricted&&this.throwUnexpectedToken(o.firstRestricted,o.message),this.context.strict&&o.stricted&&this.tolerateUnexpectedToken(o.stricted,o.message),t=n?this.finalize(f,new a.AsyncArrowFunctionExpression(o.params,d,m)):this.finalize(f,new a.ArrowFunctionExpression(o.params,d,m)),this.context.strict=h,this.context.allowStrictDirective=l,this.context.allowYield=c,this.context.await=p}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(s.Messages.InvalidLHSInAssignment),this.context.strict&&t.type===u.Syntax.Identifier){var g=t;this.scanner.isRestrictedWord(g.name)&&this.tolerateUnexpectedToken(i,s.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(g.name)&&this.tolerateUnexpectedToken(i,s.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(t):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);var x=(i=this.nextToken()).value,y=this.isolateCoverGrammar(this.parseAssignmentExpression);t=this.finalize(this.startNode(e),new a.AssignmentExpression(x,t,y)),this.context.firstCoverInitializedNameError=null}}return t},t.prototype.parseExpression=function(){var t=this.lookahead,e=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var i=[];for(i.push(e);2!==this.lookahead.type&&this.match(",");)this.nextToken(),i.push(this.isolateCoverGrammar(this.parseAssignmentExpression));e=this.finalize(this.startNode(t),new a.SequenceExpression(i))}return e},t.prototype.parseStatementListItem=function(){var t;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalExportDeclaration),t=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,s.Messages.IllegalImportDeclaration),t=this.parseImportDeclaration();break;case"const":t=this.parseLexicalDeclaration({inFor:!1});break;case"function":t=this.parseFunctionDeclaration();break;case"class":t=this.parseClassDeclaration();break;case"let":t=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:t=this.parseStatement()}else t=this.parseStatement();return t},t.prototype.parseBlock=function(){var t=this.createNode();this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseStatementListItem());return this.expect("}"),this.finalize(t,new a.BlockStatement(e))},t.prototype.parseLexicalBinding=function(t,e){var i=this.createNode(),r=this.parsePattern([],t);this.context.strict&&r.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(s.Messages.StrictVarName);var n=null;return"const"===t?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),n=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(s.Messages.DeclarationMissingInitializer,"const")):(!e.inFor&&r.type!==u.Syntax.Identifier||this.match("="))&&(this.expect("="),n=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(i,new a.VariableDeclarator(r,n))},t.prototype.parseBindingList=function(t,e){for(var i=[this.parseLexicalBinding(t,e)];this.match(",");)this.nextToken(),i.push(this.parseLexicalBinding(t,e));return i},t.prototype.isLexicalDeclaration=function(){var t=this.scanner.saveState();this.scanner.scanComments();var e=this.scanner.lex();return this.scanner.restoreState(t),3===e.type||7===e.type&&"["===e.value||7===e.type&&"{"===e.value||4===e.type&&"let"===e.value||4===e.type&&"yield"===e.value},t.prototype.parseLexicalDeclaration=function(t){var e=this.createNode(),i=this.nextToken().value;r.assert("let"===i||"const"===i,"Lexical declaration must be either let or const");var n=this.parseBindingList(i,t);return this.consumeSemicolon(),this.finalize(e,new a.VariableDeclaration(n,i))},t.prototype.parseBindingRestElement=function(t,e){var i=this.createNode();this.expect("...");var r=this.parsePattern(t,e);return this.finalize(i,new a.RestElement(r))},t.prototype.parseArrayPattern=function(t,e){var i=this.createNode();this.expect("[");for(var r=[];!this.match("]");)if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(t,e));break}r.push(this.parsePatternWithDefault(t,e)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(i,new a.ArrayPattern(r))},t.prototype.parsePropertyPattern=function(t,e){var i,r,n=this.createNode(),s=!1,o=!1;if(3===this.lookahead.type){var u=this.lookahead;i=this.parseVariableIdentifier();var h=this.finalize(n,new a.Identifier(u.value));if(this.match("=")){t.push(u),o=!0,this.nextToken();var l=this.parseAssignmentExpression();r=this.finalize(this.startNode(u),new a.AssignmentPattern(h,l))}else this.match(":")?(this.expect(":"),r=this.parsePatternWithDefault(t,e)):(t.push(u),o=!0,r=h)}else s=this.match("["),i=this.parseObjectPropertyKey(),this.expect(":"),r=this.parsePatternWithDefault(t,e);return this.finalize(n,new a.Property("init",i,s,r,!1,o))},t.prototype.parseObjectPattern=function(t,e){var i=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(t,e)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(i,new a.ObjectPattern(r))},t.prototype.parsePattern=function(t,e){var i;return this.match("[")?i=this.parseArrayPattern(t,e):this.match("{")?i=this.parseObjectPattern(t,e):(!this.matchKeyword("let")||"const"!==e&&"let"!==e||this.tolerateUnexpectedToken(this.lookahead,s.Messages.LetInLexicalBinding),t.push(this.lookahead),i=this.parseVariableIdentifier(e)),i},t.prototype.parsePatternWithDefault=function(t,e){var i=this.lookahead,r=this.parsePattern(t,e);if(this.match("=")){this.nextToken();var n=this.context.allowYield;this.context.allowYield=!0;var s=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=n,r=this.finalize(this.startNode(i),new a.AssignmentPattern(r,s))}return r},t.prototype.parseVariableIdentifier=function(t){var e=this.createNode(),i=this.nextToken();return 4===i.type&&"yield"===i.value?this.context.strict?this.tolerateUnexpectedToken(i,s.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(i):3!==i.type?this.context.strict&&4===i.type&&this.scanner.isStrictModeReservedWord(i.value)?this.tolerateUnexpectedToken(i,s.Messages.StrictReservedWord):(this.context.strict||"let"!==i.value||"var"!==t)&&this.throwUnexpectedToken(i):(this.context.isModule||this.context.await)&&3===i.type&&"await"===i.value&&this.tolerateUnexpectedToken(i),this.finalize(e,new a.Identifier(i.value))},t.prototype.parseVariableDeclaration=function(t){var e=this.createNode(),i=this.parsePattern([],"var");this.context.strict&&i.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(s.Messages.StrictVarName);var r=null;return this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):i.type===u.Syntax.Identifier||t.inFor||this.expect("="),this.finalize(e,new a.VariableDeclarator(i,r))},t.prototype.parseVariableDeclarationList=function(t){var e={inFor:t.inFor},i=[];for(i.push(this.parseVariableDeclaration(e));this.match(",");)this.nextToken(),i.push(this.parseVariableDeclaration(e));return i},t.prototype.parseVariableStatement=function(){var t=this.createNode();this.expectKeyword("var");var e=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(t,new a.VariableDeclaration(e,"var"))},t.prototype.parseEmptyStatement=function(){var t=this.createNode();return this.expect(";"),this.finalize(t,new a.EmptyStatement)},t.prototype.parseExpressionStatement=function(){var t=this.createNode(),e=this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new a.ExpressionStatement(e))},t.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(s.Messages.StrictFunction),this.parseStatement()},t.prototype.parseIfStatement=function(){var t,e=this.createNode(),i=null;this.expectKeyword("if"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),t=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),i=this.parseIfClause())),this.finalize(e,new a.IfStatement(r,t,i))},t.prototype.parseDoWhileStatement=function(){var t=this.createNode();this.expectKeyword("do");var e=this.context.inIteration;this.context.inIteration=!0;var i=this.parseStatement();this.context.inIteration=e,this.expectKeyword("while"),this.expect("(");var r=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(t,new a.DoWhileStatement(i,r))},t.prototype.parseWhileStatement=function(){var t,e=this.createNode();this.expectKeyword("while"),this.expect("(");var i=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var r=this.context.inIteration;this.context.inIteration=!0,t=this.parseStatement(),this.context.inIteration=r}return this.finalize(e,new a.WhileStatement(i,t))},t.prototype.parseForStatement=function(){var t,e,i,r=null,n=null,o=null,h=!0,l=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){r=this.createNode(),this.nextToken();var c=this.context.allowIn;this.context.allowIn=!1;var p=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=c,1===p.length&&this.matchKeyword("in")){var f=p[0];f.init&&(f.id.type===u.Syntax.ArrayPattern||f.id.type===u.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(s.Messages.ForInOfLoopInitializer,"for-in"),r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.nextToken(),t=r,e=this.parseExpression(),r=null}else 1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.nextToken(),t=r,e=this.parseAssignmentExpression(),r=null,h=!1):(r=this.finalize(r,new a.VariableDeclaration(p,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){r=this.createNode();var d=this.nextToken().value;if(this.context.strict||"in"!==this.lookahead.value){c=this.context.allowIn;this.context.allowIn=!1;p=this.parseBindingList(d,{inFor:!0});this.context.allowIn=c,1===p.length&&null===p[0].init&&this.matchKeyword("in")?(r=this.finalize(r,new a.VariableDeclaration(p,d)),this.nextToken(),t=r,e=this.parseExpression(),r=null):1===p.length&&null===p[0].init&&this.matchContextualKeyword("of")?(r=this.finalize(r,new a.VariableDeclaration(p,d)),this.nextToken(),t=r,e=this.parseAssignmentExpression(),r=null,h=!1):(this.consumeSemicolon(),r=this.finalize(r,new a.VariableDeclaration(p,d)))}else r=this.finalize(r,new a.Identifier(d)),this.nextToken(),t=r,e=this.parseExpression(),r=null}else{var v=this.lookahead;c=this.context.allowIn;if(this.context.allowIn=!1,r=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=c,this.matchKeyword("in"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(s.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(r),t=r,e=this.parseExpression(),r=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&r.type!==u.Syntax.AssignmentExpression||this.tolerateError(s.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(r),t=r,e=this.parseAssignmentExpression(),r=null,h=!1;else{if(this.match(",")){for(var m=[r];this.match(",");)this.nextToken(),m.push(this.isolateCoverGrammar(this.parseAssignmentExpression));r=this.finalize(this.startNode(v),new a.SequenceExpression(m))}this.expect(";")}}if(void 0===t&&(this.match(";")||(n=this.parseExpression()),this.expect(";"),this.match(")")||(o=this.parseExpression())),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),i=this.finalize(this.createNode(),new a.EmptyStatement);else{this.expect(")");var g=this.context.inIteration;this.context.inIteration=!0,i=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=g}return void 0===t?this.finalize(l,new a.ForStatement(r,n,o,i)):h?this.finalize(l,new a.ForInStatement(t,e,i)):this.finalize(l,new a.ForOfStatement(t,e,i))},t.prototype.parseContinueStatement=function(){var t=this.createNode();this.expectKeyword("continue");var e=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var i=this.parseVariableIdentifier();e=i;var r="$"+i.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(s.Messages.UnknownLabel,i.name)}return this.consumeSemicolon(),null!==e||this.context.inIteration||this.throwError(s.Messages.IllegalContinue),this.finalize(t,new a.ContinueStatement(e))},t.prototype.parseBreakStatement=function(){var t=this.createNode();this.expectKeyword("break");var e=null;if(3===this.lookahead.type&&!this.hasLineTerminator){var i=this.parseVariableIdentifier(),r="$"+i.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,r)||this.throwError(s.Messages.UnknownLabel,i.name),e=i}return this.consumeSemicolon(),null!==e||this.context.inIteration||this.context.inSwitch||this.throwError(s.Messages.IllegalBreak),this.finalize(t,new a.BreakStatement(e))},t.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(s.Messages.IllegalReturn);var t=this.createNode();this.expectKeyword("return");var e=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type||8===this.lookahead.type||10===this.lookahead.type?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(t,new a.ReturnStatement(e))},t.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(s.Messages.StrictModeWith);var t,e=this.createNode();this.expectKeyword("with"),this.expect("(");var i=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new a.EmptyStatement)):(this.expect(")"),t=this.parseStatement()),this.finalize(e,new a.WithStatement(i,t))},t.prototype.parseSwitchCase=function(){var t,e=this.createNode();this.matchKeyword("default")?(this.nextToken(),t=null):(this.expectKeyword("case"),t=this.parseExpression()),this.expect(":");for(var i=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)i.push(this.parseStatementListItem());return this.finalize(e,new a.SwitchCase(t,i))},t.prototype.parseSwitchStatement=function(){var t=this.createNode();this.expectKeyword("switch"),this.expect("(");var e=this.parseExpression();this.expect(")");var i=this.context.inSwitch;this.context.inSwitch=!0;var r=[],n=!1;for(this.expect("{");!this.match("}");){var o=this.parseSwitchCase();null===o.test&&(n&&this.throwError(s.Messages.MultipleDefaultsInSwitch),n=!0),r.push(o)}return this.expect("}"),this.context.inSwitch=i,this.finalize(t,new a.SwitchStatement(e,r))},t.prototype.parseLabelledStatement=function(){var t,e=this.createNode(),i=this.parseExpression();if(i.type===u.Syntax.Identifier&&this.match(":")){this.nextToken();var r=i,n="$"+r.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,n)&&this.throwError(s.Messages.Redeclaration,"Label",r.name),this.context.labelSet[n]=!0;var o=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),o=this.parseClassDeclaration();else if(this.matchKeyword("function")){var h=this.lookahead,l=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(h,s.Messages.StrictFunction):l.generator&&this.tolerateUnexpectedToken(h,s.Messages.GeneratorInLegacyContext),o=l}else o=this.parseStatement();delete this.context.labelSet[n],t=new a.LabeledStatement(r,o)}else this.consumeSemicolon(),t=new a.ExpressionStatement(i);return this.finalize(e,t)},t.prototype.parseThrowStatement=function(){var t=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(s.Messages.NewlineAfterThrow);var e=this.parseExpression();return this.consumeSemicolon(),this.finalize(t,new a.ThrowStatement(e))},t.prototype.parseCatchClause=function(){var t=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var e=[],i=this.parsePattern(e),r={},n=0;n<e.length;n++){var o="$"+e[n].value;Object.prototype.hasOwnProperty.call(r,o)&&this.tolerateError(s.Messages.DuplicateBinding,e[n].value),r[o]=!0}this.context.strict&&i.type===u.Syntax.Identifier&&this.scanner.isRestrictedWord(i.name)&&this.tolerateError(s.Messages.StrictCatchVariable),this.expect(")");var h=this.parseBlock();return this.finalize(t,new a.CatchClause(i,h))},t.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},t.prototype.parseTryStatement=function(){var t=this.createNode();this.expectKeyword("try");var e=this.parseBlock(),i=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return i||r||this.throwError(s.Messages.NoCatchOrFinally),this.finalize(t,new a.TryStatement(e,i,r))},t.prototype.parseDebuggerStatement=function(){var t=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(t,new a.DebuggerStatement)},t.prototype.parseStatement=function(){var t;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:t=this.parseExpressionStatement();break;case 7:var e=this.lookahead.value;t="{"===e?this.parseBlock():"("===e?this.parseExpressionStatement():";"===e?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:t=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":t=this.parseBreakStatement();break;case"continue":t=this.parseContinueStatement();break;case"debugger":t=this.parseDebuggerStatement();break;case"do":t=this.parseDoWhileStatement();break;case"for":t=this.parseForStatement();break;case"function":t=this.parseFunctionDeclaration();break;case"if":t=this.parseIfStatement();break;case"return":t=this.parseReturnStatement();break;case"switch":t=this.parseSwitchStatement();break;case"throw":t=this.parseThrowStatement();break;case"try":t=this.parseTryStatement();break;case"var":t=this.parseVariableStatement();break;case"while":t=this.parseWhileStatement();break;case"with":t=this.parseWithStatement();break;default:t=this.parseExpressionStatement()}break;default:t=this.throwUnexpectedToken(this.lookahead)}return t},t.prototype.parseFunctionSourceElements=function(){var t=this.createNode();this.expect("{");var e=this.parseDirectivePrologues(),i=this.context.labelSet,r=this.context.inIteration,n=this.context.inSwitch,s=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)e.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=i,this.context.inIteration=r,this.context.inSwitch=n,this.context.inFunctionBody=s,this.finalize(t,new a.BlockStatement(e))},t.prototype.validateParam=function(t,e,i){var r="$"+i;this.context.strict?(this.scanner.isRestrictedWord(i)&&(t.stricted=e,t.message=s.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(t.paramSet,r)&&(t.stricted=e,t.message=s.Messages.StrictParamDupe)):t.firstRestricted||(this.scanner.isRestrictedWord(i)?(t.firstRestricted=e,t.message=s.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(i)?(t.firstRestricted=e,t.message=s.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(t.paramSet,r)&&(t.stricted=e,t.message=s.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(t.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):t.paramSet[r]=!0},t.prototype.parseRestElement=function(t){var e=this.createNode();this.expect("...");var i=this.parsePattern(t);return this.match("=")&&this.throwError(s.Messages.DefaultRestParameter),this.match(")")||this.throwError(s.Messages.ParameterAfterRestParameter),this.finalize(e,new a.RestElement(i))},t.prototype.parseFormalParameter=function(t){for(var e=[],i=this.match("...")?this.parseRestElement(e):this.parsePatternWithDefault(e),r=0;r<e.length;r++)this.validateParam(t,e[r],e[r].value);t.simple=t.simple&&i instanceof a.Identifier,t.params.push(i)},t.prototype.parseFormalParameters=function(t){var e;if(e={simple:!0,params:[],firstRestricted:t},this.expect("("),!this.match(")"))for(e.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(e),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:e.simple,params:e.params,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}},t.prototype.matchAsyncFunction=function(){var t=this.matchContextualKeyword("async");if(t){var e=this.scanner.saveState();this.scanner.scanComments();var i=this.scanner.lex();this.scanner.restoreState(e),t=e.lineNumber===i.lineNumber&&4===i.type&&"function"===i.value}return t},t.prototype.parseFunctionDeclaration=function(t){var e=this.createNode(),i=this.matchContextualKeyword("async");i&&this.nextToken(),this.expectKeyword("function");var r,n=!i&&this.match("*");n&&this.nextToken();var o=null,u=null;if(!t||!this.match("(")){var h=this.lookahead;o=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(h.value)&&this.tolerateUnexpectedToken(h,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(h.value)?(u=h,r=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(h.value)&&(u=h,r=s.Messages.StrictReservedWord)}var l=this.context.await,c=this.context.allowYield;this.context.await=i,this.context.allowYield=!n;var p=this.parseFormalParameters(u),f=p.params,d=p.stricted;u=p.firstRestricted,p.message&&(r=p.message);var v=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=p.simple;var g=this.parseFunctionSourceElements();return this.context.strict&&u&&this.throwUnexpectedToken(u,r),this.context.strict&&d&&this.tolerateUnexpectedToken(d,r),this.context.strict=v,this.context.allowStrictDirective=m,this.context.await=l,this.context.allowYield=c,i?this.finalize(e,new a.AsyncFunctionDeclaration(o,f,g)):this.finalize(e,new a.FunctionDeclaration(o,f,g,n))},t.prototype.parseFunctionExpression=function(){var t=this.createNode(),e=this.matchContextualKeyword("async");e&&this.nextToken(),this.expectKeyword("function");var i,r=!e&&this.match("*");r&&this.nextToken();var n,o=null,u=this.context.await,h=this.context.allowYield;if(this.context.await=e,this.context.allowYield=!r,!this.match("(")){var l=this.lookahead;o=this.context.strict||r||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(l.value)&&this.tolerateUnexpectedToken(l,s.Messages.StrictFunctionName):this.scanner.isRestrictedWord(l.value)?(n=l,i=s.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(l.value)&&(n=l,i=s.Messages.StrictReservedWord)}var c=this.parseFormalParameters(n),p=c.params,f=c.stricted;n=c.firstRestricted,c.message&&(i=c.message);var d=this.context.strict,v=this.context.allowStrictDirective;this.context.allowStrictDirective=c.simple;var m=this.parseFunctionSourceElements();return this.context.strict&&n&&this.throwUnexpectedToken(n,i),this.context.strict&&f&&this.tolerateUnexpectedToken(f,i),this.context.strict=d,this.context.allowStrictDirective=v,this.context.await=u,this.context.allowYield=h,e?this.finalize(t,new a.AsyncFunctionExpression(o,p,m)):this.finalize(t,new a.FunctionExpression(o,p,m,r))},t.prototype.parseDirective=function(){var t=this.lookahead,e=this.createNode(),i=this.parseExpression(),r=i.type===u.Syntax.Literal?this.getTokenRaw(t).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(e,r?new a.Directive(i,r):new a.ExpressionStatement(i))},t.prototype.parseDirectivePrologues=function(){for(var t=null,e=[];;){var i=this.lookahead;if(8!==i.type)break;var r=this.parseDirective();e.push(r);var n=r.directive;if("string"!=typeof n)break;"use strict"===n?(this.context.strict=!0,t&&this.tolerateUnexpectedToken(t,s.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(i,s.Messages.IllegalLanguageModeDirective)):!t&&i.octal&&(t=i)}return e},t.prototype.qualifiedPropertyName=function(t){switch(t.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===t.value}return!1},t.prototype.parseGetterMethod=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters();i.params.length>0&&this.tolerateError(s.Messages.BadGetterArity);var r=this.parsePropertyMethod(i);return this.context.allowYield=e,this.finalize(t,new a.FunctionExpression(null,i.params,r,!1))},t.prototype.parseSetterMethod=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters();1!==i.params.length?this.tolerateError(s.Messages.BadSetterArity):i.params[0]instanceof a.RestElement&&this.tolerateError(s.Messages.BadSetterRestParameter);var r=this.parsePropertyMethod(i);return this.context.allowYield=e,this.finalize(t,new a.FunctionExpression(null,i.params,r,!1))},t.prototype.parseGeneratorMethod=function(){var t=this.createNode(),e=this.context.allowYield;this.context.allowYield=!0;var i=this.parseFormalParameters();this.context.allowYield=!1;var r=this.parsePropertyMethod(i);return this.context.allowYield=e,this.finalize(t,new a.FunctionExpression(null,i.params,r,!0))},t.prototype.isStartOfExpression=function(){var t=!0,e=this.lookahead.value;switch(this.lookahead.type){case 7:t="["===e||"("===e||"{"===e||"+"===e||"-"===e||"!"===e||"~"===e||"++"===e||"--"===e||"/"===e||"/="===e;break;case 4:t="class"===e||"delete"===e||"function"===e||"let"===e||"new"===e||"super"===e||"this"===e||"typeof"===e||"void"===e||"yield"===e}return t},t.prototype.parseYieldExpression=function(){var t=this.createNode();this.expectKeyword("yield");var e=null,i=!1;if(!this.hasLineTerminator){var r=this.context.allowYield;this.context.allowYield=!1,(i=this.match("*"))?(this.nextToken(),e=this.parseAssignmentExpression()):this.isStartOfExpression()&&(e=this.parseAssignmentExpression()),this.context.allowYield=r}return this.finalize(t,new a.YieldExpression(e,i))},t.prototype.parseClassElement=function(t){var e=this.lookahead,i=this.createNode(),r="",n=null,o=null,u=!1,h=!1,l=!1,c=!1;if(this.match("*"))this.nextToken();else if(u=this.match("["),"static"===(n=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(e=this.lookahead,l=!0,u=this.match("["),this.match("*")?this.nextToken():n=this.parseObjectPropertyKey()),3===e.type&&!this.hasLineTerminator&&"async"===e.value){var p=this.lookahead.value;":"!==p&&"("!==p&&"*"!==p&&(c=!0,e=this.lookahead,n=this.parseObjectPropertyKey(),3===e.type&&"constructor"===e.value&&this.tolerateUnexpectedToken(e,s.Messages.ConstructorIsAsync))}var f=this.qualifiedPropertyName(this.lookahead);return 3===e.type?"get"===e.value&&f?(r="get",u=this.match("["),n=this.parseObjectPropertyKey(),this.context.allowYield=!1,o=this.parseGetterMethod()):"set"===e.value&&f&&(r="set",u=this.match("["),n=this.parseObjectPropertyKey(),o=this.parseSetterMethod()):7===e.type&&"*"===e.value&&f&&(r="init",u=this.match("["),n=this.parseObjectPropertyKey(),o=this.parseGeneratorMethod(),h=!0),!r&&n&&this.match("(")&&(r="init",o=c?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),h=!0),r||this.throwUnexpectedToken(this.lookahead),"init"===r&&(r="method"),u||(l&&this.isPropertyKey(n,"prototype")&&this.throwUnexpectedToken(e,s.Messages.StaticPrototype),!l&&this.isPropertyKey(n,"constructor")&&(("method"!==r||!h||o&&o.generator)&&this.throwUnexpectedToken(e,s.Messages.ConstructorSpecialMethod),t.value?this.throwUnexpectedToken(e,s.Messages.DuplicateConstructor):t.value=!0,r="constructor")),this.finalize(i,new a.MethodDefinition(n,u,o,r,l))},t.prototype.parseClassElementList=function(){var t=[],e={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():t.push(this.parseClassElement(e));return this.expect("}"),t},t.prototype.parseClassBody=function(){var t=this.createNode(),e=this.parseClassElementList();return this.finalize(t,new a.ClassBody(e))},t.prototype.parseClassDeclaration=function(t){var e=this.createNode(),i=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var r=t&&3!==this.lookahead.type?null:this.parseVariableIdentifier(),n=null;this.matchKeyword("extends")&&(this.nextToken(),n=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var s=this.parseClassBody();return this.context.strict=i,this.finalize(e,new a.ClassDeclaration(r,n,s))},t.prototype.parseClassExpression=function(){var t=this.createNode(),e=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var i=3===this.lookahead.type?this.parseVariableIdentifier():null,r=null;this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var n=this.parseClassBody();return this.context.strict=e,this.finalize(t,new a.ClassExpression(i,r,n))},t.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var t=this.createNode(),e=this.parseDirectivePrologues();2!==this.lookahead.type;)e.push(this.parseStatementListItem());return this.finalize(t,new a.Module(e))},t.prototype.parseScript=function(){for(var t=this.createNode(),e=this.parseDirectivePrologues();2!==this.lookahead.type;)e.push(this.parseStatementListItem());return this.finalize(t,new a.Script(e))},t.prototype.parseModuleSpecifier=function(){var t=this.createNode();8!==this.lookahead.type&&this.throwError(s.Messages.InvalidModuleSpecifier);var e=this.nextToken(),i=this.getTokenRaw(e);return this.finalize(t,new a.Literal(e.value,i))},t.prototype.parseImportSpecifier=function(){var t,e,i=this.createNode();return 3===this.lookahead.type?(e=t=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),e=this.parseVariableIdentifier())):(e=t=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),e=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(i,new a.ImportSpecifier(e,t))},t.prototype.parseNamedImports=function(){this.expect("{");for(var t=[];!this.match("}");)t.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),t},t.prototype.parseImportDefaultSpecifier=function(){var t=this.createNode(),e=this.parseIdentifierName();return this.finalize(t,new a.ImportDefaultSpecifier(e))},t.prototype.parseImportNamespaceSpecifier=function(){var t=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(s.Messages.NoAsAfterImportNamespace),this.nextToken();var e=this.parseIdentifierName();return this.finalize(t,new a.ImportNamespaceSpecifier(e))},t.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalImportDeclaration);var t,e=this.createNode();this.expectKeyword("import");var i=[];if(8===this.lookahead.type)t=this.parseModuleSpecifier();else{if(this.match("{")?i=i.concat(this.parseNamedImports()):this.match("*")?i.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(i.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?i.push(this.parseImportNamespaceSpecifier()):this.match("{")?i=i.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var r=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken(),t=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(e,new a.ImportDeclaration(i,t))},t.prototype.parseExportSpecifier=function(){var t=this.createNode(),e=this.parseIdentifierName(),i=e;return this.matchContextualKeyword("as")&&(this.nextToken(),i=this.parseIdentifierName()),this.finalize(t,new a.ExportSpecifier(e,i))},t.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(s.Messages.IllegalExportDeclaration);var t,e=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var i=this.parseFunctionDeclaration(!0);t=this.finalize(e,new a.ExportDefaultDeclaration(i))}else if(this.matchKeyword("class")){i=this.parseClassDeclaration(!0);t=this.finalize(e,new a.ExportDefaultDeclaration(i))}else if(this.matchContextualKeyword("async")){i=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();t=this.finalize(e,new a.ExportDefaultDeclaration(i))}else{this.matchContextualKeyword("from")&&this.throwError(s.Messages.UnexpectedToken,this.lookahead.value);i=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),t=this.finalize(e,new a.ExportDefaultDeclaration(i))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var r=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}this.nextToken();var n=this.parseModuleSpecifier();this.consumeSemicolon(),t=this.finalize(e,new a.ExportAllDeclaration(n))}else if(4===this.lookahead.type){i=void 0;switch(this.lookahead.value){case"let":case"const":i=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":i=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}t=this.finalize(e,new a.ExportNamedDeclaration(i,[],null))}else if(this.matchAsyncFunction()){i=this.parseFunctionDeclaration();t=this.finalize(e,new a.ExportNamedDeclaration(i,[],null))}else{var o=[],u=null,h=!1;for(this.expect("{");!this.match("}");)h=h||this.matchKeyword("default"),o.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),u=this.parseModuleSpecifier(),this.consumeSemicolon();else if(h){r=this.lookahead.value?s.Messages.UnexpectedToken:s.Messages.MissingFromClause;this.throwError(r,this.lookahead.value)}else this.consumeSemicolon();t=this.finalize(e,new a.ExportNamedDeclaration(null,o,u))}return t},t}();e.Parser=l},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assert=function(t,e){if(!t)throw new Error("ASSERT: "+e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.errors=[],this.tolerant=!1}return t.prototype.recordError=function(t){this.errors.push(t)},t.prototype.tolerate=function(t){if(!this.tolerant)throw t;this.recordError(t)},t.prototype.constructError=function(t,e){var i=new Error(t);try{throw i}catch(t){Object.create&&Object.defineProperty&&(i=Object.create(t),Object.defineProperty(i,"column",{value:e}))}return i},t.prototype.createError=function(t,e,i,r){var n="Line "+e+": "+r,s=this.constructError(n,i);return s.index=t,s.lineNumber=e,s.description=r,s},t.prototype.throwError=function(t,e,i,r){throw this.createError(t,e,i,r)},t.prototype.tolerateError=function(t,e,i,r){var n=this.createError(t,e,i,r);if(!this.tolerant)throw n;this.recordError(n)},t}();e.ErrorHandler=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(9),n=i(4),s=i(11);function a(t){return"0123456789abcdef".indexOf(t.toLowerCase())}function o(t){return"01234567".indexOf(t)}var u=function(){function t(t,e){this.source=t,this.errorHandler=e,this.trackComment=!1,this.isModule=!1,this.length=t.length,this.index=0,this.lineNumber=t.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return t.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},t.prototype.restoreState=function(t){this.index=t.index,this.lineNumber=t.lineNumber,this.lineStart=t.lineStart},t.prototype.eof=function(){return this.index>=this.length},t.prototype.throwUnexpectedToken=function(t){return void 0===t&&(t=s.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,t)},t.prototype.tolerateUnexpectedToken=function(t){void 0===t&&(t=s.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,t)},t.prototype.skipSingleLineComment=function(t){var e,i,r=[];for(this.trackComment&&(r=[],e=this.index-t,i={start:{line:this.lineNumber,column:this.index-this.lineStart-t},end:{}});!this.eof();){var s=this.source.charCodeAt(this.index);if(++this.index,n.Character.isLineTerminator(s)){if(this.trackComment){i.end={line:this.lineNumber,column:this.index-this.lineStart-1};var a={multiLine:!1,slice:[e+t,this.index-1],range:[e,this.index-1],loc:i};r.push(a)}return 13===s&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,r}}if(this.trackComment){i.end={line:this.lineNumber,column:this.index-this.lineStart};a={multiLine:!1,slice:[e+t,this.index],range:[e,this.index],loc:i};r.push(a)}return r},t.prototype.skipMultiLineComment=function(){var t,e,i=[];for(this.trackComment&&(i=[],t=this.index-2,e={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r=this.source.charCodeAt(this.index);if(n.Character.isLineTerminator(r))13===r&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===r){if(47===this.source.charCodeAt(this.index+1)){if(this.index+=2,this.trackComment){e.end={line:this.lineNumber,column:this.index-this.lineStart};var s={multiLine:!0,slice:[t+2,this.index-2],range:[t,this.index],loc:e};i.push(s)}return i}++this.index}else++this.index}if(this.trackComment){e.end={line:this.lineNumber,column:this.index-this.lineStart};s={multiLine:!0,slice:[t+2,this.index],range:[t,this.index],loc:e};i.push(s)}return this.tolerateUnexpectedToken(),i},t.prototype.scanComments=function(){var t;this.trackComment&&(t=[]);for(var e=0===this.index;!this.eof();){var i=this.source.charCodeAt(this.index);if(n.Character.isWhiteSpace(i))++this.index;else if(n.Character.isLineTerminator(i))++this.index,13===i&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,e=!0;else if(47===i)if(47===(i=this.source.charCodeAt(this.index+1))){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(t=t.concat(r)),e=!0}else{if(42!==i)break;this.index+=2;r=this.skipMultiLineComment();this.trackComment&&(t=t.concat(r))}else if(e&&45===i){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;r=this.skipSingleLineComment(3);this.trackComment&&(t=t.concat(r))}else{if(60!==i||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;r=this.skipSingleLineComment(4);this.trackComment&&(t=t.concat(r))}}return t},t.prototype.isFutureReservedWord=function(t){switch(t){case"enum":case"export":case"import":case"super":return!0;default:return!1}},t.prototype.isStrictModeReservedWord=function(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},t.prototype.isRestrictedWord=function(t){return"eval"===t||"arguments"===t},t.prototype.isKeyword=function(t){switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}},t.prototype.codePointAt=function(t){var e=this.source.charCodeAt(t);if(e>=55296&&e<=56319){var i=this.source.charCodeAt(t+1);if(i>=56320&&i<=57343)e=1024*(e-55296)+i-56320+65536}return e},t.prototype.scanHexEscape=function(t){for(var e="u"===t?4:2,i=0,r=0;r<e;++r){if(this.eof()||!n.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;i=16*i+a(this.source[this.index++])}return String.fromCharCode(i)},t.prototype.scanUnicodeCodePointEscape=function(){var t=this.source[this.index],e=0;for("}"===t&&this.throwUnexpectedToken();!this.eof()&&(t=this.source[this.index++],n.Character.isHexDigit(t.charCodeAt(0)));)e=16*e+a(t);return(e>1114111||"}"!==t)&&this.throwUnexpectedToken(),n.Character.fromCodePoint(e)},t.prototype.getIdentifier=function(){for(var t=this.index++;!this.eof();){var e=this.source.charCodeAt(this.index);if(92===e)return this.index=t,this.getComplexIdentifier();if(e>=55296&&e<57343)return this.index=t,this.getComplexIdentifier();if(!n.Character.isIdentifierPart(e))break;++this.index}return this.source.slice(t,this.index)},t.prototype.getComplexIdentifier=function(){var t,e=this.codePointAt(this.index),i=n.Character.fromCodePoint(e);for(this.index+=i.length,92===e&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,t=this.scanUnicodeCodePointEscape()):null!==(t=this.scanHexEscape("u"))&&"\\"!==t&&n.Character.isIdentifierStart(t.charCodeAt(0))||this.throwUnexpectedToken(),i=t);!this.eof()&&(e=this.codePointAt(this.index),n.Character.isIdentifierPart(e));)i+=t=n.Character.fromCodePoint(e),this.index+=t.length,92===e&&(i=i.substr(0,i.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,t=this.scanUnicodeCodePointEscape()):null!==(t=this.scanHexEscape("u"))&&"\\"!==t&&n.Character.isIdentifierPart(t.charCodeAt(0))||this.throwUnexpectedToken(),i+=t);return i},t.prototype.octalToDecimal=function(t){var e="0"!==t,i=o(t);return!this.eof()&&n.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(e=!0,i=8*i+o(this.source[this.index++]),"0123".indexOf(t)>=0&&!this.eof()&&n.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(i=8*i+o(this.source[this.index++]))),{code:i,octal:e}},t.prototype.scanIdentifier=function(){var t,e=this.index,i=92===this.source.charCodeAt(e)?this.getComplexIdentifier():this.getIdentifier();if(3!==(t=1===i.length?3:this.isKeyword(i)?4:"null"===i?5:"true"===i||"false"===i?1:3)&&e+i.length!==this.index){var r=this.index;this.index=e,this.tolerateUnexpectedToken(s.Messages.InvalidEscapedReservedWord),this.index=r}return{type:t,value:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},t.prototype.scanPunctuator=function(){var t=this.index,e=this.source[this.index];switch(e){case"(":case"{":"{"===e&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,e="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(e=this.source.substr(this.index,4))?this.index+=4:"==="===(e=e.substr(0,3))||"!=="===e||">>>"===e||"<<="===e||">>="===e||"**="===e?this.index+=3:"&&"===(e=e.substr(0,2))||"||"===e||"=="===e||"!="===e||"+="===e||"-="===e||"*="===e||"/="===e||"++"===e||"--"===e||"<<"===e||">>"===e||"&="===e||"|="===e||"^="===e||"%="===e||"<="===e||">="===e||"=>"===e||"**"===e?this.index+=2:(e=this.source[this.index],"<>=!+-*%&|^/".indexOf(e)>=0&&++this.index)}return this.index===t&&this.throwUnexpectedToken(),{type:7,value:e,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanHexLiteral=function(t){for(var e="";!this.eof()&&n.Character.isHexDigit(this.source.charCodeAt(this.index));)e+=this.source[this.index++];return 0===e.length&&this.throwUnexpectedToken(),n.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+e,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanBinaryLiteral=function(t){for(var e,i="";!this.eof()&&("0"===(e=this.source[this.index])||"1"===e);)i+=this.source[this.index++];return 0===i.length&&this.throwUnexpectedToken(),this.eof()||(e=this.source.charCodeAt(this.index),(n.Character.isIdentifierStart(e)||n.Character.isDecimalDigit(e))&&this.throwUnexpectedToken()),{type:6,value:parseInt(i,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanOctalLiteral=function(t,e){var i="",r=!1;for(n.Character.isOctalDigit(t.charCodeAt(0))?(r=!0,i="0"+this.source[this.index++]):++this.index;!this.eof()&&n.Character.isOctalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];return r||0!==i.length||this.throwUnexpectedToken(),(n.Character.isIdentifierStart(this.source.charCodeAt(this.index))||n.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(i,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},t.prototype.isImplicitOctalLiteral=function(){for(var t=this.index+1;t<this.length;++t){var e=this.source[t];if("8"===e||"9"===e)return!1;if(!n.Character.isOctalDigit(e.charCodeAt(0)))return!0}return!0},t.prototype.scanNumericLiteral=function(){var t=this.index,e=this.source[t];r.assert(n.Character.isDecimalDigit(e.charCodeAt(0))||"."===e,"Numeric literal must start with a decimal digit or a decimal point");var i="";if("."!==e){if(i=this.source[this.index++],e=this.source[this.index],"0"===i){if("x"===e||"X"===e)return++this.index,this.scanHexLiteral(t);if("b"===e||"B"===e)return++this.index,this.scanBinaryLiteral(t);if("o"===e||"O"===e)return this.scanOctalLiteral(e,t);if(e&&n.Character.isOctalDigit(e.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(e,t)}for(;n.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];e=this.source[this.index]}if("."===e){for(i+=this.source[this.index++];n.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];e=this.source[this.index]}if("e"===e||"E"===e)if(i+=this.source[this.index++],"+"!==(e=this.source[this.index])&&"-"!==e||(i+=this.source[this.index++]),n.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;n.Character.isDecimalDigit(this.source.charCodeAt(this.index));)i+=this.source[this.index++];else this.throwUnexpectedToken();return n.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(i),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanStringLiteral=function(){var t=this.index,e=this.source[t];r.assert("'"===e||'"'===e,"String literal must starts with a quote"),++this.index;for(var i=!1,a="";!this.eof();){var o=this.source[this.index++];if(o===e){e="";break}if("\\"===o)if((o=this.source[this.index++])&&n.Character.isLineTerminator(o.charCodeAt(0)))++this.lineNumber,"\r"===o&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(o){case"u":if("{"===this.source[this.index])++this.index,a+=this.scanUnicodeCodePointEscape();else{var u=this.scanHexEscape(o);null===u&&this.throwUnexpectedToken(),a+=u}break;case"x":var h=this.scanHexEscape(o);null===h&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),a+=h;break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":a+="\t";break;case"b":a+="\b";break;case"f":a+="\f";break;case"v":a+="\v";break;case"8":case"9":a+=o,this.tolerateUnexpectedToken();break;default:if(o&&n.Character.isOctalDigit(o.charCodeAt(0))){var l=this.octalToDecimal(o);i=l.octal||i,a+=String.fromCharCode(l.code)}else a+=o}else{if(n.Character.isLineTerminator(o.charCodeAt(0)))break;a+=o}}return""!==e&&(this.index=t,this.throwUnexpectedToken()),{type:8,value:a,octal:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.scanTemplate=function(){var t="",e=!1,i=this.index,r="`"===this.source[i],a=!1,o=2;for(++this.index;!this.eof();){var u=this.source[this.index++];if("`"===u){o=1,a=!0,e=!0;break}if("$"===u){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,e=!0;break}t+=u}else if("\\"===u)if(u=this.source[this.index++],n.Character.isLineTerminator(u.charCodeAt(0)))++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(u){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"u":if("{"===this.source[this.index])++this.index,t+=this.scanUnicodeCodePointEscape();else{var h=this.index,l=this.scanHexEscape(u);null!==l?t+=l:(this.index=h,t+=u)}break;case"x":var c=this.scanHexEscape(u);null===c&&this.throwUnexpectedToken(s.Messages.InvalidHexEscapeSequence),t+=c;break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:"0"===u?(n.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral),t+="\0"):n.Character.isOctalDigit(u.charCodeAt(0))?this.throwUnexpectedToken(s.Messages.TemplateOctalLiteral):t+=u}else n.Character.isLineTerminator(u.charCodeAt(0))?(++this.lineNumber,"\r"===u&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,t+="\n"):t+=u}return e||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(i+1,this.index-o),cooked:t,head:r,tail:a,lineNumber:this.lineNumber,lineStart:this.lineStart,start:i,end:this.index}},t.prototype.testRegExp=function(t,e){var i=t,r=this;e.indexOf("u")>=0&&(i=i.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(t,e,i){var n=parseInt(e||i,16);return n>1114111&&r.throwUnexpectedToken(s.Messages.InvalidRegExp),n<=65535?String.fromCharCode(n):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(i)}catch(t){this.throwUnexpectedToken(s.Messages.InvalidRegExp)}try{return new RegExp(t,e)}catch(t){return null}},t.prototype.scanRegExpBody=function(){var t=this.source[this.index];r.assert("/"===t,"Regular expression literal must start with a slash");for(var e=this.source[this.index++],i=!1,a=!1;!this.eof();)if(e+=t=this.source[this.index++],"\\"===t)t=this.source[this.index++],n.Character.isLineTerminator(t.charCodeAt(0))&&this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),e+=t;else if(n.Character.isLineTerminator(t.charCodeAt(0)))this.throwUnexpectedToken(s.Messages.UnterminatedRegExp);else if(i)"]"===t&&(i=!1);else{if("/"===t){a=!0;break}"["===t&&(i=!0)}return a||this.throwUnexpectedToken(s.Messages.UnterminatedRegExp),e.substr(1,e.length-2)},t.prototype.scanRegExpFlags=function(){for(var t="";!this.eof();){var e=this.source[this.index];if(!n.Character.isIdentifierPart(e.charCodeAt(0)))break;if(++this.index,"\\"!==e||this.eof())t+=e,e;else if("u"===(e=this.source[this.index])){++this.index;var i=this.index,r=this.scanHexEscape("u");if(null!==r)for(t+=r,"\\u";i<this.index;++i)this.source[i];else this.index=i,t+="u","\\u";this.tolerateUnexpectedToken()}else"\\",this.tolerateUnexpectedToken()}return t},t.prototype.scanRegExp=function(){var t=this.index,e=this.scanRegExpBody(),i=this.scanRegExpFlags();return{type:9,value:"",pattern:e,flags:i,regex:this.testRegExp(e,i),lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},t.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var t=this.source.charCodeAt(this.index);return n.Character.isIdentifierStart(t)?this.scanIdentifier():40===t||41===t||59===t?this.scanPunctuator():39===t||34===t?this.scanStringLiteral():46===t?n.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():n.Character.isDecimalDigit(t)?this.scanNumericLiteral():96===t||125===t&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():t>=55296&&t<57343&&n.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},t}();e.Scanner=u},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenName={},e.TokenName[1]="Boolean",e.TokenName[2]="<end>",e.TokenName[3]="Identifier",e.TokenName[4]="Keyword",e.TokenName[5]="Null",e.TokenName[6]="Numeric",e.TokenName[7]="Punctuator",e.TokenName[8]="String",e.TokenName[9]="RegularExpression",e.TokenName[10]="Template"},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(10),n=i(12),s=i(13),a=function(){function t(){this.values=[],this.curly=this.paren=-1}return t.prototype.beforeFunctionExpression=function(t){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(t)>=0},t.prototype.isRegexStart=function(){var t=this.values[this.values.length-1],e=null!==t;switch(t){case"this":case"]":e=!1;break;case")":var i=this.values[this.paren-1];e="if"===i||"while"===i||"for"===i||"with"===i;break;case"}":if(e=!1,"function"===this.values[this.curly-3])e=!!(r=this.values[this.curly-4])&&!this.beforeFunctionExpression(r);else if("function"===this.values[this.curly-4]){var r;e=!(r=this.values[this.curly-5])||!this.beforeFunctionExpression(r)}}return e},t.prototype.push=function(t){7===t.type||4===t.type?("{"===t.value?this.curly=this.values.length:"("===t.value&&(this.paren=this.values.length),this.values.push(t.value)):this.values.push(null)},t}(),o=function(){function t(t,e){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!e&&("boolean"==typeof e.tolerant&&e.tolerant),this.scanner=new n.Scanner(t,this.errorHandler),this.scanner.trackComment=!!e&&("boolean"==typeof e.comment&&e.comment),this.trackRange=!!e&&("boolean"==typeof e.range&&e.range),this.trackLoc=!!e&&("boolean"==typeof e.loc&&e.loc),this.buffer=[],this.reader=new a}return t.prototype.errors=function(){return this.errorHandler.errors},t.prototype.getNextToken=function(){if(0===this.buffer.length){var t=this.scanner.scanComments();if(this.scanner.trackComment)for(var e=0;e<t.length;++e){var i=t[e],r=this.scanner.source.slice(i.slice[0],i.slice[1]),n={type:i.multiLine?"BlockComment":"LineComment",value:r};this.trackRange&&(n.range=i.range),this.trackLoc&&(n.loc=i.loc),this.buffer.push(n)}if(!this.scanner.eof()){var a=void 0;this.trackLoc&&(a={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var o="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(o);var u={type:s.TokenName[o.type],value:this.scanner.source.slice(o.start,o.end)};if(this.trackRange&&(u.range=[o.start,o.end]),this.trackLoc&&(a.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},u.loc=a),9===o.type){var h=o.pattern,l=o.flags;u.regex={pattern:h,flags:l}}this.buffer.push(u)}}return this.buffer.shift()},t}();e.Tokenizer=o}])});
//# sourceMappingURL=../../../maps/xtern-min.js.map
